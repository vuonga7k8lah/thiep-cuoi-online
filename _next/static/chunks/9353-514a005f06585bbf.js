(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9353],{43504:function(e,t,n){"use strict";var r=n(16835),a=n(19848),i=n.n(a),o=n(67294),s=n(50618),c=n(81323),l=n(94184),d=n.n(l),u=n(76975),x=n(7764),p=n(85518),f=n(85893),h=function(e){var t=e.place,n=e.marker,r=(0,c.Sx)();return(0,o.useEffect)(function(){var e,a,i;r&&t&&n&&(null!==(e=t.geometry)&&void 0!==e&&e.viewport&&r.fitBounds(null===(i=t.geometry)||void 0===i?void 0:i.viewport),n.position=null===(a=t.geometry)||void 0===a?void 0:a.location)},[r,t,n]),null},m=function(e){var t=e.onPlaceSelect,n=(0,o.useState)(null),r=n[0],a=n[1],i=(0,o.useRef)(null),s=(0,c.kY)("places");(0,o.useEffect)(function(){s&&i.current&&a(new s.Autocomplete(i.current,{fields:["geometry","name","formatted_address"]}))},[s]),(0,o.useEffect)(function(){r&&r.addListener("place_changed",function(){t(r.getPlace())})},[t,r]);var l=p.tq||p.Em;return(0,f.jsx)("div",{className:"autocomplete-container",style:{width:l?"100%":500,marginTop:10},children:(0,f.jsx)("input",{ref:i,className:"w-full placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow",placeholder:"Nhập địa chỉ hoặc địa điểm"})})};t.Z=function(e){var t=e.enableSearch,n=e.mapCoordinates,a=e.defaultCenter,l=void 0===a?u.he:a,p=e.defaultZoom,g=e.onSelectPlace,b=void 0===g?null:g,v=e.borderRadius,j=void 0===v?[0,0,0,0]:v,y=e.listingTitle,w=e.listingDescription,k=e.galleryImageUrl,N=(0,o.useState)(!1);N[0],N[1];var C=(0,o.useState)(null),S=C[0],A=C[1],Z=(0,c.Rt)(),T=(0,r.Z)(Z,2),E=T[0],O=T[1],P=(0,o.useState)(!1),D=P[0],I=P[1],R=(0,o.useState)(!1),z=R[0],B=R[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:i().dynamic([["18706560",[j[0],j[1],j[2],j[3]]]])+" advanced-marker-wrapper",children:(0,f.jsxs)(c.un,{apiKey:x.Z.MAP_API_KEY,libraries:["marker"],children:[(0,f.jsx)(c.D5,{mapId:x.Z.MAP_ID,defaultZoom:void 0===p?14:p,defaultCenter:l,center:n,gestureHandling:"greedy",disableDefaultUI:!0,children:(0,f.jsx)(c._Q,{ref:E,position:n||l,title:"AdvancedMarker with custom html content.",onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},className:d()("real-estate-marker",{clicked:D,hovered:z}),onClick:function(){return I(!D)},children:(0,f.jsx)(s.g,{galleryImageUrl:void 0===k?"/images/red-background-valentine.webp":k,listingTitle:y,listingDescription:w,clicked:D,showCloseButton:!0,onClose:function(){return I(!1)}})})}),void 0!==t&&t&&(0,f.jsx)(c.ZM,{position:c._D.TOP,children:(0,f.jsx)("div",{className:i().dynamic([["18706560",[j[0],j[1],j[2],j[3]]]])+" autocomplete-control",children:(0,f.jsx)(m,{onPlaceSelect:function(e){A(e),b&&b(e)}})})}),(0,f.jsx)(h,{place:S,marker:O})]})}),(0,f.jsx)(i(),{id:"18706560",dynamic:[j[0],j[1],j[2],j[3]],children:[".advanced-marker-wrapper>div>div{border-radius:".concat(j[0],"px ").concat(j[1],"px ").concat(j[2],"px ").concat(j[3],"px;}")]})]})}},50618:function(e,t,n){"use strict";n.d(t,{g:function(){return i}}),n(67294);var r=n(81376),a=n(85893),i=function(e){var t=e.galleryImageUrl,n=e.listingTitle,i=e.listingDescription,o=e.clicked,s=e.showCloseButton,c=e.onClose,l=e.className;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"custom-pin ".concat(void 0===l?"":l),children:[void 0!==s&&s&&(0,a.jsx)("button",{className:"close-button",onClick:c,children:(0,a.jsx)("span",{className:"material-symbols-outlined",children:" close "})}),(0,a.jsxs)("div",{className:"image-container",children:[(0,a.jsx)("div",{className:"photo-gallery ".concat(void 0!==o&&o?"extended":""),children:(0,a.jsx)("img",{src:t,alt:"Cinelove wedding map"})}),(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(r.WCP,{color:"white",size:24})})]}),(0,a.jsx)("div",{className:"details-container",children:(0,a.jsxs)("div",{className:"listing-content",children:[(0,a.jsx)("h2",{children:n}),(0,a.jsxs)("p",{className:"description",children:[i,(0,a.jsx)("span",{style:{color:"#ff8a80"},children:"♥"})]})]})})]}),(0,a.jsx)("div",{className:"tip"})]})}},85253:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(67294),a=n(55241),i=n(67623),o=n(5152),s=n.n(o),c=n(36238),l=n(85893),d=s()(function(){return n.e(1061).then(n.bind(n,61061)).then(function(e){return e.Sketch})},{ssr:!1,loadableGenerated:{webpack:function(){return[null]}}}),u=function(e){var t=e.value,n=e.onChange,o=e.showPresets,s=void 0===o||o,u=(0,r.useState)([]),x=u[0],p=u[1],f=(0,i.jE)().query;(0,r.useEffect)(function(){s&&p(function(){var e=f.serialize();if(!e)return[];var t="string"==typeof e?JSON.parse(e):e,n=new Set;return Object.values(t).forEach(function(e){if(e.props){var t;e.props.color&&"transparent"!==e.props.color&&"string"==typeof e.props.color&&e.props.color.startsWith("#")&&n.add(e.props.color),e.props.backgroundColor&&"transparent"!==e.props.backgroundColor&&"string"==typeof e.props.backgroundColor&&e.props.backgroundColor.startsWith("#")&&n.add(e.props.backgroundColor),e.props.borderColor&&""!==e.props.borderColor&&"transparent"!==e.props.borderColor&&"string"==typeof e.props.borderColor&&e.props.borderColor.startsWith("#")&&n.add(e.props.borderColor),null!==(t=e.props.boxShadow)&&void 0!==t&&t.color&&"transparent"!==e.props.boxShadow.color&&"string"==typeof e.props.boxShadow.color&&e.props.boxShadow.color.startsWith("#")&&n.add(e.props.boxShadow.color)}}),Array.from(n).slice(0,18)}())},[f,s]);var h=(0,l.jsx)(d,{color:t.startsWith("rgba")?(0,c.QU)(t):t,onChange:function(e){n({hex:e.hex,rgba:e.rgba})},presetColors:s?x:void 0});return(0,l.jsx)(a.Z,{content:h,trigger:"click",placement:"bottomRight",styles:{body:{padding:0}},children:(0,l.jsx)("div",{className:"w-6 h-6 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:t}})})}},25310:function(e,t,n){"use strict";n(67294);var r=n(34447),a=n(99611),i=n(85893);t.Z=function(e){var t=e.favoriteCount,n=e.viewCount,o=e.vertical,s=void 0===o||o,c=e.size,l=void 0===c?"default":c,d="flex ".concat(s?"flex-col":"flex-row"," ").concat(s?"gap-1":"gap-2"," items-").concat(s?"end":"center"),u="rounded-full text-xs font-medium flex items-center ".concat("small"===l?"px-1.5 py-0.5 text-[10px]":"px-2 py-1");return(0,i.jsxs)("div",{className:d,children:[(0,i.jsxs)("div",{style:{background:"#ff4d6d"},className:"text-white ".concat(u),children:[(0,i.jsx)(r.Z,{style:{marginRight:4,fontSize:"small"===l?10:14}}),void 0===t?0:t]}),(0,i.jsxs)("div",{className:"bg-blue-500 text-white ".concat(u),children:[(0,i.jsx)(a.Z,{style:{marginRight:4,fontSize:"small"===l?10:14}}),void 0===n?0:n]})]})}},57581:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(59499),a=n(67294),i=n(58115),o=n(42179),s=function(e){var t=e.transition,n=e.enabled,r=e.targetRef,s=t||o.b,c=(0,a.useState)(!1),l=c[0],d=c[1],u=(0,a.useState)(!1),x=u[0],p=u[1],f=(0,a.useState)(!0),h=f[0],m=f[1];(0,a.useEffect)(function(){m(!1)},[]);var g=(0,i.oN)(s,x);return(0,a.useEffect)(function(){if(s.effectEnabled&&n&&!h){p(!0),d(!1);var e=setTimeout(function(){d(!0),setTimeout(function(){p(!1)},(s.effectDuration+s.effectDelay)*1e3+100)},50);return function(){return clearTimeout(e)}}},[s.effectEnabled,s.effectType,s.effectDuration,s.effectDelay,s.effectEasing,n]),(0,a.useEffect)(function(){if(s.effectEnabled){var e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(d(!0),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return r.current&&e.observe(r.current),function(){r.current&&e.unobserve(r.current)}}},[s.effectEnabled,r]),{isVisible:l,effectChanged:x,effectKey:g}},c=n(85893);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){var t=e.transition,n=e.children,r=e.style,o=e.targetRef,l=e.enabled,u=e.onTransitionStart,x=e.onTransitionEnd,p=e.nodeId,f=s({transition:t,enabled:l,targetRef:o}),h=f.isVisible,m=f.effectChanged,g=f.effectKey,b=p?"".concat(p,"-").concat(g):g,v=d(d({},void 0===r?{}:r),(0,i.FO)(t,h));return(0,a.useEffect)(function(){m&&u&&u()},[m,u]),(0,a.useEffect)(function(){!m&&h&&x&&x()},[m,h,x]),(0,c.jsx)("div",{"data-transition-key":b,"data-node-id":p,style:v,children:n},b)}},67789:function(e,t,n){"use strict";var r=n(59499),a=n(19848),i=n.n(a),o=n(67294),s=n(52091),c=n(78633),l=n(67623),d=n(84249),u=n(86745),x=n(76975),p=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.ZP=function(){var e=(0,l.jE)(function(e){return{nodes:e.nodes}}),t=e.nodes,n=e.actions,a=(0,u.Dk)(),h=a.activeKey,m=a.setActiveKey,g=(0,u.Hj)(),b=g.setReplacing,v=g.setReplaceType,j=g.setSelectedNodeId,y=g.setMultipleReplace,w=(0,o.useState)([]),k=w[0],N=w[1];(0,o.useEffect)(function(){var e;N(((e=t)?Object.keys(e).filter(function(t){var n,r,a=e[t];return(null==a?void 0:null===(n=a.data)||void 0===n?void 0:null===(r=n.props)||void 0===r?void 0:r.isReplaceable)===!0}).map(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:t},e[t])}):[]).map(function(e){var t,n,r,a,i;return{id:e.id,props:(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.props)||{},displayName:(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.displayName)||"",name:(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.name)||"",imgKey:(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(i=a.props)||void 0===i?void 0:i.imgKey)||""}}))},[t]);var C=(0,o.useState)(!0),S=C[0],A=C[1],Z=(0,o.useState)(!1),T=Z[0],E=Z[1],O=(0,o.useState)(!0),P=O[0],D=O[1],I=(0,o.useRef)(null),R=function(){var e=I.current;if(e){E(e.scrollLeft>10);var t=e.scrollWidth-e.clientWidth;D(!(10>Math.abs(e.scrollLeft-t)))}};(0,o.useEffect)(function(){var e=I.current;return e&&(e.addEventListener("scroll",R),R(),window.addEventListener("resize",R)),function(){e&&(e.removeEventListener("scroll",R),window.removeEventListener("resize",R))}},[]);var z=function(e){var t=I.current;if(t){var n=t.scrollLeft;t.scrollTo({left:"left"===e?n-300:n+300,behavior:"smooth"})}},B=function(e){y(!0),h!==x.Ey.PHOTO&&m(x.Ey.PHOTO),b(!0),v("photo"),j(e.id),n.selectNode(e.id);var t=document.querySelector('[data-node-id="'.concat(e.id,'"]'));t&&t.scrollIntoView({behavior:"smooth",block:"center"})};return 0===k.length?null:(0,p.jsxs)("div",{className:"jsx-2703593113",children:[(0,p.jsxs)("div",{id:"main-center-replace",style:{left:h?"420px":"120px"},className:"jsx-2703593113 "+((S?"active":"")||""),children:[(0,p.jsxs)("div",{onClick:function(){A(!S)},className:"jsx-2703593113 switch-btn",children:[(0,p.jsx)("span",{className:"jsx-2703593113",children:"Thay ảnh nhanh"}),(0,p.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAbJJREFUOE+t1LtOwzAUBuD/gEgRVQczMDGx8gS8ABcxUIYWJKYOTUg33qA7I0ObZKioYEAZuAiJywPwDmxMHZBQihAqSdUauWpCcN0kSHiK7OTLb5+TEP55UOjZtr06GAw+TdN8+cs7HMdZ7vf7+Vqt9iyeG4Htdjvf6/XeAAREtKnr+lMWtNlsrhHRA4AZxthiuVwOooSWZd0C2AbwkQWNYQUAN4Zh7EQJxUWr1Zr3ff+KiDbS0DjGOX/I5XLFSqXy9QvMikrJHjVN2wmxCTBEgyC4BrAuJ03DlOA0dDgc8nEBxJlNJAuLGBVFrqo403jS8XoiFiWs1+sznU7nlHPudbvdI9d1B4qkYupXslKpNMsYOwZQsG27GoG6ri8AeAWQB3Dhed6BhJ4AmNM07TAswBg7B7AH4N3zvCXXdX/60DCMTc75FYCcjMrHIWE+ERUty7qfKEoWNAlTVrlarW4R0aUq6Rg7A7APwOec7zqOcxffgbLKKlQ8xBhLxKb2oViQUQA8KVlqHypQMaXcZuqW4zfEkkJ1ZnIHTP1S4jeaprki+rDRaIx+okkjE5iGxNe/AdSZCySeFHCqAAAAAElFTkSuQmCC",alt:"",className:"jsx-2703593113 "+((S?"":"rotate")||"")})]}),(0,p.jsx)("div",{ref:I,className:"jsx-2703593113 scroll-block",children:k.map(function(e,t){return(0,p.jsxs)("div",{onClick:function(){return B(e)},className:"jsx-2703593113 img-replace",children:[(0,p.jsx)("img",{src:(0,d.eQ)(e.imgKey),alt:"Cinelove ".concat(e.displayName||""),className:"jsx-2703593113"}),(0,p.jsx)("div",{className:"jsx-2703593113 shade",children:(0,p.jsx)(c.jnY,{size:20,color:"#f5f5f5"})})]},t)})}),T&&(0,p.jsx)("div",{onClick:function(){return z("left")},className:"jsx-2703593113 left-arrows",children:(0,p.jsx)(s._HU,{size:20})}),P&&(0,p.jsx)("div",{onClick:function(){return z("right")},className:"jsx-2703593113 right-arrows",children:(0,p.jsx)(s.H_v,{size:20})})]}),(0,p.jsx)(i(),{id:"2703593113",children:["#main-center-replace.jsx-2703593113{position:fixed;right:370px;left:310px;height:90px;bottom:-90px;background-color:#fff;z-index:100;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;box-shadow:0 0 2px 0 rgba(0,0,0,0.08), 0 4px 12px 0 rgba(0,0,0,0.04);}","#main-center-replace.active.jsx-2703593113{bottom:10px;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:10px;overflow-x:auto;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;-ms-overflow-style:none;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113{width:70px;height:70px;border-radius:4px;outline:1px solid #e4e4e4;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:none;-ms-flex:none;flex:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;position:relative;cursor:pointer;background-color:#f2f2f2;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113 img.jsx-2703593113{max-width:100%;max-height:100%;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113 .shade.jsx-2703593113{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0.2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;top:0;left:0;}",".right-arrows.jsx-2703593113{right:10px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".left-arrows.jsx-2703593113{left:10px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".left-arrows.jsx-2703593113:hover,.right-arrows.jsx-2703593113:hover{background-color:#f5f5f5;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113{width:130px;height:36px;background:#fff;border-radius:4px;position:absolute;left:0;top:-46px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;box-shadow:0 0 2px 0 rgba(0,0,0,0.08), 0 4px 12px 0 rgba(0,0,0,0.04);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 img.rotate.jsx-2703593113{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 img.jsx-2703593113{width:10px;height:10px;margin-left:4px;}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 span.jsx-2703593113{font-size:14px;color:#333;}","#main-center-replace.jsx-2703593113 .left-arrows.jsx-2703593113{position:absolute;width:32px;height:32px;left:10px;top:29px;background-color:#fff;border-radius:50%;box-shadow:0 0 4px 0 rgba(0,0,0,0.1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;}","#main-center-replace.jsx-2703593113 .right-arrows.jsx-2703593113{position:absolute;width:32px;height:32px;right:10px;top:29px;background-color:#fff;border-radius:50%;box-shadow:0 0 4px 0 rgba(0,0,0,0.1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;}"]})]})}},6255:function(e,t,n){"use strict";var r=n(27812),a=n(67294),i=n(67623),o=n(83062),s=n(35282),c=n(36282),l=n(85893);t.Z=function(){var e=(0,i.jE)(),t=e.connectors.create,n=e.actions,d=e.query,u=(0,a.useRef)(0),x=(0,a.useRef)(0),p=(0,a.useRef)(0),f=function(e){var t=document.getElementById("root-page-container"),i=document.getElementById("main-scroll-container");if(t&&i){var o=i.scrollTop,s=t.getBoundingClientRect().width,c=d.node("ROOT").get().data.nodes||[],l=0;c.length>0&&(l=Math.max.apply(Math,(0,r.Z)(c.map(function(e){return d.node(e).get().data.props.zIndex||0}))));var u=d.createNode(a.createElement(e,{top:Math.round(o+window.innerHeight/2-150),left:10,width:s-20,zIndex:0==l?0:l+1}));n.add(u,"ROOT"),n.selectNode(u.id)}};return(0,l.jsx)("div",{ref:function(e){return t(e,(0,l.jsx)(c.z,{}),{onCreate:function(e){var t=d.node("ROOT").get().data.nodes||[],a=0;t.length>0&&(a=Math.max.apply(Math,(0,r.Z)(t.map(function(e){return d.node(e).get().data.props.zIndex||0}))));var i=Object.keys(e.nodes)[0];n.setProp(i,function(e){e.top=u.current||0,e.left=10,e.width=p.current-20||0,e.zIndex=0==a?0:a+1}),n.selectNode(e.nodes[i].id)}})},children:(0,l.jsx)(o.Z,{title:"Th\xeam văn bản",placement:"right",styles:{root:{fontSize:"12px"}},children:(0,l.jsxs)("div",{className:"flex items-center flex-col justify-center gap-1",draggable:!0,onClick:function(){return f(c.z)},onDrag:function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width)),o=Math.round(Math.min(Math.max(a,0),n.height));u.current=o,x.current=i,p.current=n.width}},children:[(0,l.jsx)(s.wUc,{size:20}),(0,l.jsx)("span",{className:"text-xs",children:"Văn bản"})]})})})}},93326:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(19848),a=n.n(r),i=n(67294),o=n(92398),s=n(59499),c=n(5152),l=n.n(c),d=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=l()(function(){return n.e(1061).then(n.bind(n,61061)).then(function(e){return e.Sketch})},{ssr:!1,loadableGenerated:{webpack:function(){return[null]}}}),f=function(e){var t=e.onSelectColor,n=e.currentColor,r=void 0===n?"transparent":n,o=(0,i.useState)("#6F42A3"),s=o[0],c=o[1],l=r.toLowerCase();return(0,d.jsxs)("div",{className:"jsx-2717391082 color-background scroll-list",children:[(0,d.jsxs)("div",{className:"jsx-2717391082 current-colors",children:[(0,d.jsx)("h3",{className:"jsx-2717391082",children:"M\xe0u nền hiện tại"}),(0,d.jsx)("div",{className:"jsx-2717391082 current-color-item",children:(0,d.jsx)("div",{style:x(x({},r.includes("gradient")?{background:r}:{backgroundColor:"transparent"===r?"transparent":r,backgroundImage:"transparent"===r?"url(/images/transparent-color.png)":"none",backgroundSize:["transparent","white","#ffffff"].includes(l)?"cover":"100%"}),{},{border:"1px solid #d4d4d4"}),className:"jsx-2717391082 color-preview"})})]}),(0,d.jsxs)("div",{className:"jsx-2717391082 default-colors",children:[(0,d.jsx)("h3",{className:"jsx-2717391082",children:"M\xe0u nền mặc định"}),(0,d.jsxs)("div",{className:"jsx-2717391082 colors-section",children:[(0,d.jsx)("div",{className:"jsx-2717391082 section-title",children:"M\xe0u đơn"}),(0,d.jsx)("div",{className:"jsx-2717391082 color-grid plain-colors",children:[{id:"transparent",color:"transparent"},{id:"black",color:"#000000"},{id:"gray-dark",color:"#666666"},{id:"gray",color:"#999999"},{id:"gray-light",color:"#CCCCCC"},{id:"white",color:"#FFFFFF"},{id:"red",color:"#C0392B"},{id:"purple",color:"#8E44AD"},{id:"blue",color:"#2980B9"},{id:"teal",color:"#16A085"},{id:"green",color:"#27AE60"},{id:"orange",color:"#E67E22"},{id:"red-light",color:"#E74C3C"},{id:"purple-light",color:"#9B59B6"},{id:"blue-light",color:"#3498DB"},{id:"teal-light",color:"#1ABC9C"},{id:"green-light",color:"#2ECC71"},{id:"orange-light",color:"#F39C12"},{id:"pink-pastel",color:"#FFB6C1"},{id:"lavender-pastel",color:"#E6E6FA"},{id:"sky-pastel",color:"#87CEEB"},{id:"mint-pastel",color:"#98FF98"},{id:"lime-pastel",color:"#BFFF00"},{id:"peach-pastel",color:"#FFDAB9"},{id:"rose-pastel",color:"#FFD1DC"},{id:"baby-blue-pastel",color:"#BFE6FF"},{id:"sage-pastel",color:"#C1E1C1"},{id:"lilac-pastel",color:"#C8A2C8"},{id:"butter-pastel",color:"#FFF4BD"},{id:"coral-pastel",color:"#FFB59C"},{id:"blush-pastel",color:"#FFE4E1"},{id:"periwinkle-pastel",color:"#CCCCFF"},{id:"seafoam-pastel",color:"#98FF98"},{id:"mauve-pastel",color:"#E0B0FF"},{id:"cream-pastel",color:"#FFFDD0"},{id:"apricot-pastel",color:"#FFE5B4"}].map(function(e){return(0,d.jsx)("div",{onClick:function(){return t(e.color)},className:"jsx-2717391082 color-item",children:(0,d.jsx)("div",{style:{background:"transparent"===e.id?"url(/images/transparent-color.png)":e.color,backgroundSize:"transparent"===e.id?"cover":"100%",border:"1px solid #ddd"},className:"jsx-2717391082 color-preview"})},e.id)})})]}),(0,d.jsxs)("div",{className:"jsx-2717391082 colors-section",children:[(0,d.jsx)("div",{className:"jsx-2717391082 section-title",children:"M\xe0u nền gradient"}),(0,d.jsx)("div",{className:"jsx-2717391082 color-grid gradient-colors",children:[{id:"gradient-1",color:"linear-gradient(45deg, #FF6B6B, #FF8E53)"},{id:"gradient-2",color:"linear-gradient(45deg, #9B59B6, #3498DB)"},{id:"gradient-3",color:"linear-gradient(45deg, #4A90E2, #50E3C2)"},{id:"gradient-4",color:"linear-gradient(45deg, #43E97B, #38F9D7)"},{id:"gradient-5",color:"linear-gradient(45deg, #A8E6CF, #DCEDC1)"},{id:"gradient-6",color:"linear-gradient(45deg, #FFD3A5, #FD6585)"},{id:"gradient-7",color:"linear-gradient(45deg, #8E2DE2, #4A00E0)"},{id:"gradient-8",color:"linear-gradient(45deg, #F953C6, #B91D73)"},{id:"gradient-9",color:"linear-gradient(45deg, #00B4DB, #0083B0)"},{id:"gradient-10",color:"linear-gradient(45deg, #F7971E, #FFD200)"},{id:"gradient-11",color:"linear-gradient(45deg, #56CCF2, #2F80ED)"},{id:"gradient-12",color:"linear-gradient(45deg, #A770EF, #CF8BF3)"}].map(function(e){return(0,d.jsx)("div",{onClick:function(){return t(e.color)},className:"jsx-2717391082 color-item",children:(0,d.jsx)("div",{style:{background:e.color},className:"jsx-2717391082 color-preview"})},e.id)})})]})]}),(0,d.jsx)("div",{className:"jsx-2717391082 color-selector",children:(0,d.jsx)(p,{style:{width:"100%"},color:s,onChange:function(e){c(e.hexa),t(e.hexa)},presetColors:[]})}),(0,d.jsx)(a(),{id:"2717391082",children:[".color-background.jsx-2717391082{padding:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:24px;height:100%;overflow-y:auto;}","h3.jsx-2717391082{font-size:14px;color:#666;margin-bottom:12px;}",".current-colors.jsx-2717391082{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".current-color-item.jsx-2717391082{width:40px;height:40px;}",".color-list.jsx-2717391082{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;}",".color-grid.jsx-2717391082{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-top:16px;}",".colors-section.jsx-2717391082{margin-bottom:20px;}",".section-title.jsx-2717391082{font-size:14px;color:#666;margin-bottom:12px;}",".color-item.jsx-2717391082{aspect-ratio:1;cursor:pointer;border-radius:8px;overflow:hidden;}",".color-preview.jsx-2717391082{width:100%;height:100%;border-radius:8px;-webkit-transition:-webkit-transform 0.2s,border 0.2s;-webkit-transition:transform 0.2s,border 0.2s;transition:transform 0.2s,border 0.2s;}",".color-preview.jsx-2717391082:hover{border:1px solid #4dabff !important;}",".color-tabs{margin-bottom:8px;}",".color-selector.jsx-2717391082{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-top:1px solid #f0f0f0;padding-top:16px;}",".w-color-sketch{box-shadow:none !important;padding:0 !important;}",".w-color-sketch .w-color-sketch-saturation{border-radius:8px;margin-bottom:12px;}",".w-color-sketch .w-color-sketch-hue{height:12px !important;border-radius:6px;margin-bottom:12px;}",".w-color-sketch .w-color-sketch-alpha{height:12px !important;border-radius:6px;}",".w-color-sketch .w-color-sketch-handler{width:20px !important;height:20px !important;border:2px solid #fff !important;box-shadow:0 0 0 1px rgba(0,0,0,0.1) !important;}"]})]})},h=n(50029),m=n(87794),g=n.n(m),b=n(4473),v=n(7764),j=function(e){var t=e.onSelectImage,n=e.isMobile,r=void 0!==n&&n,o=(0,i.useState)(!0),s=o[0],c=o[1],l=(0,i.useState)([]),u=l[0],x=l[1];return(0,i.useEffect)(function(){var e;(e=(0,h.Z)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v.Z.API_URL,"/api/resources/categories/background"));case 3:return t=e.sent,e.next=6,t.json();case 6:x(e.sent.items||[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching backgrounds:",e.t0);case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),(0,d.jsxs)("div",{className:a().dynamic([["726902320",[r?"100px":"0"]]])+" scroll-list",children:[(0,d.jsx)("div",{className:a().dynamic([["726902320",[r?"100px":"0"]]])+" background-list-container",children:s?(0,d.jsx)(b.Z,{count:15}):u.map(function(e){return(0,d.jsx)("div",{onClick:function(){return t("".concat(v.Z.CDN_URL,"/").concat(e.fileKey))},className:a().dynamic([["726902320",[r?"100px":"0"]]])+" background-item",children:(0,d.jsx)("img",{src:"".concat(v.Z.CDN_URL,"/resources/background/thumbnail/").concat(e.id,".webp"),alt:"Background thumbnail",style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:a().dynamic([["726902320",[r?"100px":"0"]]])})},e.id)})}),(0,d.jsx)(a(),{id:"726902320",dynamic:[r?"100px":"0"],children:[".scroll-list.__jsx-style-dynamic-selector{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:100%;}",".background-list-container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:".concat(r?"100px":"0",";padding:20px 10px 20px 12px;}"),".background-item.__jsx-style-dynamic-selector{text-align:center;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;cursor:pointer;margin:auto;}",".background-item.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;}",".background-item.__jsx-style-dynamic-selector:hover img.__jsx-style-dynamic-selector{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.9;}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})},y=n(67623),w=function(){var e=(0,y.jE)(),t=(e.connectors.create,e.actions);e.query.node("ROOT").get();var n=(0,i.useState)(!1);n[0],n[1];var r=(0,i.useState)("transparent"),s=r[0],c=r[1],l=function(e){t.setProp("ROOT",function(t){t.background=e})},u=function(e){t.setProp("ROOT",function(t){t.background=e})};return(0,d.jsxs)("div",{className:"jsx-191916180 background-tab",children:[(0,d.jsx)(o.Z,{defaultActiveKey:"color",items:[{key:"color",label:"M\xe0u nền",children:(0,d.jsx)(f,{onSelectColor:function(e){console.log("Selected color:",e),c(e),l(e)},currentColor:s})},{key:"image",label:"H\xecnh nền",children:(0,d.jsx)(j,{onSelectImage:function(e){console.log("Selected image:",e),u(e)}})}]}),(0,d.jsx)(a(),{id:"191916180",children:[".background-tab.jsx-191916180{height:100%;overflow:hidden;}",".background-tab .ant-tabs{height:100%;}",".background-tab .ant-tabs-nav{margin:0 !important;padding:0 16px;border-bottom:1px solid #f0f0f0;}",".background-tab .ant-tabs-tab{padding:12px 0 !important;margin:0 24px 0 0 !important;font-size:14px;font-weight:500;color:#666;}",".background-tab .ant-tabs-tab-active{color:#1890ff !important;}",".background-tab .ant-tabs-ink-bar{background:#1890ff !important;height:2px !important;}",".background-tab .ant-tabs-content{height:calc(100% - 44px);}",".background-tab .ant-tabs-tabpane{height:100%;padding:0 !important;}"]})]})}},41772:function(e,t,n){"use strict";n.d(t,{Z:function(){return eo}});var r=n(19848),a=n.n(r),i=n(67294),o=n(92398),s=n(2453),c=n(74330),l=n(32983),d=n(25675),u=n.n(d),x=n(35710),p=n(85893),f=function(e){var t=e.effect,n=e.isSelected,r=void 0!==n&&n,o=e.onClick,s=e.isMobile,c=void 0!==s&&s,l=(0,i.useState)(!1),d=l[0],f=l[1],h=(0,i.useRef)(null);return(0,i.useEffect)(function(){c&&h.current&&t.videoUrl&&d&&h.current.play()},[c,d,t.videoUrl]),(0,p.jsxs)("div",{className:"jsx-1714539663 effect-card",children:[(0,p.jsxs)("div",{onClick:function(){o&&o(t)},onMouseEnter:function(){!c&&h.current&&t.videoUrl&&h.current.play()},onMouseLeave:function(){!c&&h.current&&t.videoUrl&&(h.current.pause(),h.current.currentTime=0)},className:"jsx-1714539663 "+"effect-container ".concat(r?"selected":""),children:[(0,p.jsx)(x.Z,{position:"top-left",size:"sm"}),(0,p.jsxs)("div",{className:"jsx-1714539663 image-container",children:[t.videoUrl?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("video",{ref:h,muted:!0,loop:!0,playsInline:!0,onLoadedData:function(){setTimeout(function(){f(!0)},1e3)},style:{display:d?"block":"none"},className:"jsx-1714539663 effect-video",children:[(0,p.jsx)("source",{src:t.videoUrl,type:"video/webm",className:"jsx-1714539663"}),"Your browser does not support the video tag."]}),!d&&(0,p.jsx)(u(),{unoptimized:!0,src:t.thumbnailUrl,alt:t.name,fill:!0,sizes:"(max-width: 576px) 50vw, (max-width: 768px) 33vw, 25vw",className:"effect-image",loading:"lazy"})]}):(0,p.jsx)(u(),{unoptimized:!0,src:t.thumbnailUrl,alt:t.name,fill:!0,sizes:"(max-width: 576px) 50vw, (max-width: 768px) 33vw, 25vw",className:"effect-image",loading:"lazy"}),r&&(0,p.jsx)("div",{className:"jsx-1714539663 selected-badge",children:(0,p.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-1714539663",children:(0,p.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"currentColor",className:"jsx-1714539663"})})})]}),(0,p.jsxs)("div",{className:"jsx-1714539663 effect-footer",children:[(0,p.jsx)("span",{className:"jsx-1714539663 effect-title",children:t.name}),(0,p.jsxs)("span",{className:"jsx-1714539663 effect-duration",children:[t.duration,"s"]})]})]}),(0,p.jsx)(a(),{id:"1714539663",children:[".effect-card.jsx-1714539663{width:100%;border-radius:8px;background:#fff;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}",".effect-container.jsx-1714539663{position:relative;cursor:pointer;border:2px solid transparent;border-radius:8px;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;background:#fff;}",".effect-container.jsx-1714539663:hover{-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.15);}",".effect-container.selected.jsx-1714539663{box-shadow:0 4px 12px rgba(24,144,255,0.2);}",".image-container.jsx-1714539663{position:relative;width:100%;overflow:hidden;border-radius:6px 6px 0 0;aspect-ratio:9/16;}",".effect-image.jsx-1714539663,.effect-video.jsx-1714539663{object-fit:cover;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;width:100%;height:100%;}",".effect-container.jsx-1714539663:hover .effect-image.jsx-1714539663,.effect-container.jsx-1714539663:hover .effect-video.jsx-1714539663{-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}",".effect-overlay.jsx-1714539663{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient( to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.6) 100% );opacity:0;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding:12px;}",".effect-container.jsx-1714539663:hover .effect-overlay.jsx-1714539663{opacity:1;}",".effect-info.jsx-1714539663{color:white;width:100%;}",".effect-name.jsx-1714539663{font-size:14px;font-weight:600;margin:0 0 4px 0;line-height:1.2;}",".effect-duration.jsx-1714539663{font-size:11px;color:#8c8c8c;}",".video-indicator.jsx-1714539663{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:4px;font-size:11px;opacity:0.9;background:rgba(0,0,0,0.5);padding:2px 6px;border-radius:4px;margin-top:4px;}",".selected-badge.jsx-1714539663{position:absolute;top:8px;right:8px;width:24px;height:24px;background:#1890ff;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:white;box-shadow:0 2px 8px rgba(24,144,255,0.3);}",".effect-footer.jsx-1714539663{padding:8px 12px;background:#fafafa;border-top:1px solid #f0f0f0;}",".effect-title.jsx-1714539663{display:block;font-size:12px;font-weight:500;color:#262626;line-height:1.2;margin-bottom:2px;overflow:hidden;text-overflow:ellipsis;white-space:wrap;}","@media (max-width:768px){.image-container.jsx-1714539663{aspect-ratio:9/16;}.effect-footer.jsx-1714539663{padding:6px 8px;}.effect-title.jsx-1714539663{font-size:11px;}.effect-overlay.jsx-1714539663{padding:8px;}.effect-name.jsx-1714539663{font-size:12px;}.effect-duration.jsx-1714539663{font-size:10px;}.video-indicator.jsx-1714539663{font-size:10px;}}"]})]})},h=n(90072),m=n(7764),g=n(46256),b=n(16835),v=n(99859),j=n(17788),y=n(83622),w=n(38289),k=n(27812),N=n(50029),C=n(87794),S=n.n(C),A=n(84249),Z=n(49184),T=o.Z.TabPane,E=[{id:"24bebbc90bc64fe3952b44881c3be849",imgKey:"resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"},{id:"694f2494535443aa96ab2f8cbf4d06bf",imgKey:"resources/characters/694f2494535443aa96ab2f8cbf4d06bf.gif"},{id:"804e975d4ce943ceb59eaef61f6f1e8d",imgKey:"resources/characters/804e975d4ce943ceb59eaef61f6f1e8d.gif"},{id:"c75adf6d5f824943954f73aa10deb85b",imgKey:"resources/characters/c75adf6d5f824943954f73aa10deb85b.gif"}],O=function(e){var t=e.value,n=e.onChange,r=(0,i.useState)([]),d=r[0],x=r[1],f=(0,i.useState)(!1),h=f[0],g=f[1],b=(0,i.useState)(t),v=b[0],j=b[1],y=null!=t&&t.includes("/uploads/")?"user-photos":"materials";(0,i.useEffect)(function(){var e;(e=(0,N.Z)(S().mark(function e(){var t;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,Z.ZQ)();case 4:t=e.sent,x((0,k.Z)(t).sort(function(e,t){return new Date(t.createdAt||0).getTime()-new Date(e.createdAt||0).getTime()})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Failed to fetch user photos:",e.t0),s.ZP.error("Kh\xf4ng thể tải danh s\xe1ch ảnh của bạn");case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return e.apply(this,arguments)})()},[]);var w=function(e){j(e),null==n||n(e)};return(0,p.jsxs)("div",{className:"jsx-3577583500 image-selector",children:[(0,p.jsxs)(o.Z,{defaultActiveKey:y,size:"small",children:[(0,p.jsx)(T,{tab:(0,p.jsx)("span",{className:"jsx-3577583500",children:"Ảnh c\xf3 sẵn"}),children:(0,p.jsx)("div",{className:"jsx-3577583500 materials-section",children:(0,p.jsx)("div",{className:"jsx-3577583500 image-grid",children:E.map(function(e){var t,n=(t=e.imgKey,"".concat(m.Z.CDN_URL,"/").concat(t));return(0,p.jsx)("div",{onClick:function(){return w(n)},className:"jsx-3577583500 "+"image-item ".concat(v===n?"selected":""),children:(0,p.jsx)(u(),{unoptimized:!0,src:n,alt:"Material ".concat(e.id),width:80,height:80,objectFit:"cover"})},e.id)})})})},"materials"),(0,p.jsx)(T,{tab:(0,p.jsx)("span",{className:"jsx-3577583500",children:"Ảnh của bạn"}),children:(0,p.jsx)("div",{className:"jsx-3577583500 user-photos-section",children:h?(0,p.jsxs)("div",{className:"jsx-3577583500 loading-container",children:[(0,p.jsx)(c.Z,{size:"large"}),(0,p.jsx)("p",{className:"jsx-3577583500",children:"Đang tải ảnh của bạn..."})]}):d.length>0?(0,p.jsx)("div",{className:"jsx-3577583500 image-grid",children:d.map(function(e){var t=(0,A.eQ)(e.fileKey);return(0,p.jsx)("div",{onClick:function(){return w(t)},className:"jsx-3577583500 "+"image-item ".concat(v===t?"selected":""),children:(0,p.jsx)(u(),{unoptimized:!0,src:(0,A.VM)(e.fileKey,200),alt:"User photo ".concat(e.fileId),width:80,height:80,objectFit:"cover"})},e.fileId)})}):(0,p.jsx)(l.Z,{description:"Bạn chưa c\xf3 ảnh n\xe0o",image:l.Z.PRESENTED_IMAGE_SIMPLE})})},"user-photos")]}),(0,p.jsx)(a(),{id:"3577583500",children:[".image-selector.jsx-3577583500{width:100%;}",".image-grid.jsx-3577583500{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;max-height:300px;overflow-y:auto;padding:8px;}",".image-item.jsx-3577583500{position:relative;border:2px solid transparent;border-radius:8px;cursor:pointer;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".image-item.jsx-3577583500:hover{border-color:#1890ff;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}",".image-item.selected.jsx-3577583500{border-color:#1890ff;box-shadow:0 0 0 2px rgba(24,144,255,0.2);}",".image-item.jsx-3577583500 img.jsx-3577583500{border-radius:6px;width:100%;height:100%;object-fit:cover;}",".loading-container.jsx-3577583500{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:40px 0;color:#8c8c8c;}",".loading-container.jsx-3577583500 p.jsx-3577583500{margin-top:12px;font-size:14px;}","@media (max-width:768px){.image-grid.jsx-3577583500{grid-template-columns:repeat(4,1fr);gap:6px;padding:6px;}.image-item.jsx-3577583500{width:50px;}}","@media (max-width:480px){.image-grid.jsx-3577583500{grid-template-columns:repeat(4,1fr);gap:4px;padding:4px;}.image-item.jsx-3577583500{width:45px;}}"]})]})},P=function(e){var t=e.visible,n=e.effect,r=e.onCancel,o=e.onConfirm,s=e.currentTitle,c=void 0===s?"":s,l=e.currentSubtitle,d=void 0===l?"":l,u=e.currentImageUrl,x=void 0===u?"":u,f=e.currentDuration,h=void 0===f?5:f,m=v.Z.useForm(),g=(0,b.Z)(m,1)[0],k=(0,i.useState)(c),N=k[0],C=k[1],S=(0,i.useState)(d),A=S[0],Z=S[1],T=(0,i.useState)(x),E=T[0],P=T[1],D=(0,i.useState)(h),I=D[0],R=D[1];(0,i.useEffect)(function(){t&&(C(c),Z(d),P(x),R(h),g.setFieldsValue({title:c,subtitle:d,duration:h}))},[t,c,d,x,h,g]);var z=function(){g.resetFields(),r()};return(0,p.jsxs)(j.Z,{title:"Cấu h\xecnh hiệu ứng Animated Image",open:t,onCancel:z,footer:[(0,p.jsx)(y.ZP,{onClick:z,children:"Hủy"},"cancel"),(0,p.jsx)(y.ZP,{type:"primary",onClick:function(){g.validateFields().then(function(e){n&&o(n,e.title,e.subtitle,E,e.duration)})},children:"X\xe1c nhận"},"confirm")],width:600,destroyOnClose:!0,children:[(0,p.jsxs)(v.Z,{form:g,layout:"vertical",initialValues:{title:N,subtitle:A},children:[(0,p.jsx)(v.Z.Item,{label:"Ti\xeau đề ch\xednh",name:"title",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề ch\xednh"},{max:40,message:"Ti\xeau đề kh\xf4ng được qu\xe1 40 k\xfd tự"}],children:(0,p.jsx)(w.Z,{placeholder:"Nhập ti\xeau đề ch\xednh (VD: Wedding Day)",value:N,onChange:function(e){return C(e.target.value)},maxLength:50,showCount:!0})}),(0,p.jsx)(v.Z.Item,{label:"Ti\xeau đề phụ",name:"subtitle",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề phụ"},{max:60,message:"Ti\xeau đề phụ kh\xf4ng được qu\xe1 60 k\xfd tự"}],children:(0,p.jsx)(w.Z.TextArea,{placeholder:"Nhập ti\xeau đề phụ (VD: Xin mời xem thiệp cưới của ch\xfang m\xecnh nha)",value:A,onChange:function(e){return Z(e.target.value)},maxLength:60,showCount:!0,rows:2})}),(0,p.jsx)(v.Z.Item,{label:"Thời gian hiển thị (gi\xe2y)",name:"duration",rules:[{required:!0,message:"Vui l\xf2ng nhập thời gian hiển thị"}],children:(0,p.jsx)(w.Z,{type:"number",placeholder:"Nhập thời gian hiển thị (VD: 5)",value:I,onChange:function(e){return R(Number(e.target.value))},min:1,max:10,addonAfter:"gi\xe2y"})}),(0,p.jsx)(v.Z.Item,{label:"Chọn ảnh",required:!0,children:(0,p.jsx)(O,{value:E,onChange:function(e){P(e)}})}),(0,p.jsxs)("div",{className:"jsx-1616491144 preview-section",children:[(0,p.jsx)("h4",{className:"jsx-1616491144",children:"Xem trước:"}),(0,p.jsxs)("div",{className:"jsx-1616491144 preview-content",children:[(0,p.jsx)("div",{className:"jsx-1616491144 preview-text",children:(0,p.jsx)("div",{className:"jsx-1616491144 preview-title",children:N||"Ti\xeau đề ch\xednh"})}),(0,p.jsx)("div",{className:"jsx-1616491144 preview-image-container",children:E?(0,p.jsx)("img",{src:E,alt:"Preview",className:"jsx-1616491144 preview-image"}):(0,p.jsx)("div",{className:"jsx-1616491144 no-image-placeholder",children:(0,p.jsx)("span",{className:"jsx-1616491144",children:"Chưa chọn ảnh"})})}),(0,p.jsx)("div",{className:"jsx-1616491144 preview-text",children:(0,p.jsx)("div",{className:"jsx-1616491144 preview-subtitle",children:A||"Ti\xeau đề phụ"})})]})]})]}),(0,p.jsx)(a(),{id:"1616491144",children:[".preview-section.jsx-1616491144{margin-top:20px;padding:16px;background:#f5f5f5;border-radius:8px;border:1px solid #d9d9d9;}",".preview-section.jsx-1616491144 h4.jsx-1616491144{margin:0 0 12px 0;color:#262626;font-size:14px;font-weight:600;}",".preview-content.jsx-1616491144{background:linear-gradient( 135deg, #820000 0%, #5a0000 50%, #3a0000 100% );padding:20px;border-radius:8px;text-align:center;min-height:280px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:16px;}",".preview-image-container.jsx-1616491144{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:120px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".preview-image.jsx-1616491144{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px;}",".no-image-placeholder.jsx-1616491144{width:120px;height:120px;background:rgba(255,255,255,0.1);border:2px dashed rgba(255,255,255,0.3);border-radius:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:rgba(255,255,255,0.6);font-size:12px;}",".preview-text.jsx-1616491144{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:8px;}",'.preview-title.jsx-1616491144{color:#fff;font-size:18px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,0.8);-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-family:"Playfair Display",serif;}','.preview-subtitle.jsx-1616491144{color:#fff;font-size:14px;font-weight:300;text-shadow:1px 1px 2px rgba(0,0,0,0.8);-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;font-family:"Inter",sans-serif;opacity:0.9;line-height:1.4;}',"@media (max-width:768px){.preview-content.jsx-1616491144{min-height:180px;padding:16px;}.preview-image-container.jsx-1616491144{height:100px;}.no-image-placeholder.jsx-1616491144{width:100px;height:100px;}.preview-title.jsx-1616491144{font-size:16px;}.preview-subtitle.jsx-1616491144{font-size:12px;}}"]})]})},D="".concat(m.Z.CDN_URL,"/assets/opening-effects/preview"),I=[{id:"curtain-blue",name:"Curtain Blue",duration:4,videoUrl:"".concat(D,"/curtain-reveal-blue.webm"),type:"curtain",thumbnailUrl:"".concat(D,"/curtain-reveal-blue.jpg")},{id:"curtain-pink",name:"Curtain Pink",duration:4,videoUrl:"".concat(D,"/curtain-reveal-pink.webm"),type:"curtain",thumbnailUrl:"".concat(D,"/curtain-reveal-pink.jpg")},{id:"curtain-purple",name:"Curtain Purple",duration:4,videoUrl:"".concat(D,"/curtain-reveal-purple.webm"),type:"curtain",thumbnailUrl:"".concat(D,"/curtain-reveal-purple.jpg")},{id:"curtain-yellow",name:"Curtain Yellow",duration:4,videoUrl:"".concat(D,"/curtain-reveal-yellow.webm"),type:"curtain",thumbnailUrl:"".concat(D,"/curtain-reveal-yellow.jpg")},{id:"curtain-red",name:"Curtain Red",duration:4,videoUrl:"".concat(D,"/curtain-reveal-red.webm"),type:"curtain",thumbnailUrl:"".concat(D,"/curtain-reveal-red.jpg")},{id:"animated-image-1",name:"Animated Image",duration:5,videoUrl:"".concat(D,"/animated-image-1.webm"),type:"animated-image",thumbnailUrl:"".concat(D,"/animated-image-1.jpg")}],R=function(e){var t,n,r,o,d,u=e.isMobile,b=(0,i.useState)(I),v=b[0];b[1];var j=(0,i.useState)(!1),y=j[0];j[1];var w=(0,h.X2)(),k=w.settings,N=w.setOpeningEffect,C=(null===(t=k.openingEffect)||void 0===t?void 0:t.id)||null,S=(0,g.TN)().pageData,A=(0,i.useState)(!1),Z=A[0],T=A[1],E=(0,i.useState)(null),O=E[0],D=E[1];(0,i.useEffect)(function(){null!=S&&S.openingEffect&&N(S.openingEffect)},[S]);var R=function(e){"animated-image"===e.type?(D(e),T(!0)):N({id:e.id,type:e.type,duration:e.duration})};return(0,p.jsxs)("div",{className:"jsx-4141491617 h-full",children:[(0,p.jsxs)("div",{className:"jsx-4141491617 mb-2 px-3",children:[(0,p.jsx)("div",{className:"jsx-4141491617 flex items-center justify-between mb-2 mt-2",children:(0,p.jsx)("div",{className:"jsx-4141491617 flex items-center",children:(0,p.jsxs)("h3",{className:"jsx-4141491617 text-lg font-semibold relative",children:[(0,p.jsx)("span",{className:"jsx-4141491617 pr-6",children:"Hiệu ứng mở m\xe0n"}),(0,p.jsx)(x.Z,{position:"top-right",size:"sm"})]})})}),(0,p.jsx)("p",{className:"jsx-4141491617 text-sm text-gray-500",children:"Tạo ấn tượng đầu ti\xean đặc biệt với hiệu ứng mở m\xe0n khi trang web của bạn được mở."}),C&&(0,p.jsx)("button",{onClick:function(){N(null),s.ZP.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n")},className:"jsx-4141491617 text-red-500 hover:text-red-700 text-sm font-medium px-3 py-1 rounded border border-red-300 hover:border-red-500 transition-colors mt-4",children:"X\xf3a hiệu ứng"})]}),(0,p.jsx)("div",{className:"jsx-4141491617 scroll-list",children:y?(0,p.jsx)("div",{className:"jsx-4141491617 flex justify-center items-center h-64",children:(0,p.jsx)(c.Z,{size:"small"})}):v.length>0?(0,p.jsx)("div",{className:"jsx-4141491617 effect-grid-container",children:(0,p.jsx)("div",{className:"jsx-4141491617 effect-grid",children:v.map(function(e){return(0,p.jsx)("div",{className:"jsx-4141491617 effect-item",children:(0,p.jsx)(f,{effect:e,isSelected:C===e.id,onClick:R,isMobile:u})},e.id)})})}):(0,p.jsx)(l.Z,{description:"Kh\xf4ng t\xecm thấy hiệu ứng n\xe0o"})}),(0,p.jsx)(P,{visible:Z,effect:O,onCancel:function(){T(!1),D(null)},onConfirm:function(e,t,n,r,a){N({id:e.id,type:e.type,duration:a,title:t,subtitle:n,imageUrl:r}),T(!1),D(null)},currentTitle:(null===(n=k.openingEffect)||void 0===n?void 0:n.title)||"Wedding Day",currentSubtitle:(null===(r=k.openingEffect)||void 0===r?void 0:r.subtitle)||"Xin mời xem thiệp cưới của ch\xfang m\xecnh nha",currentImageUrl:(null===(o=k.openingEffect)||void 0===o?void 0:o.imageUrl)||"".concat(m.Z.CDN_URL,"/resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"),currentDuration:(null===(d=k.openingEffect)||void 0===d?void 0:d.duration)||5}),(0,p.jsx)(a(),{id:"2729513400",children:[".effect-grid-container.jsx-4141491617{padding:10px;}",".effect-grid.jsx-4141491617{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;row-gap:16px;padding-bottom:80px;}",".effect-item.jsx-4141491617{width:100%;}","@media (max-width:768px){.effect-grid.jsx-4141491617{gap:8px;row-gap:12px;}}"]}),(0,p.jsx)(a(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})},z=n(4730),B=n(59499),M=n(4393),L=n(78957),F=n(67623),_=n(62214),H=n(4473),U=n(42179),K=[{id:"none",name:"None",description:"Kh\xf4ng c\xf3 hiệu ứng",icon:"assets/transition-effects/none.png",config:{textElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"}}},{id:"fade-in-all",name:"Fade In All",description:"Tất cả element sẽ fade in mượt m\xe0",icon:"assets/transition-effects/fade-in-all.png",config:{textElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},materialElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},otherElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"}}},{id:"slide-up-all",name:"Slide Up All",description:"Tất cả element sẽ slide up từ dưới l\xean",icon:"assets/transition-effects/slide-up-all.png",config:{textElements:{effectType:"slide-up",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.2,effectEasing:"ease-out"},materialElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.2,effectEasing:"ease-out"},otherElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.3,effectEasing:"ease-out"}}},{id:"scale-in-all",name:"Scale In All",description:"Tất cả element sẽ scale in mượt m\xe0",icon:"assets/transition-effects/scale-in-all.png",config:{textElements:{effectType:"scale-in",effectDuration:1.2,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"}}},{id:"flip-in-all",name:"Flip In All",description:"Tất cả element sẽ flip in mượt m\xe0",icon:"assets/transition-effects/flip-in-all.png",config:{textElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.3,effectEasing:"ease-out"},materialElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},otherElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"}}},{id:"slide-up-mix",name:"Slide Up Mix",description:"Element ở giữa slide-up, lệch tr\xe1i/phải slide-right/left",icon:"assets/transition-effects/slide-up-mix.png",requiresPositionLogic:!0,config:{textElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.2,effectEasing:"ease-out"},materialElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.2,effectEasing:"ease-out"},otherElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.3,effectEasing:"ease-out"}}},{id:"fade-in-mix",name:"Fade In Mix",description:"Element ở giữa fade-in, lệch tr\xe1i/phải slide-right/left",icon:"assets/transition-effects/fade-in-mix.png",requiresPositionLogic:!0,config:{textElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:.2,effectEasing:"ease-out"},photoElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"}}}],q=function(e,t){switch(t){case"text":return e.config.textElements;case"photo":return e.config.photoElements;case"material":return e.config.materialElements;default:return e.config.otherElements}},W=function(e,t,n,r){var a=e+t/2,i=n/2;return Math.abs(a-i)<.2*n?r:a<i?"slide-right":a>i?"slide-left":r},X=n(83062),V=n(88683),Y=n.n(V),Q=n(30080),G=function(e){var t=e.preset,n=e.onApply,r=e.onRemove,a=e.isSelected,i=void 0!==a&&a;return(0,p.jsx)(M.Z,{size:"small",className:"".concat(Y().presetPreviewCard," ").concat(Y().cursorPointer," ").concat(Y().transitionAll," ").concat(Y().duration200," ").concat(Y().hoverShadowMd," ").concat(i?"".concat(Y().ring2," ").concat(Y().ringBlue500," ").concat(Y().bgBlue50):Y().hoverBgGray50),onClick:function(){i||n(t)},children:(0,p.jsxs)("div",{className:"text-center relative",children:[i&&r&&(0,p.jsx)(X.Z,{title:"Reset hiệu ứng",placement:"top",children:(0,p.jsx)("button",{onClick:function(e){e.stopPropagation(),r&&r(t)},className:"absolute -top-5 -right-5 w-5 h-5 bg-gray-600 hover:bg-gray-700 text-white rounded-full flex items-center justify-center transition-colors z-10",title:"Reset hiệu ứng",children:(0,p.jsx)(Q.FU5,{size:22})})}),(0,p.jsx)("div",{className:"mb-2 flex justify-center items-center",children:(0,p.jsx)("img",{src:"".concat(m.Z.CDN_URL,"/").concat(t.icon),alt:t.name,className:"w-10 h-10 object-cover"})}),(0,p.jsx)("div",{className:"font-medium text-sm mb-1",children:t.name})]})})},J=n(86745),$=n(76975),ee=n(33299),et=n(9758),en=["editorViewportWidth"];function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){(0,B.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ei=function(e){var t,n,r,o,c=e.isMobile,l=void 0!==c&&c,d=(0,F.jE)(),u=d.query,f=d.actions,h=(0,ee.useSession)().data,m=(0,J.Dk)().activeKey,g=(0,i.useState)(0),v=g[0],y=g[1],w=(0,i.useState)(!1),k=w[0],C=w[1],A=(0,i.useState)(""),Z=A[0],T=A[1],E=(0,i.useState)(null),O=E[0],P=E[1],D=function(e){if(!e||!e.type)return"other";var t=e.type.resolvedName||e.type;return t.includes("Text")||t.includes("text")?"text":t.includes("Photo")||t.includes("photo")?"photo":t.includes("Material")||t.includes("material")?"material":"other"},I=(t=(0,N.Z)(S().mark(function e(t){var n,r,a,i,o;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{r=u.serialize(),o=(null==(i=(a=JSON.parse(r)).ROOT)?void 0:null===(n=i.props)||void 0===n?void 0:n.width)||500,Object.keys(a).forEach(function(e){if("ROOT"!==e){var n=a[e],r=D(n),i=q(t,r);if(t.requiresPositionLogic&&t.id.includes("mix")){var s,c,l=(null===(s=n.props)||void 0===s?void 0:s.left)||0,d=(null===(c=n.props)||void 0===c?void 0:c.width)||100,u=i.effectType,x=W(l,d,o,u);i=ea(ea({},i),{},{effectType:x})}n.props.transition||(n.props.transition=ea({},U.b)),n.props.transition.effectEnabled=!0,"none"===t.id&&(n.props.transition.effectEnabled=!1),n.props.transition.effectType=i.effectType,n.props.transition.effectDuration=i.effectDuration,n.props.transition.effectDelay=i.effectDelay,n.props.transition.effectEasing=i.effectEasing}}),P(a),y(function(e){return e+1})}catch(e){console.error("Error applying preset:",e),s.ZP.error("C\xf3 lỗi xảy ra khi \xe1p dụng mẫu hiệu ứng!")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),R=function(){var e,t=(null==h?void 0:null===(e=h.user)||void 0===e?void 0:e.plan)||"free";return"basic"===t||"premium"===t},B=function(){var e=et.an.free,t=et.an.basic,n=et.an.premium;return{websites:"".concat(e.maxWebsites," → ").concat(t.maxWebsites,"-").concat(n.maxWebsites),images:"".concat(e.maxImages," → ").concat(t.maxImages,"-").concat(n.maxImages),views:"".concat(e.maxViews," → ").concat((t.maxViews/1e3).toFixed(0),"K-").concat((n.maxViews/1e3).toFixed(0),"K"),duration:"".concat(e.duration," → ").concat(t.duration,"-").concat(n.duration)}},X=function(){j.Z.confirm({title:"\uD83D\uDD12 T\xednh năng n\xe2ng cao",content:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("div",{className:"text-6xl mb-3",children:"\uD83C\uDFAC✨"}),(0,p.jsx)("h3",{className:"text-lg font-bold mb-2 text-gray-800",children:"Wow! Hiệu ứng n\xe0y thật tuyệt vời!"}),(0,p.jsxs)("p",{className:"text-gray-600 mb-4 text-sm",children:["N\xe2ng cấp l\xean g\xf3i ",(0,p.jsx)("span",{className:"font-bold",children:"Basic/Premium"})," ","để sử dụng hiệu ứng v\xe0 mở kh\xf3a nhiều t\xednh năng kh\xe1c!",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"text-gray-500 text-xs italic",children:"* T\xednh năng n\xe0y chỉ c\xf3 thể sử dụng tr\xean g\xf3i Basic/Premium"})]})]}),(0,p.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-3 rounded-lg border border-blue-200 mb-3",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-xs uppercase tracking-wide",children:"\uD83D\uDE80 T\xednh năng ch\xednh:"}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-left",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-green-500",children:"✨"}),(0,p.jsx)("span",{children:"Hiệu ứng chuyển động"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-green-500",children:"✨"}),(0,p.jsx)("span",{children:"Hiệu ứng mở m\xe0n"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-blue-500",children:"\uD83C\uDFB5"}),(0,p.jsx)("span",{children:"Nhạc nền t\xf9y chỉnh"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-purple-500",children:"\uD83C\uDFF7️"}),(0,p.jsx)("span",{children:"X\xf3a watermark"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-orange-500",children:"\uD83C\uDF81"}),(0,p.jsx)("span",{children:"Hộp lời ch\xfac & Tặng qu\xe0"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-blue-500",children:"\uD83D\uDDFA️"}),(0,p.jsx)("span",{children:"Bản đồ n\xe2ng cao"})]})]})]}),(0,p.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-3 rounded-lg border border-green-200 mb-3",children:[(0,p.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-xs uppercase tracking-wide",children:"\uD83D\uDCC8 N\xe2ng cấp giới hạn:"}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-left",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-purple-600",children:"\uD83C\uDF10"}),(0,p.jsxs)("span",{children:[B().websites," website"]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-pink-600",children:"\uD83D\uDDBC️"}),(0,p.jsxs)("span",{children:[B().images," h\xecnh ảnh"]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-indigo-600",children:"\uD83D\uDC41️"}),(0,p.jsxs)("span",{children:[B().views," lượt xem"]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,p.jsx)("span",{className:"text-teal-600",children:"⏰"}),(0,p.jsx)("span",{children:B().duration})]})]})]})]}),icon:null,okText:"N\xe2ng cấp ngay",cancelText:"Để sau",closable:!0,onOk:function(){window.open("/pricing-plans?upgradeSource=transition-effect","_blank")},width:500,maskClosable:!0,centered:!0})},V=function(e){Z!==e.id&&P(null),T(e.id),I(e)},Q=(0,i.useMemo)(function(){try{if(O)return O;var e=u.serialize();return JSON.parse(e)}catch(e){return console.error("Error serializing page data:",e),null}},[u,Z,m]),er=(0,i.useMemo)(function(){if(!Q)return null;try{var e,t,n,r,a=parseInt((null===(e=Q.ROOT)||void 0===e?void 0:null===(t=e.props)||void 0===t?void 0:t.width)||"500"),i=parseInt((null===(n=Q.ROOT)||void 0===n?void 0:null===(r=n.props)||void 0===r?void 0:r.height)||"600"),o=340/a,s=Object.entries(Q).reduce(function(e,t){var n=(0,b.Z)(t,2),r=n[0],a=n[1];if(!a.props)return e[r]=a,e;var i=ea(ea({},a.props),{},{top:(a.props.top||0)*o,left:(a.props.left||0)*o,width:(a.props.width||100)*o,height:(a.props.height||100)*o,fontSize:(a.props.fontSize||16)*o});return e[r]=ea(ea({},a),{},{props:i}),e},{});if(Q.ROOT){var c=Q.ROOT.props||{},l=(c.editorViewportWidth,(0,z.Z)(c,en));s.ROOT=ea(ea({},Q.ROOT),{},{props:ea(ea({},l),{},{width:340,height:i*o})})}return s}catch(e){return console.error("Error scaling page data:",e),Q}},[Q,Z,m]),ei=function(){if(!R()){X();return}if(!O){s.ZP.warning("Kh\xf4ng c\xf3 hiệu ứng n\xe0o để \xe1p dụng!");return}var e=JSON.parse(u.serialize());Object.keys(e).some(function(t){var n,r;return"ROOT"!==t&&(null===(n=e[t].props)||void 0===n?void 0:null===(r=n.transition)||void 0===r?void 0:r.effectEnabled)})?j.Z.confirm({title:"\xc1p dụng hiệu ứng hiện tại",content:(0,p.jsx)("div",{children:(0,p.jsx)("p",{children:"Thao t\xe1c n\xe0y sẽ ghi đ\xe8 tất cả c\xe1c hiệu ứng chuyển động hiện tại tr\xean trang."})}),icon:null,maskClosable:!0,okText:"\xc1p dụng",cancelText:"Hủy bỏ",onOk:function(){eo()}}):eo()},eo=function(){try{C(!1),Object.keys(O).forEach(function(e){if("ROOT"!==e){var t,n=O[e];null!==(t=n.props)&&void 0!==t&&t.transition&&f.setProp(e,function(e){e.transition||(e.transition=ea({},U.b));var t=n.props.transition;e.transition.effectEnabled=t.effectEnabled,e.transition.effectType=t.effectType,e.transition.effectDuration=t.effectDuration,e.transition.effectDelay=t.effectDelay,e.transition.effectEasing=t.effectEasing})}}),s.ZP.success("Đ\xe3 \xe1p dụng hiệu ứng v\xe0o trang!"),P(null),T("")}catch(e){console.error("Error applying transitions to nodes:",e),s.ZP.error("C\xf3 lỗi xảy ra khi \xe1p dụng hiệu ứng!")}},es=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];P(null),T(""),y(function(e){return e+1}),e&&s.ZP.info("Đ\xe3 loại bỏ hiệu ứng mẫu!")};return(0,i.useEffect)(function(){m!==$.Ey.EFFECT&&es(!1)},[m]),(0,p.jsxs)("div",{style:{height:"calc(-64px - 45px + 100vh)",overflowY:"scroll"},className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" flex flex-col pb-6",children:[(0,p.jsx)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" px-4 pt-2 md:pt-4",children:(0,p.jsx)(M.Z,{size:"small",className:"mb-4",title:(0,p.jsxs)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" flex items-center gap-2",children:[(0,p.jsx)("span",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]]),children:"\uD83C\uDFA8 Hiệu ứng dựng sẵn"}),(0,p.jsx)(x.Z,{position:"top-right",size:"sm"})]}),children:(0,p.jsxs)(L.Z,{direction:"vertical",className:"w-full",size:"small",children:[(0,p.jsx)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" text-xs text-gray-500 mb-3",children:"Chọn 1 mẫu hiệu ứng để \xe1p dụng cho to\xe0n bộ trang"}),(0,p.jsx)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" "+"".concat(Y().gridCols2," ").concat(Y().gap3," mb-3"),children:K.map(function(e){return(0,p.jsx)(G,{preset:e,onApply:V,onRemove:function(){return es(!0)},isSelected:Z===e.id},e.id)})})]})})}),(0,p.jsxs)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" mx-auto flex justify-center items-center gap-2",children:[(0,p.jsxs)("button",{onClick:function(){C(!0)},className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors font-medium",children:["\uD83C\uDFAC ",Z?"Xem trước":"Xem trước hiệu ứng"]}),Z&&(0,p.jsx)("button",{onClick:ei,className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" px-4 py-2 bg-pink-cinelove text-white rounded-lg bg-pink-cinelove-hover-darker transition-colors font-medium",children:"✨ \xc1p dụng"})]}),(0,p.jsxs)(j.Z,{title:(0,p.jsxs)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" flex justify-between items-center pr-8",children:[(0,p.jsx)("span",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]]),children:"Xem trước hiệu ứng"}),O&&(0,p.jsx)("button",{onClick:ei,className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" px-3 py-1 bg-pink-cinelove bg-pink-cinelove-hover-darker text-white rounded text-sm font-medium transition-colors",children:"✨ \xc1p dụng"})]}),open:k,onCancel:function(){C(!1),y(function(e){return e+1})},footer:null,centered:!0,destroyOnHidden:!0,children:[(0,p.jsx)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" text-center text-sm italic text-gray-600 mb-4 mt-4",children:Z?(0,p.jsxs)(p.Fragment,{children:["Trang đang hiển thị với hiệu ứng"," ",(0,p.jsx)("span",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" font-semibold text-pink-cinelove",children:(n=K.find(function(e){return e.id===Z}))?n.name:Z}),". ","Cuộn trang để xem"]}):"Chưa c\xf3 bộ hiệu ứng n\xe0o được \xe1p dụng. H\xe3y chọn 1 mẫu từ danh s\xe1ch."}),(0,p.jsx)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" flex justify-center",children:(0,p.jsx)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" border rounded-lg overflow-hidden bg-white",children:(0,p.jsx)("div",{style:{height:600},className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" overflow-auto",children:er?(0,p.jsx)("div",{id:"page-effect-preview-container",style:{width:340},className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" h-full relative overflow-x-hidden",children:(0,p.jsx)(F.ML,{resolver:_.s_,enabled:!1,children:(0,p.jsx)(F.RQ,{data:er},"preview-".concat(v,"-").concat((null===(r=er.ROOT)||void 0===r?void 0:null===(o=r.props)||void 0===o?void 0:o.width)||"preview"))})}):(0,p.jsx)("div",{className:a().dynamic([["688345860",[l?"100px":"0",l?"auto":"hidden"]]])+" flex items-center justify-center h-full text-gray-500",children:(0,p.jsx)(H.Z,{})})})})})]}),(0,p.jsx)(a(),{id:"688345860",dynamic:[l?"100px":"0",l?"auto":"hidden"],children:[".scroll-list.__jsx-style-dynamic-selector{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:100%;}",".background-list-container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:".concat(l?"100px":"0",";padding:20px 10px 20px 12px;}"),".background-item.__jsx-style-dynamic-selector{text-align:center;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;cursor:pointer;margin:auto;}",".background-item.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;}",".background-item.__jsx-style-dynamic-selector:hover img.__jsx-style-dynamic-selector{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.9;}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}",".effects-tab .ant-tabs-content-holder{overflow-y:".concat(l?"auto":"hidden",";}")]})]})},eo=function(e){var t=e.isMobile;return(0,p.jsxs)("div",{className:"jsx-1160285101 effects-tab",children:[(0,p.jsx)(o.Z,{defaultActiveKey:"transition",items:[{key:"transition",label:"Hiệu ứng động",children:(0,p.jsx)(ei,{isMobile:t})},{key:"opening",label:"Hiệu ứng mở m\xe0n",children:(0,p.jsx)(R,{isMobile:t})}]}),(0,p.jsx)(a(),{id:"1160285101",children:[".effects-tab.jsx-1160285101{height:100%;overflow:hidden;}",".effects-tab .ant-tabs{height:100%;}",".effects-tab .ant-tabs-nav{margin:0 !important;padding:0 16px;border-bottom:1px solid #f0f0f0;}",".effects-tab .ant-tabs-tab{padding:12px 0 !important;margin:0 24px 0 0 !important;font-size:14px;font-weight:500;color:#666;}",".effects-tab .ant-tabs-tab-active{color:#1890ff !important;}",".effects-tab .ant-tabs-ink-bar{background:#1890ff !important;height:2px !important;}",".effects-tab .ant-tabs-content{height:calc(100% - 44px);}",".effects-tab .ant-tabs-tabpane{height:100%;padding:0 !important;}"]})]})}},4473:function(e,t,n){"use strict";var r=n(19848),a=n.n(r);n(67294);var i=n(85893);t.Z=function(e){var t=e.count,n=void 0===t?6:t;return(0,i.jsxs)(i.Fragment,{children:[Array(n).fill(0).map(function(e,t){return(0,i.jsx)("div",{className:"jsx-451164390 materialItem skeleton",children:(0,i.jsx)("div",{className:"jsx-451164390 skeleton-content"})},t)}),(0,i.jsx)(a(),{id:"451164390",children:[".materialItem.jsx-451164390{aspect-ratio:1;border-radius:4px;}",".skeleton.jsx-451164390{background:#f4f5f6;position:relative;overflow:hidden;width:100%;height:100%;min-height:85px;}",".skeleton-content.jsx-451164390{height:100%;width:100%;background:linear-gradient( 90deg, rgba(255,255,255,0) 0, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100% );-webkit-animation:shimmer-jsx-451164390 1.5s infinite;animation:shimmer-jsx-451164390 1.5s infinite;position:absolute;top:0;left:0;}","@-webkit-keyframes shimmer-jsx-451164390{0%{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}100%{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}}","@keyframes shimmer-jsx-451164390{0%{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}100%{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}}"]})]})}},20380:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(67294),a=n(27812),i=n(50029),o=n(19848),s=n.n(o),c=n(87794),l=n.n(c),d=n(67623),u=n(82673),x=n(86745),p=n(40056),f=n(7764),h=n(59499);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=(0,n(31993).U)(function(e,t){return{cache:{},setMaterials:function(t,n){return e(function(e){return{cache:g(g({},e.cache),{},(0,h.Z)({},t,n))}})},getMaterials:function(e){return t().cache[e]||null}}}),v=n(4473),j=n(85893),y=function(e){var t=e.isMobile,n=void 0!==t&&t,o=e.onClose,c=e.activeCategory,h=e.categoryType,m=void 0===h?"img":h,g=e.onViewMore,y=(0,r.useState)(!1),w=y[0],k=y[1],N=b(),C=N.setMaterials,S=N.getMaterials,A=(0,r.useState)([]),Z=A[0],T=A[1],E=(0,r.useState)([]),O=E[0],P=E[1],D=(0,r.useRef)({}),I=(0,d.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),R=I.connectors.create,z=I.actions,B=I.query,M=I.currentlySelectedNodeId,L=(0,r.useRef)(0),F=(0,r.useRef)(0),_=(0,x.Hj)(),H=_.isReplacing,U=_.replaceType,K=_.selectedNodeId,q=(0,x.Dk)().setActiveKey;(0,r.useEffect)(function(){var e;k(!0),(e=(0,i.Z)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f.Z.API_URL,"/api/resources/all"));case 3:return t=e.sent,e.next=6,t.json();case 6:P(e.sent.categories),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to fetch categories:",e.t0);case 13:return e.prev=13,k(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),(0,r.useEffect)(function(){var e;(e=(0,i.Z)(l().mark(function e(){var t,n,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==c){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,k(!0),!(t=S(c))){e.next=8;break}return T(t),e.abrupt("return");case 8:return e.next=10,fetch("".concat(f.Z.API_URL,"/api/resources/categories/").concat(c));case 10:return n=e.sent,e.next=13,n.json();case 13:C(c,r=e.sent.items.map(function(e){return{id:e.id,imgKey:e.fileKey}})),T(r),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("Failed to fetch materials:",e.t0);case 22:return e.prev=22,k(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[2,19,22,25]])})),function(){return e.apply(this,arguments)})()},[c,C,S]);var W=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width)),o=Math.round(Math.min(Math.max(a,0),n.height));L.current=o,F.current=i}},X=function(e,t,i){if(H&&"material"===U&&null!==K&&K==M){var s=B.node(K).get().data.props.width,c=s,l=D.current[i];if(l){var d=l.naturalWidth;c=s*(l.naturalHeight/d)}z.setProp(K,function(e){e.imgKey=t,e.width=s,e.height=c,e.materialType=m}),x.Hj.getState().setReplacing(!1),x.Hj.getState().setReplaceType(null),x.Hj.getState().setSelectedNodeId(null),n&&o&&o(),q(null);return}var u=document.getElementById("root-page-container"),p=document.getElementById("main-scroll-container");if(u&&p){var f=p.scrollTop,h=u.getBoundingClientRect().width,g=100,b=100,v=D.current[i];if(v){var j=v.naturalWidth,y=v.naturalHeight;j>200?(g=200,b=Math.round(200*(y/j))):(g=j,b=y)}var w=B.node("ROOT").get().data.nodes||[],k=0;w.length>0&&(k=Math.max.apply(Math,(0,a.Z)(w.map(function(e){return B.node(e).get().data.props.zIndex||0}))));var N=B.createNode(r.createElement(e,{top:Math.round(f+window.innerHeight/2-150),left:Math.round(h/2-g/2),width:g,height:v?b:"auto",imgKey:t,materialType:m,zIndex:0==k?0:k+1}));z.add(N,"ROOT"),z.selectNode(N.id),n&&o&&o()}};return(0,j.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" scroll-list",children:[H&&"material"===U&&(0,j.jsx)(p.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm sticky top-0 z-50"}),"all"===c?(0,j.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" categories-container",children:w?(0,j.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:(0,j.jsx)(v.Z,{count:15})}):O.map(function(e){return(0,j.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" category-section",children:[(0,j.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" category-header",children:[(0,j.jsx)("h3",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]]),children:e.name}),(0,j.jsx)("button",{onClick:function(){return g(e.id)},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" view-more",children:"Xem th\xeam"})]}),(0,j.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:e.samples.map(function(t){return(0,j.jsx)("div",{onClick:function(){return X(u.r,t.imgKey,t.id)},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" materialItem",children:(0,j.jsx)("img",{src:"svg"===e.type?"".concat(f.Z.CDN_URL,"/").concat(t.imgKey):"".concat(f.Z.CDN_URL,"/").concat(t.thumbnailKey),alt:"".concat(e.name," thumbnail"),ref:function(e){return D.current[t.id]=e},style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])})},t.id)})})]},e.id)})}):(0,j.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:w?(0,j.jsx)(v.Z,{count:15}):Z.map(function(e){return(0,j.jsx)("div",{ref:function(t){return R(t,(0,j.jsx)(u.r,{imgKey:e.imgKey}),{onCreate:function(t){var n=100,r=100,i=D.current[e.id];if(i){var o=i.naturalWidth,s=i.naturalHeight;n=o,r=s}var c=B.node("ROOT").get().data.nodes||[],l=0;c.length>0&&(l=Math.max.apply(Math,(0,a.Z)(c.map(function(e){return B.node(e).get().data.props.zIndex||0}))));var d=Object.keys(t.nodes)[0];z.setProp(d,function(e){e.top=L.current||0,e.left=F.current||0,e.width=n,e.height=i?r:"auto",e.materialType=m,e.zIndex=0==l?0:l+1})}})},draggable:!0,onClick:function(){return X(u.r,e.imgKey,e.id)},onDrag:W,className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" materialItem",children:(0,j.jsx)("img",{src:"svg"===m?"".concat(f.Z.CDN_URL,"/").concat(e.imgKey):"".concat(f.Z.CDN_URL,"/resources/").concat(c,"/thumbnail/").concat(e.id,".webp"),alt:"Material thumbnail",ref:function(t){return D.current[e.id]=t},style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])})},e.id)})}),(0,j.jsx)(s(),{id:"1126291226",dynamic:[n&&"all"!==c?"100px":"0"],children:[".categories-container.__jsx-style-dynamic-selector{padding:20px 0;}",".category-section.__jsx-style-dynamic-selector{margin-bottom:30px;}","@media screen and (max-width:768px){.category-section.__jsx-style-dynamic-selector:last-child{margin-bottom:50px;}}",".category-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px;padding:0 12px;}",".category-header.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{font-size:16px;font-weight:600;margin:0;}",".view-more.__jsx-style-dynamic-selector{color:#666;font-size:14px;-webkit-text-decoration:none;text-decoration:none;background:none;border:none;cursor:pointer;padding:0;}",".view-more.__jsx-style-dynamic-selector:hover{color:#1890ff;}",".materialItem.__jsx-style-dynamic-selector{text-align:center;padding:10px;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;cursor:pointer;margin:auto;}",".materialItem.__jsx-style-dynamic-selector:hover{background:rgba(0,0,0,0.1);}",".material-list-container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:".concat(n&&"all"!==c?"100px":"0",";padding:20px 10px 20px 12px;}")]}),(0,j.jsx)(s(),{id:"1357349454",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:100%;}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})},w=n(85418),k=function(e){var t=e.mainCategories,n=e.subCategoryData,r=e.activeCategory,a=e.activeSubCategory,i=e.selectedSubCategoryLabel,o=e.onCategoryChange,c=e.onSubCategoryChange,l=n.map(function(e){var t=e.key,n=e.label;return{key:t,label:(0,j.jsx)("button",{className:"category-btn w-full text-left ".concat(r===t?"active":""),onClick:function(){return c(t,n)},children:n})}});return(0,j.jsxs)("div",{className:"jsx-3655831712 category-list",children:[(0,j.jsxs)("div",{className:"jsx-3655831712 main-categories",children:[t.map(function(e){return(0,j.jsx)("button",{onClick:function(){return o(e.key)},className:"jsx-3655831712 "+"category-btn ".concat(r===e.key?"active":""),children:e.label},e.key)}),(0,j.jsx)(w.Z,{menu:{items:l},trigger:["click"],placement:"bottomLeft",overlayClassName:"subcategories-dropdown",children:(0,j.jsxs)("button",{className:"jsx-3655831712 "+"category-btn ".concat(a?"active":""),children:[i," ▼"]})})]}),(0,j.jsx)(s(),{id:"3655831712",children:[".category-list{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:12px;border-bottom:1px solid rgb(244,245,246);}",".main-categories,.sub-categories{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5px;}",".category-btn{padding:6px 12px;border-radius:16px;border:none;background-color:#f5f5f5;color:#333;font-size:14px;cursor:pointer;-webkit-transition:all 0.2s;transition:all 0.2s;}",".category-btn:hover{background-color:#e8e8e8;}",".category-btn.active{background-color:#e6f0ff;color:#1890ff;}",".subcategories-dropdown .ant-dropdown-menu{padding:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5px;width:280px;background:white;}",".subcategories-dropdown .ant-dropdown-menu-item{padding:0;margin:0;width:auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}",".subcategories-dropdown .ant-dropdown-menu-item:hover{background:transparent;}",".subcategories-dropdown .ant-dropdown-menu-item-only-child{padding:0 !important;margin:0 !important;background:transparent !important;white-space:normal !important;}",".subcategories-dropdown .category-btn{white-space:nowrap;text-align:left;padding:6px 12px;border-radius:16px;background-color:#f5f5f5;width:auto;}",".subcategories-dropdown .category-btn:hover{background-color:#e8e8e8;}",".ant-dropdown.subcategories-dropdown{-webkit-animation-duration:0.2s;animation-duration:0.2s;}",".subcategories-dropdown .category-btn.active{background-color:#e6f0ff;color:#1890ff;}"]})]})},N=function(e){var t,n=e.isMobile,a=e.onClose,i=(0,r.useState)("all"),o=i[0],s=i[1],c=(0,r.useState)(null),l=c[0],d=c[1],u=(0,r.useState)("Xem th\xeam"),x=u[0],p=u[1],f=[{key:"textCombination",label:"Kết hợp chữ"},{key:"numbersAndLetters",label:"Số v\xe0 chữ c\xe1i"},{key:"decorativeElements",label:"Trang tr\xed kh\xf4ng gian"},{key:"birthdayWishes",label:"Ch\xfac mừng sinh nhật"},{key:"sun",label:"Mặt trời"},{key:"festivalHighlights",label:"Lễ hội nổi bật"},{key:"stars",label:"Ng\xf4i sao"},{key:"motherAndBaby",label:"Mẹ v\xe0 b\xe9"},{key:"flowchartIcons",label:"Biểu tượng lưu đồ"},{key:"map",label:"Bản đồ"},{key:"shapes",label:"H\xecnh dạng"},{key:"borders",label:"Khung viền"},{key:"dividers",label:"Đường ph\xe2n c\xe1ch"}],h=function(e){s(e),d(null),p("Xem th\xeam")},m=function(e,t){s(e),p(t),d(e)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k,{mainCategories:[{key:"all",label:"Tất cả"},{key:"weddingElements",label:"Yếu tố đ\xe1m cưới"},{key:"characters",label:"Nh\xe2n vật"},{key:"bouquet",label:"Hoa cưới"},{key:"happiness",label:"Chữ hỷ"},{key:"love",label:"Tr\xe1i tim"}],subCategoryData:f,activeCategory:o,activeSubCategory:l,selectedSubCategoryLabel:x,onCategoryChange:h,onSubCategoryChange:m}),(0,j.jsx)(y,{isMobile:n,onClose:a,activeCategory:o,categoryType:null===(t=({weddingElements:{name:"Yếu tố đ\xe1m cưới",type:"img"},characters:{name:"Nh\xe2n vật",type:"img"},bouquet:{name:"Hoa cưới",type:"img"},happiness:{name:"Chữ hỷ",type:"img"},love:{name:"Tr\xe1i tim",type:"img"},textCombination:{name:"Kết hợp chữ",type:"img"},numbersAndLetters:{name:"Số v\xe0 chữ c\xe1i",type:"img"},decorativeElements:{name:"Trang tr\xed kh\xf4ng gian",type:"img"},birthdayWishes:{name:"Ch\xfac mừng sinh nhật",type:"img"},sun:{name:"Mặt trời",type:"img"},festivalHighlights:{name:"Lễ hội nổi bật",type:"img"},stars:{name:"Ng\xf4i sao",type:"img"},motherAndBaby:{name:"Mẹ v\xe0 b\xe9",type:"img"},flowchartIcons:{name:"Biểu tượng lưu đồ",type:"img"},map:{name:"Bản đồ",type:"img"},shapes:{name:"H\xecnh dạng",type:"svg"},borders:{name:"Khung viền",type:"svg"},dividers:{name:"Đường ph\xe2n c\xe1ch",type:"svg"}})[o])||void 0===t?void 0:t.type,onViewMore:function(e){var t=f.find(function(t){return t.key===e});t?m(e,t.label):h(e)}})]})}},11936:function(e,t,n){"use strict";var r=n(16835),a=n(50029),i=n(27812),o=n(87794),s=n.n(o),c=n(67294),l=n(2453),d=n(17788),u=n(40056),x=n(74382),p=n(25675),f=n.n(p),h=n(30080),m=n(67623),g=n(42055),b=n(77917),v=n(76975),j=n(52804),y=n(84249),w=n(86745),k=n(49184),N=n(90072),C=n(85893);t.Z=function(e){var t,n,o=e.isMobile,p=e.onClose,S=(0,c.useState)([]),A=S[0],Z=S[1],T=(0,c.useState)(!1),E=T[0],O=T[1],P=(0,w.Hj)(),D=P.isReplacing,I=P.replaceType,R=P.selectedNodeId,z=(0,w.Dk)().setActiveKey,B=(0,N.X2)(),M=B.settings,L=B.setThumbnail,F=(0,m.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),_=F.connectors.create,H=F.actions,U=F.query,K=F.currentlySelectedNodeId,q=(0,c.useRef)({}),W=(0,c.useRef)(0),X=(0,c.useRef)(0),V=(0,j.$)(function(e){return e.refreshTrigger}),Y=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width)),o=Math.round(Math.min(Math.max(a,0),n.height));W.current=o,X.current=i}},Q=function(e,t){if(D&&"photo"===I&&null!==R&&R===K){var n=U.node(R).get().data.props.width,r=n,a=q.current[t];if(a){var s=a.naturalWidth;r=n*(a.naturalHeight/s)}H.setProp(R,function(t){t.imgKey=e,t.width=n,t.height=r}),w.Hj.getState().setReplacing(!1),w.Hj.getState().setReplaceType(null),w.Hj.getState().setSelectedNodeId(null),o&&p&&p(),z(null);return}var l=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(l&&d){var u=d.scrollTop,x=l.getBoundingClientRect().width,f=100,h=100,m=q.current[t];if(m){var j=m.naturalWidth,y=m.naturalHeight,k=(0,b.M)(v.qp,j,y),N=k.scaleWidth,C=k.scaleHeight;f=N,h=C}var S=U.node("ROOT").get().data.nodes||[],A=0;S.length>0&&(A=Math.max.apply(Math,(0,i.Z)(S.map(function(e){return U.node(e).get().data.props.zIndex||0}))));var Z=U.createNode(c.createElement(g.A,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(x/2-f/2),width:f,height:h,imgKey:e,zIndex:0==A?0:A+1}));H.add(Z,"ROOT"),H.selectNode(Z.id),o&&p&&p()}},G=(t=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,(0,k.ZQ)();case 4:Z(J(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),l.ZP.error("Failed to load photos");case 13:return e.prev=13,O(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return t.apply(this,arguments)}),J=function(e){return(0,i.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,c.useEffect)(function(){G()},[V]);var $=(A.reduce(function(e,t){return e+t.fileSize},0)/1073741824).toFixed(4),ee=function(e){var t=U.getNodes(),n=[],a=!1;return M.thumbnailKey&&M.thumbnailKey.includes(e)&&(a=!0),Object.entries(t).forEach(function(t){var a,i,o,s,c,l,d,u,x=(0,r.Z)(t,2),p=x[0],f=x[1];(null===(a=f.data)||void 0===a?void 0:a.name)==="PhotoBox"&&null!==(i=f.data)&&void 0!==i&&null!==(o=i.props)&&void 0!==o&&null!==(s=o.imgKey)&&void 0!==s&&s.includes(e)&&n.push(p),(null===(c=f.data)||void 0===c?void 0:c.name)==="UnifiedMap"&&null!==(l=f.data)&&void 0!==l&&null!==(d=l.props)&&void 0!==d&&null!==(u=d.galleryImageUrl)&&void 0!==u&&u.includes(e)&&n.push(p)}),{usedInNodes:n,isUsedAsThumbnail:a,totalUsage:n.length+(a?1:0)}},et=function(e){e.forEach(function(e){try{H.delete(e)}catch(t){console.warn("Kh\xf4ng thể x\xf3a node ".concat(e,":"),t)}})},en=(n=(0,a.Z)(s().mark(function e(t,n){var r,i,o,c,u;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=(r=ee(n)).usedInNodes,o=r.isUsedAsThumbnail,(c=r.totalUsage)>0?(u=(0,C.jsxs)("div",{children:[(0,C.jsxs)("p",{children:["Ảnh n\xe0y đang được sử dụng trong ",c," th\xe0nh phần:"]}),i.length>0&&(0,C.jsxs)("p",{children:["• ",i.length," th\xe0nh phần của trang"]}),o&&(0,C.jsxs)("p",{children:["• ",(0,C.jsx)("strong",{children:"Thumbnail của trang"})," (ảnh hiển thị khi chia sẻ)"]}),(0,C.jsx)("p",{children:(0,C.jsx)("strong",{children:"Nếu bạn x\xf3a ảnh n\xe0y, c\xe1c th\xe0nh phần đ\xf3 cũng sẽ bị x\xf3a theo."})}),(0,C.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 mt-2",children:(0,C.jsx)("div",{className:"flex",children:(0,C.jsxs)("div",{className:"ml-2 text-sm text-yellow-800",children:[(0,C.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến c\xe1c trang đ\xf3."]})})}),(0,C.jsx)("p",{className:"mt-3",children:(0,C.jsx)("strong",{children:"Bạn c\xf3 chắc chắn muốn tiếp tục x\xf3a?"})})]}),d.Z.confirm({title:"Ảnh đang được sử dụng",content:u,okText:"Vẫn x\xf3a",cancelText:"Hủy",okType:"danger",centered:!0,onOk:function(){var e=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,et(i),o&&L(""),e.next=5,(0,k.JJ)(t);case 5:l.ZP.success("Đ\xe3 x\xf3a ảnh v\xe0 ".concat(c," th\xe0nh phần sử dụng ảnh")),G(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),l.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}()})):d.Z.confirm({title:"X\xf3a ảnh",icon:null,content:(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?"}),(0,C.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mt-3",children:(0,C.jsx)("div",{className:"flex",children:(0,C.jsxs)("div",{className:"ml-3 text-sm text-yellow-800",children:[(0,C.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang thiệp kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến tất cả c\xe1c trang đ\xf3."]})})})]}),okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.JJ)(t);case 3:l.ZP.success("Ảnh đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),G(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),l.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)("div",{className:"p-3",children:(0,C.jsx)(x.Z,{onUploadSuccess:G})}),D&&(0,C.jsx)(u.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,C.jsxs)("div",{className:"mt-4",children:[(0,C.jsx)("h4",{className:"px-3 mb-2",children:"Tệp đ\xe3 tải l\xean"}),(0,C.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",A.length," tệp (",$," GB / 5GB)"]}),(0,C.jsx)("div",{className:"upload-list",children:(0,C.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:o?"calc(60vh - 300px)":"calc(100vh - 300px)",minHeight:"300px",maxHeight:"calc(100vh - 300px)",overflow:"auto",paddingBottom:"100px"},children:(0,C.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:E?Array(6).fill(null).map(function(e,t){return(0,C.jsx)("div",{className:"aspect-square animate-pulse",children:(0,C.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):A.map(function(e,t){return(0,C.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){return _(t,(0,C.jsx)(g.A,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=q.current[e.fileId];if(a){var o=a.naturalWidth,s=a.naturalHeight,c=(0,b.M)(v.qp,o,s),l=c.scaleWidth,d=c.scaleHeight;n=l,r=d}var u=U.node("ROOT").get().data.nodes||[],x=0;u.length>0&&(x=Math.max.apply(Math,(0,i.Z)(u.map(function(e){return U.node(e).get().data.props.zIndex||0}))));var p=Object.keys(t.nodes)[0];H.setProp(p,function(e){e.top=W.current||0,e.left=X.current||0,e.width=n,e.height=r,e.zIndex=0==x?0:x+1})}})},draggable:!0,onClick:function(){return Q(e.fileKey,e.fileId)},onDrag:Y,children:(0,C.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,C.jsx)(f(),{unoptimized:!0,src:(0,y.VM)(e.fileKey,200),alt:"User photo ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){return q.current[e.fileId]=t}}),(0,C.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,C.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,C.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),en(e.fileId,e.fileKey)},title:"Delete photo",children:(0,C.jsx)(h.XPx,{className:"w-3 h-3"})})})})]})},e.fileId)})})})})]})]})})}},57457:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(27812),a=n(67294),i=n(25675),o=n.n(i),s=n(67623),c={src:"/_next/static/media/plugin-map.ae42635e.png",height:300,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA7ElEQVR42n3Fu07CUBwH4L+YSKIuPoSrOvgIuhgHF1QewclZF3V11c3BUYwkxsEoMTFBjSK30HO4nFLOacslbdIBCIEBCj/SnfAtHwWetg4Xg12iZX9tfYlmmXwnt539PdY8jv6Mve4GgBUKKI2Hhds/Nd8/KvIoMqqcRKGnvvIANoftXphso3lQ4J8o8nuoy3MU7x58brrQmLgFECLDaF2k9T/ktNjALgu/Jk0/X4rjN5UEy2YjJJWVsJUFi2fgSAZTaqg71VbVUP+vb4kr0ln6RYhyzOv0ruuNxo3reGcAdgGs0nw7C4/x59AUskOPJl1M19UAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},l={src:"/_next/static/media/plugin-calendar.180f84fa.jpg",height:281,width:300,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAcACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABwEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAKGK/8QAHRAAAQQCAwAAAAAAAAAAAAAAEQECBBIAAxMzUf/aAAgBAQABPwBYzuW6bZBse5wJ8z//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAECAQE/AH//xAAXEQEBAQEAAAAAAAAAAAAAAAABAgAx/9oACAEDAQE/AGqe0u//2Q==",blurWidth:8,blurHeight:7},d={src:"/_next/static/media/plugin-countdown.fc12ee24.jpg",height:184,width:274,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABgEBAQAAAAAAAAAAAAAAAAAAAwX/2gAMAwEAAhADEAAAALIFR//EABwQAAIABwAAAAAAAAAAAAAAAAERAAIDEhUz0v/aAAgBAQABPwDHE1Nxd7bn6j//xAAXEQADAQAAAAAAAAAAAAAAAAAAAQJR/9oACAECAQE/AFM4f//EABkRAAEFAAAAAAAAAAAAAAAAAAACAwQhIv/aAAgBAwEBPwBch6tn/9k=",blurWidth:8,blurHeight:5},u={src:"/_next/static/media/plugin-phone-button.7b735ea0.png",height:225,width:225,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAvUlEQVR42mP4////n7dvP0+c/CE4/ENo5OcpU4FcoCADkPqQmPLe3Qco+t474L2awce0LKAgw+fJU98p6Px59+7LoiXvdUw/xCS8V9UH6mMAKXT2/PPmzZdZs98xMH3wC/rgF/whJILhQ2Tsew2jLzNn/3n9+mN+EUiHp9+H0CiQUe+NrN4bWn1du+7fv3+/bt1+x8Dweep0kOUf0zLf65sD9X1qavmYnfchKRVkOcS5QH0gMx3cPvf0QZwLALI3f3ZyH9o2AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},x={src:"/_next/static/media/plugin-form.25bbf20f.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA+ElEQVR42mOwsU83ZDDLcWGwyrK1d0g3UbPLMAKKmTFYZ1owgIFFtueV0NCnR4MiOhkky8SDHdPsGExyZWd4JSSs9YutZWCwznLc7h+9brVvbHq1azIDEIseC4pgAOLsU8Hh+0EmuF4LC318IjiinYGvXDTKKc2GQaFE4kBgZBZQbBMD0C7HTX4xq1b6xqZN8UxgAGLxI0GRDECcDVSwFWSCx82wkCeHgyJrGAzzGIBYi4HhG/MW/5hooIItDEDXWy7yjlsE1LHgbEh4PRC3Hg+KKLsWGnr8XEj4VoY9AVEgXH0hJGzt6eDw1WeAGESfDwlbvcEvJggAFe9hesiu3DwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},p=n(47474),f=n(76975),h=n(21583),m=n(7599),g=n(88947),b=n(59570),v=n(33299),j=n(53298),y=n(80122),w=n(22567),k=n(46425),N=n(85893),C=function(e){var t=e.isOpen,n=e.onClose,r=k.T0.filter(function(e){return"basic"===e.name||"premium"===e.name}),i=function(e){window.open(e,"_blank"),n()};return(0,N.jsx)(j.u,{appear:!0,show:t,as:a.Fragment,children:(0,N.jsxs)(y.Vq,{as:"div",className:"relative",style:{zIndex:9999},onClose:n,children:[(0,N.jsx)(j.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,N.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,N.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,N.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,N.jsx)(j.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,N.jsxs)(y.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all relative",children:[(0,N.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Đ\xf3ng",children:(0,N.jsx)(w.JO,{icon:"solar:close-circle-bold",className:"h-6 w-6 text-gray-500"})}),(0,N.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,N.jsx)("div",{className:"rounded-full bg-blue-100 p-3",children:(0,N.jsx)(w.JO,{icon:"solar:map-bold",className:"h-8 w-8 text-blue-500"})})}),(0,N.jsx)(y.Vq.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-gray-900 text-center mb-2",children:"Giới hạn g\xf3i Free"}),(0,N.jsxs)("div",{className:"mt-4 text-center",children:[(0,N.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:(0,N.jsxs)("p",{className:"text-gray-600",children:["G\xf3i Free chỉ cho ph\xe9p sử dụng tối đa"," ",(0,N.jsx)("strong",{children:"1 bản đồ"})," tr\xean mỗi trang."]})}),(0,N.jsx)("p",{className:"text-gray-600 mb-6",children:"N\xe2ng cấp l\xean g\xf3i Basic hoặc Premium để th\xeam kh\xf4ng giới hạn bản đồ v\xe0 nhiều t\xednh năng n\xe2ng cao kh\xe1c."}),(0,N.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,N.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,N.jsx)(w.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"N\xe2ng cấp để sử dụng đầy đủ"]}),(0,N.jsx)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:r.map(function(e){return(0,N.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[e.popular&&(0,N.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,N.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,N.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,N.jsx)(w.JO,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,N.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,N.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,N.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,N.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,k.vs)(e.price,e.originalPrice),"%"]})]}):(0,N.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,N.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,N.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,N.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,N.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,N.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,N.jsx)("div",{className:"text-gray-700",children:"• Kh\xf4ng giới hạn bản đồ"}),e.featured&&(0,N.jsx)("div",{className:"text-gray-700",children:"• Template Premium"})]}),(0,N.jsxs)("button",{onClick:function(){return i(e.ctaLink+"&upgradeSource=map-limit")},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]})]})]})})})})]})})},S=function(e){var t,n=e.isMobile,i=void 0!==n&&n,j=e.onClose,y=(0,s.jE)(),w=y.connectors.create,k=y.actions,S=y.query,A=(0,v.useSession)().data,Z=(null==A?void 0:null===(t=A.user)||void 0===t?void 0:t.plan)||"free",T=(0,a.useState)(!1),E=T[0],O=T[1],P=(0,a.useRef)(0),D=(0,a.useRef)(0),I=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width)),o=Math.round(Math.min(Math.max(a,0),n.height));P.current=o,D.current=i}},R=function(e,t,n){if(4===n&&"free"===Z&&Object.values(S.getNodes()).some(function(e){var t,n,r;return(null===(t=e.data)||void 0===t?void 0:t.name)==="UnifiedMap"||(null===(n=e.data)||void 0===n?void 0:n.name)==="PluginMap"||(null===(r=e.data)||void 0===r?void 0:r.name)==="PluginSimpleMap"})){O(!0);return}var o=document.getElementById("root-page-container"),s=document.getElementById("main-scroll-container");if(o&&s){var c=s.scrollTop,l=o.getBoundingClientRect().width,d=S.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,r.Z)(d.map(function(e){return S.node(e).get().data.props.zIndex||0}))));var x=S.createNode(a.createElement(e,{top:Math.round(c+window.innerHeight/2-150),left:Math.round(l/2-t/2),zIndex:0==u?0:u+1}));k.add(x,"ROOT"),k.selectNode(x.id),i&&j&&j()}},z=[{id:1,thumbnail:l,title:"Lịch",element:p.q,initWidth:f.Yx.calendarWidth},{id:2,thumbnail:d,title:"Đếm ngược",element:h.D,initWidth:f.Yx.countdownWidth},{id:4,thumbnail:c,title:"Bản đồ",element:b.o,initWidth:f.Yx.mapWidth},{id:5,thumbnail:u,title:"N\xfat gọi",element:m.u,initWidth:f.Yx.phoneButtonWidth},{id:6,thumbnail:x,title:"Form x\xe1c nhận tham dự",element:g.N,initWidth:f.Yx.formWidth}];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{id:"plugin-list-container",style:{height:i?"60vh":"calc(100vh - 60px)",overflow:"auto",padding:"16px",paddingBottom:"100px"},children:(0,N.jsx)("div",{className:"flex flex-col gap-4 ",children:z.map(function(e,t){var n=e.element;return(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-semibold mb-4",children:e.title}),(0,N.jsx)("div",{className:"w-24 rounded-lg m-auto cursor-pointer",ref:function(t){return w(t,(0,N.jsx)(n,{}),{onCreate:function(t){if(4===e.id&&"free"===Z){var n=Object.keys(t.nodes)[0];k.delete(n);return}var a=S.node("ROOT").get().data.nodes||[],i=0;a.length>0&&(i=Math.max.apply(Math,(0,r.Z)(a.map(function(e){return S.node(e).get().data.props.zIndex||0}))));var o=Object.keys(t.nodes)[0];k.setProp(o,function(e){e.top=P.current||0,e.left=D.current||0,e.zIndex=0==i?0:i+1})}})},draggable:!0,onClick:function(){return R(n,e.initWidth,e.id)},onDrag:I,children:(0,N.jsx)(o(),{unoptimized:!0,src:e.thumbnail,style:{borderRadius:5},alt:"Plugin thumbnail"})},t)]},t)})})}),E&&(0,N.jsx)(C,{isOpen:E,onClose:function(){return O(!1)}})]})}},86678:function(e,t,n){"use strict";var r=n(50029),a=n(19848),i=n.n(a),o=n(87794),s=n.n(o),c=n(67294),l=n(30731),d=n(74330),u=n(32983),x=n(7764),p=n(65435),f=n(16199),h=n(85893);t.Z=function(){var e,t=(0,c.useState)([]),n=t[0],a=t[1],o=(0,c.useState)(!0),m=o[0],g=o[1];(0,f.F)(),(0,c.useEffect)(function(){b()},[]);var b=(e=(0,r.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,(0,l.Tk)();case 4:a(e.sent.templates),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching templates:",e.t0),g(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return e.apply(this,arguments)});return(0,h.jsxs)("div",{className:"jsx-2318782520 h-full",children:[(0,h.jsxs)("div",{className:"jsx-2318782520 mb-4 px-3",children:[(0,h.jsx)("h3",{className:"jsx-2318782520 text-lg font-semibold mb-2 mt-2",children:"Chọn mẫu thiết kế"}),(0,h.jsx)("p",{className:"jsx-2318782520 text-sm text-gray-500",children:"Chọn một mẫu thiết kế c\xf3 sẵn để bắt đầu nhanh ch\xf3ng"})]}),(0,h.jsx)("div",{className:"jsx-2318782520 scroll-list",children:m?(0,h.jsx)("div",{className:"jsx-2318782520 flex justify-center items-center h-64",children:(0,h.jsx)(d.Z,{size:"small"})}):n.length>0?(0,h.jsx)("div",{className:"jsx-2318782520 template-grid-container",children:(0,h.jsx)("div",{className:"jsx-2318782520 template-grid",children:n.map(function(e){return(0,h.jsx)("div",{className:"jsx-2318782520 template-item",children:(0,h.jsx)(p.Z,{imageSrc:"".concat(x.Z.CDN_URL,"/").concat(e.longThumbnail),templateData:e})})})})}):(0,h.jsx)(u.Z,{description:"Kh\xf4ng t\xecm thấy mẫu thiết kế"})}),(0,h.jsx)(i(),{id:"4011045569",children:[".template-grid-container.jsx-2318782520{padding:10px;}",".template-grid.jsx-2318782520{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;row-gap:20px;padding-bottom:80px;}"]}),(0,h.jsx)(i(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})}},30257:function(e,t,n){"use strict";n.d(t,{v:function(){return eh}});var r,a=n(71383),i=n(19848),o=n.n(i),s=n(83062),c=n(92398),l=n(67294),d=n(6255),u=n(78633),x=n(19151),p=n(55451),f=n(30080),h=n(86745),m=n(11936),g=n(54335),b=n(67623),v=n(57457),j=n(76975),y={src:"/_next/static/media/close-tab-btn.d117f28e.png",height:208,width:40,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAICAQAAAB5JObJAAAAKklEQVR42iXJwQ0AIAgEwWuWgilG0eRkffCcjJwVAiNety4bHdZwwlnxAVrVHg3XzMA6AAAAAElFTkSuQmCC",blurWidth:2,blurHeight:8},w=n(20380),k=n(93326),N=n(85193),C=n(86678),S=n(50029),A=n(27812),Z=n(87794),T=n.n(Z),E=n(2453),O=n(17788),P=n(40056),D=n(59499),I=n(2058),R=n(74330),z=n(63909),B=n(52091),M=n(40221),L=n(9758),F=n(85893);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,D.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=I.Z.Dragger,K=function(e){var t,n,r,a=e.onUploadSuccess,i=e.userPhotosCount,o=void 0===i?0:i,s=e.userInfo,c=(0,l.useState)(!1),d=c[0],u=c[1],x=(0,l.useState)([]),p=x[0],f=x[1],h=(0,L.z_)(s.plan),m=Math.max(0,h.maxImages-o),g=o<h.maxImages;(0,l.useEffect)(function(){if(p.length>0&&!d){var e=setTimeout(function(){f([])},2e3);return function(){return clearTimeout(e)}}},[p,d]);var b={name:"file",multiple:!0,maxCount:15,fileList:p,beforeUpload:(t=(0,S.Z)(T().mark(function e(t,n){var r,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>15)){e.next=3;break}return E.ZP.error("Bạn chỉ c\xf3 thể tải l\xean tối đa 15 file c\xf9ng một l\xfac"),e.abrupt("return",!1);case 3:if(!(n.length>m)){e.next=6;break}return E.ZP.error("Kh\xf4ng thể tải l\xean. User n\xe0y chỉ c\xf3 thể tải l\xean th\xeam ".concat(m," ảnh nữa theo g\xf3i ").concat(s.plan)),e.abrupt("return",!1);case 6:if(!(t.size>1048576)){e.next=20;break}return e.prev=8,r={maxSizeMB:5,maxWidthOrHeight:2048,useWebWorker:!0},e.next=12,(0,M.Z)(t,r);case 12:return a=e.sent,e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(8),E.ZP.error("Lỗi khi n\xe9n ảnh tối đa 5MB ".concat(t.name)),e.abrupt("return",!1);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}),customRequest:(n=(0,S.Z)(T().mark(function e(t){var n,r,a,i,o,c,l;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.onSuccess,a=t.onError,i=t.onProgress,(o=new FormData).append("file",n),e.prev=3,c="/file-upload/upload-as-user/".concat(s.userId),e.next=7,z.Z.post(c,o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.total){var t=Math.floor(e.loaded/e.total*100);null==i||i({percent:t})}}});case 7:l=e.sent,null==r||r(l.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),null==a||a(e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])})),function(e){return n.apply(this,arguments)}),onChange:function(e){var t=e.file.status;if(e.fileList.length>m){u(!1);return}f(e.fileList),"done"===t?(E.ZP.success("Tải l\xean ".concat(e.file.name," th\xe0nh c\xf4ng.")),a()):"error"===t&&E.ZP.error("Tải l\xean ".concat(e.file.name," thất bại."))},onDrop:(r=(0,S.Z)(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g){e.next=4;break}return E.ZP.error("User n\xe0y đ\xe3 đạt giới hạn g\xf3i ".concat(s.plan)),e.abrupt("return");case 4:u(!0);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})};return(0,F.jsx)("div",{children:(0,F.jsxs)(U,H(H({disabled:d||!g},b),{},{children:[(0,F.jsx)("span",{className:"bg-gray-200 text-blue-600 text-sm px-2 py-0.5 rounded-full capitalize absolute top-2 right-2",children:s.plan}),(0,F.jsxs)("span",{className:"bg-orange-100 text-orange-600 text-xs px-2 py-0.5 rounded-full capitalize absolute top-2 left-2",children:["As: ",s.name]}),(0,F.jsxs)(R.Z,{tip:"Đang xử l\xfd file...",spinning:d,children:[(0,F.jsx)("p",{className:"mb-2",children:(0,F.jsx)(B.Qvc,{size:38,className:"m-auto text-primary"})}),g?(0,F.jsx)("p",{className:"text-xs text-gray-500 ".concat(d?"invisible":""),children:"K\xe9o thả hoặc nhấn v\xe0o đ\xe2y để tải l\xean file. C\xf3 thể tải l\xean tối đa 15 ảnh c\xf9ng một l\xfac."}):(0,F.jsxs)("p",{className:"text-xs text-orange-600 font-medium",children:["User n\xe0y đ\xe3 đạt giới hạn g\xf3i ",s.plan.toUpperCase()]}),(0,F.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:[(0,F.jsxs)("span",{children:["Đ\xe3 tải:"," ",(0,F.jsxs)("span",{className:"font-medium text-gray-600",children:[o,"/",h.maxImages]})]}),(0,F.jsx)("span",{className:"mx-2",children:"•"}),(0,F.jsxs)("span",{children:["C\xf2n lại:"," ",(0,F.jsx)("span",{className:"font-medium ".concat(m>0?"text-blue-600":"text-orange-600"),children:m})]}),(0,F.jsx)("span",{className:"mx-2",children:"•"}),(0,F.jsxs)("span",{children:["Plan: ",s.plan.toUpperCase()]})]})]})]}))})},q=n(25675),W=n.n(q),X=n(42055),V=n(77917),Y=n(52804),Q=n(84249),G=n(49184),J=function(e){var t,n=e.isMobile,r=e.onClose,a=e.userInfo,i=(0,l.useState)([]),o=i[0],s=i[1],c=(0,l.useState)(!1),d=c[0],u=c[1],x=(0,h.Hj)(),p=x.isReplacing,m=x.replaceType,g=x.selectedNodeId,v=(0,h.Dk)().setActiveKey,y=(0,b.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),w=y.connectors.create,k=y.actions,N=y.query,C=y.currentlySelectedNodeId,Z=(0,l.useRef)({}),D=(0,l.useRef)(0),I=(0,l.useRef)(0),R=(0,Y.$)(function(e){return e.refreshTrigger}),z=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width)),o=Math.round(Math.min(Math.max(a,0),n.height));D.current=o,I.current=i}},B=function(e,t){if(p&&"photo"===m&&null!==g&&g===C){var a=N.node(g).get().data.props.width,i=a,o=Z.current[t];if(o){var s=o.naturalWidth;i=a*(o.naturalHeight/s)}k.setProp(g,function(t){t.imgKey=e,t.width=a,t.height=i}),h.Hj.getState().setReplacing(!1),h.Hj.getState().setReplaceType(null),h.Hj.getState().setSelectedNodeId(null),n&&r&&r(),v(null);return}var c=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(c&&d){var u=d.scrollTop,x=c.getBoundingClientRect().width,f=100,b=100,y=Z.current[t];if(y){var w=y.naturalWidth,S=y.naturalHeight,T=(0,V.M)(j.qp,w,S),E=T.scaleWidth,O=T.scaleHeight;f=E,b=O}var P=N.node("ROOT").get().data.nodes||[],D=0;P.length>0&&(D=Math.max.apply(Math,(0,A.Z)(P.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var I=N.createNode(l.createElement(X.A,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(x/2-f/2),width:f,height:b,imgKey:e,zIndex:0==D?0:D+1}));k.add(I,"ROOT"),k.selectNode(I.id),n&&r&&r()}},M=(0,l.useCallback)((0,S.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,(0,G.oJ)(a.userId);case 4:s(L(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),E.ZP.error("Failed to load photos");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),[a.userId]),L=function(e){return(0,A.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){M()},[R,a.userId,M]);var _=(o.reduce(function(e,t){return e+t.fileSize},0)/1073741824).toFixed(4),H=(t=(0,S.Z)(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O.Z.confirm({title:"X\xf3a ảnh",content:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?",okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,S.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,G.Vi)(t,a.userId);case 3:E.ZP.success("Photo deleted successfully"),M(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),E.ZP.error("Failed to delete photo");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("div",{className:"",children:[(0,F.jsx)("div",{className:"p-3 bg-orange-50 border-l-4 border-orange-400 mb-2",children:(0,F.jsx)("div",{className:"flex items-center justify-between",children:(0,F.jsxs)("div",{children:[(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsx)("span",{className:"text-orange-700 text-sm font-medium",children:"\uD83D\uDD04 Đang chỉnh sửa với tư c\xe1ch:"}),(0,F.jsx)("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full font-medium",children:a.plan.toUpperCase()})]}),(0,F.jsx)("div",{className:"mt-1 text-sm text-orange-600",children:a.name})]})})}),(0,F.jsx)("div",{className:"p-3",children:(0,F.jsx)(K,{onUploadSuccess:M,userPhotosCount:o.length,userInfo:a})}),p&&(0,F.jsx)(P.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,F.jsxs)("div",{className:"mt-4",children:[(0,F.jsx)("h4",{className:"px-3 mb-2",children:"Tệp đ\xe3 tải l\xean"}),(0,F.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",o.length," tệp (",_," GB / 5GB)"]}),(0,F.jsx)("div",{className:"upload-list",children:(0,F.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:n?"calc(60vh - 300px)":"calc(100vh - 350px)",minHeight:"300px",maxHeight:"calc(100vh - 350px)",overflow:"auto",paddingBottom:"100px"},children:(0,F.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:d?Array(6).fill(null).map(function(e,t){return(0,F.jsx)("div",{className:"aspect-square animate-pulse",children:(0,F.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):o.map(function(e,t){return(0,F.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){return w(t,(0,F.jsx)(X.A,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=Z.current[e.fileId];if(a){var i=a.naturalWidth,o=a.naturalHeight,s=(0,V.M)(j.qp,i,o),c=s.scaleWidth,l=s.scaleHeight;n=c,r=l}var d=N.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,A.Z)(d.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var x=Object.keys(t.nodes)[0];k.setProp(x,function(e){e.top=D.current||0,e.left=I.current||0,e.width=n,e.height=r,e.zIndex=0==u?0:u+1})}})},draggable:!0,onClick:function(){return B(e.fileKey,e.fileId)},onDrag:z,children:(0,F.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,F.jsx)(W(),{unoptimized:!0,src:(0,Q.VM)(e.fileKey,200),alt:"User photo ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){return Z.current[e.fileId]=t}}),(0,F.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,F.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,F.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),H(e.fileId)},title:"Delete photo",children:(0,F.jsx)(f.XPx,{className:"w-3 h-3"})})})})]})},e.fileId)})})})})]})]})})},$=n(22567),ee=[{key:"facebook",icon:"logos:facebook",label:"Hỗ trợ qua Facebook/Messenger",link:"https://facebook.com/cinelove.me"},{key:"feedback",icon:"solar:clipboard-list-broken",label:"B\xe1o lỗi hệ thống/Đ\xf3ng g\xf3p \xfd kiến",link:"/dashboard/feedback"}],et=function(){var e=(0,l.useState)(!1),t=e[0],n=e[1],r=function(e){window.open(e.link,"_blank"),n(!1)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(s.Z,{title:"Bạn cần hỗ trợ? H\xe3y li\xean hệ với ch\xfang t\xf4i",placement:"top",color:"white",styles:{body:{backgroundColor:"#fff",color:"#000",borderRadius:"8px",padding:"8px",fontSize:"14px"}},children:(0,F.jsxs)("div",{className:"bottom-button absolute bottom-0 left-0 flex flex-col items-center justify-center gap-1 py-2 border-t border-gray-200 hover:text-gray-600 group cursor-pointer",onClick:function(){return n(!0)},children:[(0,F.jsx)($.JO,{icon:"solar:help-broken",className:"text-ld mb-1 cursor-pointer group-hover:text-gray-600 transition",height:24}),(0,F.jsx)("span",{className:"text-link text-xs caption font-medium group-hover:text-gray-600 transition",children:"Hỗ trợ"})]})}),(0,F.jsx)(O.Z,{title:"Chọn h\xecnh thức hỗ trợ",open:t,onCancel:function(){return n(!1)},footer:null,width:400,children:(0,F.jsx)("div",{className:"flex flex-col gap-4 py-4",children:ee.map(function(e){return(0,F.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition",onClick:function(){return r(e)},children:[(0,F.jsx)($.JO,{icon:e.icon,height:24}),(0,F.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.key)})})})]})},en=n(33299),er=n(16835);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,D.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eo=I.Z.Dragger,es=function(e){var t,n,r,a,i,o=e.onUploadSuccess,s=e.templateId,c=(0,l.useState)(!1),d=c[0],u=c[1],x=(0,l.useState)([]),p=x[0],f=x[1],h=(0,en.useSession)().data;(null==h?void 0:null===(a=h.user)||void 0===a?void 0:a.role)==="admin"||null==h||null===(i=h.user)||void 0===i||i.role,(0,l.useEffect)(function(){if(p.length>0&&!d){var e=setTimeout(function(){f([])},2e3);return function(){return clearTimeout(e)}}},[p,d]);var m={name:"file",multiple:!0,maxCount:15,fileList:p,beforeUpload:(t=(0,S.Z)(T().mark(function e(t,n){var r,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>15)){e.next=3;break}return E.ZP.error("Bạn chỉ c\xf3 thể tải l\xean tối đa 15 file c\xf9ng một l\xfac"),e.abrupt("return",!1);case 3:if(!(t.size>1048576)){e.next=17;break}return e.prev=5,r={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.next=9,(0,M.Z)(t,r);case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(5),E.ZP.error("Lỗi khi n\xe9n ảnh tối đa 1MB ".concat(t.name)),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[5,13]])})),function(e,n){return t.apply(this,arguments)}),customRequest:(n=(0,S.Z)(T().mark(function e(t){var n,r,a,i,o,c;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.onSuccess,a=t.onError,i=t.onProgress,(o=new FormData).append("file",n),s&&o.append("templateId",s),e.prev=4,e.next=7,z.Z.post("/admin/file-upload",o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.total){var t=Math.floor(e.loaded/e.total*100);null==i||i({percent:t})}}});case 7:c=e.sent,null==r||r(c.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),null==a||a(e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[4,11,14,17]])})),function(e){return n.apply(this,arguments)}),onChange:function(e){var t=e.file.status;f(e.fileList),"done"===t?(E.ZP.success("Tải l\xean ".concat(e.file.name," th\xe0nh c\xf4ng.")),o()):"error"===t&&E.ZP.error("Tải l\xean ".concat(e.file.name," thất bại."))},onDrop:(r=(0,S.Z)(T().mark(function e(t){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(!0);case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})};return(0,F.jsx)("div",{children:(0,F.jsxs)(eo,ei(ei({disabled:d||!1},m),{},{children:[(0,F.jsx)("div",{className:"absolute top-2 left-2 flex gap-1 z-50",children:(0,F.jsx)("span",{className:"bg-gray-200 text-blue-600 text-sm px-2 py-0.5 rounded-full capitalize",children:"Admin"})}),(0,F.jsxs)(R.Z,{tip:"Đang xử l\xfd file...",spinning:d,children:[(0,F.jsx)("p",{className:"mb-2",children:(0,F.jsx)(B.Qvc,{size:38,className:"m-auto text-primary"})}),(0,F.jsx)("p",{className:"text-xs text-gray-500 ".concat(d?"invisible":""),children:"K\xe9o thả hoặc nhấn v\xe0o đ\xe2y để tải l\xean file. C\xf3 thể tải l\xean tối đa 15 ảnh c\xf9ng một l\xfac."})]})]}))})},ec=n(80600),el=n(17901),ed=n(34392),eu=function(e){var t,n,r=e.isMobile,a=e.onClose,i=(0,el._)(),o=(0,ed.L)().settings.title,s=(0,l.useState)("template"),c=s[0],d=s[1],u=(0,l.useState)([]),x=u[0],p=u[1],m=(0,l.useState)(!1),g=m[0],v=m[1],y=(0,h.Hj)(),w=y.isReplacing,k=y.replaceType,N=y.selectedNodeId,C=(0,h.Dk)().setActiveKey,Z=(0,b.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),D=Z.connectors.create,I=Z.actions,R=Z.query,z=Z.currentlySelectedNodeId,B=(0,l.useRef)({}),M=(0,l.useRef)(0),L=(0,l.useRef)(0),_=(0,Y.$)(function(e){return e.refreshTrigger}),H=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,i=Math.round(Math.min(Math.max(r,0),n.width)),o=Math.round(Math.min(Math.max(a,0),n.height));M.current=o,L.current=i}},U=function(e,t){if(w&&"photo"===k&&null!==N&&N===z){var n=R.node(N).get().data.props.width,i=n,o=B.current[t];if(o){var s=o.naturalWidth;i=n*(o.naturalHeight/s)}I.setProp(N,function(t){t.imgKey=e,t.width=n,t.height=i}),h.Hj.getState().setReplacing(!1),h.Hj.getState().setReplaceType(null),h.Hj.getState().setSelectedNodeId(null),r&&a&&a(),C(null);return}var c=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(c&&d){var u=d.scrollTop,x=c.getBoundingClientRect().width,p=100,f=100,m=B.current[t];if(m){var g=m.naturalWidth,b=m.naturalHeight,v=(0,V.M)(j.qp,g,b),y=v.scaleWidth,S=v.scaleHeight;p=y,f=S}var Z=R.node("ROOT").get().data.nodes||[],T=0;Z.length>0&&(T=Math.max.apply(Math,(0,A.Z)(Z.map(function(e){return R.node(e).get().data.props.zIndex||0}))));var E=R.createNode(l.createElement(X.A,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(x/2-p/2),width:p,height:f,imgKey:e,zIndex:0==T?0:T+1}));I.add(E,"ROOT"),I.selectNode(E.id),r&&a&&a()}},K=(t=(0,S.Z)(T().mark(function e(){var t;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),e.prev=1,t=[],!("template"===c&&i)){e.next=9;break}return e.next=6,(0,ec.ne)(i);case 6:t=e.sent,e.next=13;break;case 9:if("all"!==c){e.next=13;break}return e.next=12,(0,ec.em)();case 12:t=e.sent;case 13:p(q(t)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error fetching admin photos:",e.t0),E.ZP.error("Failed to load photos");case 21:return e.prev=21,v(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[1,17,21,24]])})),function(){return t.apply(this,arguments)}),q=function(e){return(0,A.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){K()},[_,i,c]);var G=(x.reduce(function(e,t){return e+t.fileSize},0)/1073741824).toFixed(4),J=function(e){var t=R.getNodes(),n=[];return Object.entries(t).forEach(function(t){var r,a,i,o,s,c,l,d,u=(0,er.Z)(t,2),x=u[0],p=u[1];(null===(r=p.data)||void 0===r?void 0:r.name)==="PhotoBox"&&null!==(a=p.data)&&void 0!==a&&null!==(i=a.props)&&void 0!==i&&null!==(o=i.imgKey)&&void 0!==o&&o.includes(e)&&n.push(x),(null===(s=p.data)||void 0===s?void 0:s.name)==="UnifiedMap"&&null!==(c=p.data)&&void 0!==c&&null!==(l=c.props)&&void 0!==l&&null!==(d=l.galleryImageUrl)&&void 0!==d&&d.includes(e)&&n.push(x)}),n},$=function(e){e.forEach(function(e){try{I.delete(e)}catch(t){console.warn("Kh\xf4ng thể x\xf3a node ".concat(e,":"),t)}})},ee=(n=(0,S.Z)(T().mark(function e(t,n){var r;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=J(n)).length>0?O.Z.confirm({title:"Ảnh đang được sử dụng",content:(0,F.jsxs)("div",{children:[(0,F.jsxs)("p",{children:["Ảnh n\xe0y đang được sử dụng trong ",r.length," th\xe0nh phần của trang."]}),(0,F.jsx)("p",{children:(0,F.jsx)("strong",{children:"Nếu bạn x\xf3a ảnh n\xe0y, c\xe1c th\xe0nh phần đ\xf3 cũng sẽ bị x\xf3a theo."})}),(0,F.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 mt-2",children:(0,F.jsx)("div",{className:"flex",children:(0,F.jsxs)("div",{className:"ml-2 text-sm text-yellow-800",children:[(0,F.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến c\xe1c trang đ\xf3."]})})}),(0,F.jsx)("p",{className:"mt-3",children:(0,F.jsx)("strong",{children:"Bạn c\xf3 chắc chắn muốn tiếp tục x\xf3a?"})})]}),okText:"Vẫn x\xf3a",cancelText:"Hủy",okType:"danger",centered:!0,onOk:function(){var e=(0,S.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(r),e.next=4,(0,ec.B9)(t);case 4:E.ZP.success("Đ\xe3 x\xf3a ảnh v\xe0 ".concat(r.length," th\xe0nh phần sử dụng ảnh")),K(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),E.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()}):O.Z.confirm({title:"X\xf3a ảnh",icon:null,content:(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?"}),(0,F.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mt-3",children:(0,F.jsx)("div",{className:"flex",children:(0,F.jsxs)("div",{className:"ml-3 text-sm text-yellow-800",children:[(0,F.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang thiệp kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến tất cả c\xe1c trang đ\xf3."]})})})]}),okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,S.Z)(T().mark(function e(){return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ec.B9)(t);case 3:E.ZP.success("Ảnh đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),K(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),E.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("div",{className:"",children:[(0,F.jsx)("div",{className:"p-3",children:"new-blank"!==i&&i?(0,F.jsx)(es,{onUploadSuccess:K,templateId:"template"===c?i:void 0}):(0,F.jsxs)("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg cursor-default",children:[(0,F.jsx)("div",{className:"text-gray-500 mb-2",children:(0,F.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,F.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,F.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa thể upload assets"}),(0,F.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Bạn cần lưu template trước để c\xf3 thể upload assets v\xe0o folder tương ứng."}),(0,F.jsx)("div",{className:"text-xs text-blue-600",children:'\uD83D\uDCA1 Tip: Nhấn "Xuất bản mẫu" tr\xean thanh c\xf4ng cụ để lưu template'})]})}),w&&(0,F.jsx)(P.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,F.jsxs)("div",{className:"mt-4",children:[(0,F.jsx)("div",{className:"px-3 mb-3",children:(0,F.jsx)("div",{className:"flex items-center gap-2",children:(0,F.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,F.jsx)("button",{onClick:function(){return d("template")},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ".concat("template"===c?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Template hiện tại"}),(0,F.jsx)("button",{onClick:function(){return d("all")},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ".concat("all"===c?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Tất cả assets"})]})})}),(0,F.jsx)("h4",{className:"px-3 mb-2",children:"template"===c&&i?"Ảnh của Template: ".concat(o):"all"===c?"Tất cả Admin Assets":"Tệp đ\xe3 tải l\xean"}),(0,F.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",x.length," tệp (",G," GB / 5GB)"]}),(0,F.jsx)("div",{className:"upload-list",children:(0,F.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:r?"calc(60vh - 300px)":"calc(100vh - 300px)",minHeight:"300px",maxHeight:"calc(100vh - 300px)",overflow:"auto",paddingBottom:"100px"},children:(0,F.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:g?Array(6).fill(null).map(function(e,t){return(0,F.jsx)("div",{className:"aspect-square animate-pulse",children:(0,F.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):x.map(function(e,t){return(0,F.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){return D(t,(0,F.jsx)(X.A,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=B.current[e.assetId];if(a){var i=a.naturalWidth,o=a.naturalHeight,s=(0,V.M)(j.qp,i,o),c=s.scaleWidth,l=s.scaleHeight;n=c,r=l}var d=R.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,A.Z)(d.map(function(e){return R.node(e).get().data.props.zIndex||0}))));var x=Object.keys(t.nodes)[0];I.setProp(x,function(e){e.top=M.current||0,e.left=L.current||0,e.width=n,e.height=r,e.zIndex=0==u?0:u+1})}})},draggable:!0,onClick:function(){return U(e.fileKey,e.assetId)},onDrag:H,children:(0,F.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,F.jsx)(W(),{unoptimized:!0,src:(0,Q.VM)(e.fileKey,200),alt:"Admin asset ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){return B.current[e.assetId]=t}}),(0,F.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,F.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,F.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),ee(e.assetId,e.fileKey)},title:"Delete asset",children:(0,F.jsx)(f.XPx,{className:"w-3 h-3"})})})})]})},e.assetId)})})})})]})]})})},ex=n(11163),ep=n(41772),ef=g.zo.div(r||(r=(0,a.Z)(["\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  ","\n  ","\n"])),function(e){return e.$enabled?"":"width: 0;"},function(e){return e.$enabled?"":"opacity: 0;"}),eh=function(e){var t,n,r=e.userInfo,a=(0,b.jE)(function(e){return{enabled:e.options.enabled}}),i=a.enabled,g=a.actions,S=(0,l.useRef)(null),A=(0,h.Dk)(),Z=A.activeKey,T=A.setActiveKey,E=A.closeSidebar,O=(0,ex.useRouter)(),P=(0,en.useSession)().data,D=(null==P?void 0:null===(t=P.user)||void 0===t?void 0:t.role)==="admin"||(null==P?void 0:null===(n=P.user)||void 0===n?void 0:n.role)==="editor",I=O.pathname.includes("/admin/templates/edit"),R=function(){return(0,F.jsx)("div",{onClick:E,className:"close-tab-btn"})},z=D&&I?(0,F.jsx)(eu,{}):r?(0,F.jsx)(J,{userInfo:r}):(0,F.jsx)(m.Z,{}),M=[{key:j.Ey.TEXT,title:null,icon:null,label:"Text",component:(0,F.jsx)(d.Z,{}),hasWrapper:!1},{key:j.Ey.PHOTO,title:"Th\xeam ảnh",icon:(0,F.jsx)(f.LfC,{size:20}),label:"H\xecnh ảnh",component:z,hasWrapper:!0},{key:j.Ey.MATERIAL,title:"Th\xeam h\xecnh thiết kế sẵn",icon:(0,F.jsx)(u.DgG,{size:20}),label:"Stock",component:(0,F.jsx)(w.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:j.Ey.BACKGROUND,title:"Th\xeam nền",icon:(0,F.jsx)(x.fmc,{size:20}),label:"Nền",component:(0,F.jsx)(k.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:j.Ey.MUSIC,title:"Th\xeam \xe2m nhạc",icon:(0,F.jsx)(p.rkz,{size:20}),label:"\xc2m nhạc",component:(0,F.jsx)(N.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:j.Ey.PLUGIN,title:"Th\xeam tiện \xedch",icon:(0,F.jsx)(p.pNA,{size:20}),label:"Tiện \xedch",component:(0,F.jsx)(v.Z,{}),hasWrapper:!0},{key:j.Ey.TEMPLATE,title:"Mẫu",icon:(0,F.jsx)(p.VPR,{size:20}),label:"Mẫu",component:(0,F.jsx)(C.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:j.Ey.EFFECT,title:"Hiệu ứng",icon:(0,F.jsx)(B.hWE,{size:20}),label:"Hiệu ứng",component:(0,F.jsx)(ep.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0}].map(function(e){return{key:e.key,label:e.title?(0,F.jsx)(s.Z,{title:e.title,placement:"right",styles:{root:{fontSize:"12px"}},children:(0,F.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[e.icon," ",(0,F.jsx)("span",{className:"text-xs",children:e.label})]})}):e.component,children:e.hasWrapper?(0,F.jsxs)("div",{className:e.wrapperClass||"",children:[e.hasWrapper&&(0,F.jsx)(R,{}),e.component]}):null}});return(0,l.useEffect)(function(){E()},[]),(0,F.jsxs)(ef,{$enabled:i&&i,className:"toolbox relative ".concat(null===Z?"w-toolbox-collapse":"w-toolbox-expand"," h-full flex flex-col bg-white transition ").concat(i?"":"invisible"),ref:S,children:[(0,F.jsx)(c.Z,{type:"line",style:{height:"100%"},size:"small",tabPosition:"left",className:"toolbox-tab",activeKey:Z,defaultActiveKey:"",items:M,onTabClick:function(e){e===Z||e===j.Ey.TEXT?T(null):T(e),e===j.Ey.MUSIC&&g.selectNode(null),e===j.Ey.EFFECT&&g.selectNode(null)}}),(0,F.jsx)(et,{}),(0,F.jsx)(o(),{id:"4033690424",dynamic:[y.src],children:[".w-toolbox-collapse{width:85px;}",".w-toolbox-expand{width:420px;}","@media (max-width:1600px){.w-toolbox-expand{width:380px;}}",".bottom-button{width:83px;}",".ant-tabs-nav .ant-tabs-nav-wrap{width:85px;}",".toolbox-tab .ant-tabs-content{height:100%;}",".toolbox-tab .ant-tabs-content-holder{height:100%;}",".toolbox-tab .ant-tabs-content>.ant-tabs-tabpane{padding-left:0px !important;height:100%;}",".toolbox-tab .ant-tabs-tab{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:8px !important;}",".ant-tabs-ink-bar.ant-tabs-ink-bar-animated{display:none;}",".ant-tabs-tab-active{background:none;}",'.ant-tabs-tab-btn[aria-selected="false"]{color:inherit !important;}',".left-sidebar .ant-tabs-content.ant-tabs-content-left{border-right:2px solid #e5e5e5;}",".close-tab-btn{position:absolute;right:-19px;top:50%;margin-top:-50px;width:20px;height:104px;cursor:pointer;background-image:url(".concat(y.src,");background-repeat:no-repeat;background-size:cover;background-position:50%;}"),".left-wrap{width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;justify-items:flex-start;border-right:1px solid #e5e5e5;box-sizing:content-box;}"]}),(0,F.jsx)(o(),{id:"509973037",children:[".left-wrap.jsx-509973037{width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;justify-items:flex-start;border-right:1px solid #e5e5e5;box-sizing:content-box;}"]})]})}},31959:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(67623),a=n(47221),i=n(25593),o=n(96074);n(67294);var s=n(85893),c=a.Z.Panel,l=i.Z.Text,d=function(e){var t=e.title,n=e.props,i=e.summary,d=e.children,u=e.defaultOpen,x=void 0!==u&&u,p=(0,r.Zo)(function(e){return{nodeProps:n&&n.reduce(function(t,n){return t[n]=e.data.props[n]||null,t},{})}}).nodeProps;return(0,s.jsx)(a.Z,{bordered:!1,defaultActiveKey:["1"],style:{background:"transparent"},children:(0,s.jsxs)(c,{header:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(l,{style:{fontWeight:"bold"},children:t}),i&&n?(0,s.jsx)(l,{type:"secondary",children:i(n.reduce(function(e,t){return e[t]=p[t],e},{}))}):null]}),style:{marginBottom:8,borderRadius:4,border:"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)(o.Z,{style:{margin:"8px 0"}}),(0,s.jsx)("div",{children:d})]},x?"1":"")})}},59353:function(e,t,n){"use strict";n.d(t,{eF:function(){return e4},tJ:function(){return tu},jF:function(){return O},Z2:function(){return x.Z}});var r,a,i=n(86745),o=n(67623),s=n(67294),c=n(76975),l=n(77893),d=n(88199),u=n(85893),x=n(31959),p=function(){var e=(0,o.jE)(function(e,t){var n=t.getEvent("selected").first();return{active:n,related:n&&e.nodes[n].related}}),t=e.active,n=e.related,r=(0,i.Dk)(),a=r.activeKey,x=r.setActiveKey;return(0,s.useEffect)(function(){null!=n&&n.toolbar&&(a===c.Ey.MUSIC||a===c.Ey.EFFECT)&&x(null)},[n]),(0,u.jsxs)("div",{className:"py-1 h-full",children:[t&&n.toolbar&&s.createElement(n.toolbar),a===c.Ey.MUSIC&&!(null!=n&&n.toolbar)&&(0,u.jsx)(l.Z,{}),(!t||"ROOT"===t)&&a!==c.Ey.MUSIC&&(0,u.jsx)(d.Z,{})]})},f=n(27812),h=n(59499),m=n(71383),g=n(73935),b=n(54335),v=n(46977),j=n(83062),y=n(85418),w=n(17788),k=n(24435),N=n(2777),C=n(78633),S=n(37094),A=n(33299);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var T=b.zo.div(r||(r=(0,m.Z)(["\n  height: 36px;\n  margin-top: -30px;\n  font-size: 12px;\n  line-height: 12px;\n  background-color: white;\n  border-radius: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  gap: 5px;\n\n  svg {\n    width: 18px;\n    height: 18px;\n    color: #333;\n  }\n\n  &.locked {\n    background-color: #f8f8f8;\n    border: 1px solid #e8e8e8;\n\n    svg {\n      color: #999;\n    }\n  }\n"]))),E=b.zo.a(a||(a=(0,m.Z)(["\n  padding: 6px;\n  opacity: 0.9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n\n  &.disabled {\n    opacity: 0.5;\n    pointer-events: none;\n    cursor: not-allowed;\n  }\n\n  > div {\n    position: relative;\n    top: -50%;\n    left: -50%;\n  }\n"]))),O=function(e){var t,n=e.render,r=(0,o.Zo)().id,a=(0,o.jE)(function(e,t){return{isActive:t.getEvent("selected").contains(r)}}),i=a.actions,c=a.query,l=a.isActive,d=(0,A.useSession)().data,x=(null==d?void 0:null===(t=d.user)||void 0===t?void 0:t.plan)||"free",p=(0,o.Zo)(function(e){return{isHover:e.events.hovered,dom:e.dom,name:e.data.custom.name||e.data.name,moveable:c.node(e.id).isDraggable(),deletable:c.node(e.id).isDeletable(),parent:e.data.parent,props:e.data.props}}),m=p.isHover,b=p.dom,O=p.name,P=(p.moveable,p.deletable),D=(p.connectors.drag,p.parent),I=p.props,R=(0,s.useRef)();(0,s.useEffect)(function(){b&&(m&&!l?b.classList.add("component-hovered"):b.classList.remove("component-hovered"),l?b.classList.add("component-selected"):b.classList.remove("component-selected"),I&&I.locked?b.classList.add("component-locked"):b.classList.remove("component-locked"))},[b,l,m,I]);var z=(0,s.useCallback)(function(e){var t=e?e.getBoundingClientRect():{top:0,left:0,bottom:0,width:200},n=t.top,r=t.left,a=t.bottom;return{top:n>60?n-25:a,left:r+t.width/2-60}},[]);(0,s.useEffect)(function(){var e=R.current;if(e&&b){var t=z(b),n=t.top,r=t.left;e.style.top="".concat(n,"px"),e.style.left="".concat(r,"px")}},[c.node(r).get().data.props]);var B=(0,s.useCallback)(function(){var e=R.current;if(e){var t=z(b),n=t.top,r=t.left;e.style.top="".concat(n,"px"),e.style.left="".concat(r,"px")}},[b,z]);(0,s.useEffect)(function(){var e;return null===(e=document.querySelector(".page-builder-renderer"))||void 0===e||e.addEventListener("scroll",B),function(){var e;null===(e=document.querySelector(".page-builder-renderer"))||void 0===e||e.removeEventListener("scroll",B)}},[B]),(0,v.y1)("delete, backspace",function(e){e.preventDefault(),l&&"ROOT"!==r&&!(I&&I.locked)&&i.delete(r)},[l,r,i,I]);var M=(0,s.useState)(!1),L=M[0],F=M[1],_=(0,s.useState)(!1),H=_[0],U=_[1],K=(0,s.useState)(0),q=(K[0],K[1]),W=(0,s.useState)(!1),X=W[0],V=W[1],Y=(0,s.useState)(0),Q=Y[0],G=Y[1];(0,s.useEffect)(function(){I&&U(!!I.locked)},[I]),(0,s.useEffect)(function(){if(L){var e=c.node(r).get().data.props.zIndex||0;q(e),G(e)}},[L,r,c]);var J=I&&I.locked,$=("UnifiedMap"===O||"PluginMap"===O||"PluginSimpleMap"===O)&&"free"===x;return(0,u.jsxs)(u.Fragment,{children:[l&&"ROOT"!==r?g.createPortal((0,u.jsxs)(T,{ref:R,id:"floating-toolbar",className:J?"locked":"",style:{left:z(b).left,top:z(b).top,position:"fixed",zIndex:9999,width:120},children:[(0,u.jsx)(j.Z,{title:J?"Phần tử đ\xe3 bị kh\xf3a":"Tạo bản sao",placement:"top",children:(0,u.jsx)(E,{className:"cursor-pointer ".concat(J||$?"disabled":""),onMouseDown:function(e){if(e.stopPropagation(),!J&&!$){var t=c.node(r).get().data,n=t.type,a=t.props,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a);o.zIndex&&(o.zIndex+=1),("absolute"===a.position||a.top||a.left)&&(void 0!==a.top&&(o.top=a.top+15),void 0!==a.left&&(o.left=a.left+15));var l=c.createNode(s.createElement(n,o));i.add(l,"ROOT"),i.selectNode(l.id)}},children:(0,u.jsx)(S.Odh,{})})}),P?(0,u.jsx)(j.Z,{title:J?"Phần tử đ\xe3 bị kh\xf3a":"X\xf3a phần tử",placement:"top",children:(0,u.jsx)(E,{className:"cursor-pointer ".concat(J?"disabled":""),onMouseDown:function(e){e.stopPropagation(),J||"ROOT"===r||i.delete(r)},children:(0,u.jsx)(N.Ybf,{})})}):null,(0,u.jsx)(y.Z,{open:L,onOpenChange:F,menu:{items:[{key:"1",label:"Đưa l\xean tr\xean c\xf9ng",icon:(0,u.jsx)(C.uhM,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(D).get().data.nodes||[],n=Math.max.apply(Math,(0,f.Z)(t.map(function(e){return c.node(e).get().data.props.zIndex||0})));i.setProp(r,function(e){e.zIndex=n+1})}}},{key:"2",label:"Đưa xuống dưới c\xf9ng",icon:(0,u.jsx)(C.Mun,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(D).get().data.nodes||[],n=Math.min.apply(Math,(0,f.Z)(t.map(function(e){return c.node(e).get().data.props.zIndex||0})));i.setProp(r,function(e){e.zIndex=n-1})}}},{key:"3",label:"Đưa l\xean một lớp",icon:(0,u.jsx)(C.HTv,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(r).get().data.props.zIndex||0;i.setProp(r,function(e){e.zIndex=t+1})}}},{key:"4",label:"Đưa xuống một lớp",icon:(0,u.jsx)(C.CSs,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(r).get().data.props.zIndex||0;i.setProp(r,function(e){e.zIndex=Math.max(0,t-1)})}}},{key:"5",label:H?"Mở kh\xf3a vị tr\xed":"Kh\xf3a vị tr\xed",icon:H?(0,u.jsx)(N.PdD,{}):(0,u.jsx)(N.UIZ,{}),onClick:function(e){e.domEvent.stopPropagation(),i.setProp(r,function(e){e.locked=!e.locked,U(!H)})}}]},trigger:["click"],children:(0,u.jsx)(j.Z,{title:"Xem th\xeam",placement:"top",children:(0,u.jsx)(E,{className:"cursor-pointer",onClick:function(e){e.stopPropagation(),F(!L)},children:(0,u.jsx)(N.K9M,{})})})})]}),document.querySelector(".page-container")):null,(0,u.jsxs)(w.Z,{title:"Nhập gi\xe1 trị z-index",open:X,onOk:function(){J||(i.setProp(r,function(e){e.zIndex=Q}),V(!1),q(Q))},onCancel:function(){return V(!1)},destroyOnHidden:!0,children:[(0,u.jsx)("p",{children:"Nhập gi\xe1 trị z-index cho phần tử:"}),(0,u.jsx)(k.Z,{min:-1e3,max:1e3,value:Q,onChange:function(e){return G(e||0)},style:{width:"100%",marginTop:"10px"}})]}),n]})},P=n(19848),D=n.n(P),I=n(94184),R=n.n(I),z=n(26058),B=n(6454),M=z.Z.Sider,L=function(){var e=(0,o.jE)(function(e){return{enabled:e.options.enabled}}).enabled,t=(0,s.useState)(350),n=t[0],r=t[1];return(0,s.useEffect)(function(){var e=function(){var e;null!==(e=window)&&void 0!==e&&e.innerWidth&&window.innerWidth<860?r(300):r(350)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,u.jsx)(M,{width:n,style:{background:"#fff",transition:"margin-right 0.3s",marginRight:e?0:-n,opacity:e?1:0},children:(0,u.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",padding:"16px"},children:[(0,u.jsxs)("div",{className:"flex items-center mb-4",children:[(0,u.jsx)(B.FNg,{style:{marginRight:10}}),(0,u.jsx)("span",{className:"font-medium",children:"Tuỳ chỉnh"})]}),(0,u.jsx)("div",{className:"flex-1 overflow-auto",children:(0,u.jsx)(p,{})})]})})},F=n(30257),_=n(50029),H=n(87794),U=n.n(H),K=n(70162),q=n(40721),W=n(24679),X=n(83622),V=n(85265),Y=n(61121),Q=n(52091),G=n(18318),J=n(10094),$=n(63909),ee=n(2453),et=n(16568),en=n(729),er=n(90072),ea=n(67841),ei=n(11359),eo=n(72101),es=function(e){var t=e.isLoading,n=e.onExport,r=e.buttonText,a=e.isTemplate,i=void 0!==a&&a,o=e.pageId,s=(0,eo._)(),c=s.showVerification,l=s.checkAndOpenVerification,d=s.closeVerification,x=s.handleVerificationSuccess;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(X.ZP,{color:"primary",type:"primary",onClick:function(){if(o&&!i){n();return}l()||n()},loading:t,icon:(0,u.jsx)(ea.Z,{}),children:r||(o&&!i?"Lưu":"Xuất bản")}),(0,u.jsx)(ei.Z,{visible:c,onClose:d,onSuccess:function(){return x(n)},title:"X\xe1c thực để xuất bản",submitText:"X\xe1c thực v\xe0 xuất bản",loading:t,description:(0,u.jsxs)("div",{className:"text-gray-600",children:["Để xuất bản website miễn ph\xed, h\xe3y gi\xfap ch\xfang tớ c\xf3 th\xeam động lực bằng c\xe1ch gh\xe9 thăm v\xe0"," ",(0,u.jsxs)("span",{className:"font-bold",children:["follow Facebook hoặc Instagram của Cinelove"," "]}),"nhaaaa! \uD83E\uDD17",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"V\xe0 nếu c\xf3 thể, h\xe3y gi\xfap m\xecnh"," ",(0,u.jsx)("span",{className:"font-bold",children:"để lại đ\xe1nh gi\xe1 t\xedch cực"})," trong phần xếp hạng tr\xean Facebook nữa nha! Thank you \uD83D\uDC99\uD83D\uDC99\uD83D\uDC99"]})})]})},ec=n(46256),el=n(53298),ed=n(80122),eu=n(22567),ex=n(46425),ep=function(e){var t=e.visible,n=e.onClose,r=e.advancedItems,a=e.onRemoveAdvancedItem,i=e.templateType,o=e.userPlan,c=void 0===o?"free":o,l=i?"premium"===i&&"premium"!==c?{type:"premium",displayName:"Template Premium",requiredPlans:["premium"],message:"Mẫu n\xe0y chỉ d\xe0nh cho người d\xf9ng g\xf3i Premium."}:"basic"===i&&"free"===c?{type:"basic",displayName:"Template Basic",requiredPlans:["basic","premium"],message:"Template n\xe0y chỉ d\xe0nh cho người d\xf9ng g\xf3i Basic trở l\xean."}:null:null,d=l?ex.T0.filter(function(e){return l.requiredPlans.includes(e.name)}):ex.T0.filter(function(e){return"basic"===e.name||"premium"===e.name}),x=function(e){window.open(e,"_blank"),n()},p=function(e){a&&(a(e),(r.length<=1||"Bản đồ n\xe2ng cao"===e.displayName)&&n())},f="advanced-items-".concat(l?"template-restriction":"regular");return(0,u.jsx)(el.u,{appear:!0,show:t,as:s.Fragment,children:(0,u.jsxs)(ed.Vq,{as:"div",className:"relative",style:{zIndex:9999},onClose:n,children:[(0,u.jsx)(el.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,u.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,u.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,u.jsx)(el.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,u.jsxs)(ed.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,u.jsx)(ed.Vq.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-gray-900 text-center mb-2",children:l?"Mẫu cao cấp":"Ph\xe1t hiện t\xednh năng n\xe2ng cao"}),(0,u.jsxs)("div",{className:"mt-4 text-center",children:[l&&(0,u.jsx)("div",{className:"mb-6",children:(0,u.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4 mb-4",children:[(0,u.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,u.jsx)(eu.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-6 w-6 text-purple-500"}),(0,u.jsx)("span",{className:"font-semibold text-purple-900",children:l.displayName})]}),(0,u.jsx)("p",{className:"text-purple-800 text-sm",children:l.message})]})}),!l&&r.length>0&&(0,u.jsx)("p",{className:"text-gray-600 mb-4",children:"Trang của bạn c\xf3 chứa c\xe1c t\xednh năng n\xe2ng cao sau đ\xe2y:"}),!l&&r.length>0&&(0,u.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,u.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center justify-center",children:[(0,u.jsx)(eu.JO,{icon:"solar:star-bold",className:"mr-2 h-5 w-5 text-yellow-500"}),"T\xednh năng n\xe2ng cao được sử dụng"]}),(0,u.jsx)("div",{className:"space-y-2",children:r.map(function(e,t){var n="Bản đồ n\xe2ng cao"===e.displayName,r=n?"Thay thế bản đồ":"X\xf3a ".concat(e.displayName.toLowerCase());return(0,u.jsxs)("div",{className:"flex items-center justify-center text-sm text-gray-700 relative",children:[(0,u.jsx)(eu.JO,{icon:"solar:check-circle-bold",className:"mr-2 h-4 w-4 text-green-500"}),e.displayName,(0,u.jsx)(j.Z,{title:r,styles:{root:{zIndex:1e4}},placement:"top",children:(0,u.jsx)("button",{onClick:function(){return p(e)},className:"ml-3 p-1 rounded-full transition-all duration-200 hover:scale-110 ".concat(n?"bg-blue-200 hover:bg-blue-300 text-blue-500":"bg-red-200 hover:bg-red-300 text-red-500"),children:(0,u.jsx)(eu.JO,{icon:n?"solar:refresh-circle-bold":"solar:trash-bin-trash-bold",className:"h-4 w-4"})})})]},t)})})]}),(0,u.jsxs)("p",{className:"text-gray-600 mb-6",children:[l?"Để sử dụng mẫu n\xe0y, bạn cần n\xe2ng cấp l\xean g\xf3i ".concat(l.requiredPlans.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" hoặc "),"."):"C\xe1c t\xednh năng n\xe0y chỉ d\xe0nh cho người d\xf9ng g\xf3i Basic trở l\xean. Bạn c\xf3 thể n\xe2ng cấp g\xf3i để sử dụng đầy đủ c\xe1c t\xednh năng n\xe0y, hoặc tiếp tục với g\xf3i Free.",!l&&(0,u.jsx)("span",{className:"font-bold italic block mt-1",children:"Với g\xf3i Free, bạn cần loại bỏ c\xe1c t\xednh năng n\xe2ng cao n\xe0y để c\xf3 thể xuất bản."})]}),(0,u.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,u.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,u.jsx)(eu.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"N\xe2ng cấp để sử dụng đầy đủ"]}),(0,u.jsx)("div",{className:"grid gap-4 ".concat(1===d.length?"grid-cols-1 max-w-xs mx-auto":"grid-cols-1 md:grid-cols-2"),children:d.map(function(e){return(0,u.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[e.popular&&(0,u.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,u.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,u.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,u.jsx)(eu.JO,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,u.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,u.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,u.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,u.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,ex.vs)(e.price,e.originalPrice),"%"]})]}):(0,u.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,u.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,u.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,u.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,u.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,u.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,u.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,u.jsx)("div",{className:"text-gray-700",children:"• Sử dụng c\xe1c t\xednh năng n\xe2ng cao"}),e.featured&&(0,u.jsx)("div",{className:"text-gray-700",children:"• Template Basic + Premium"}),"basic"===e.name&&(0,u.jsx)("div",{className:"text-gray-700",children:"• Template Basic"})]}),(0,u.jsxs)("button",{onClick:function(){return x(e.ctaLink+"&upgradeSource=".concat(f))},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]}),(0,u.jsx)("div",{className:"flex justify-center gap-3",children:(0,u.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 transition-colors",onClick:n,children:"Đ\xf3ng"})})]})]})})})})]})})},ef=n(96208),eh=n(19151),em=n(40411),eg=n(24019),eb=n(50888),ev=n(11475),ej=n(60219),ey=n(42952),ew=n(93925),ek=function(e){var t=e.showText,n=void 0!==t&&t,r=e.size,a=e.onShowBackups,i=(0,ew.h)(),o=i.status,c=i.setAutoSaveEnabled;(0,s.useEffect)(function(){var e=localStorage.getItem("editor_auto_save_enabled");null!==e&&c("true"===e)},[]);var l=function(){return o.autoSaveEnabled?o.isSaving?"blue":o.lastError?"red":o.hasUnsavedChanges?"orange":"green":"gray"},d=[{key:"view-backups",label:"C\xe0i đặt",icon:(0,u.jsx)(ey.Z,{}),onClick:a},{type:"divider"},{key:"auto-save-status",label:(0,u.jsxs)("div",{className:"text-xs text-gray-500",children:["Auto-save: ",o.autoSaveEnabled?"Bật":"Tắt"]}),disabled:!0}],x=(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(em.Z,{status:l(),dot:!n,children:o.autoSaveEnabled?o.isSaving?(0,u.jsx)(eb.Z,{spin:!0,className:"text-blue-500"}):o.lastError?(0,u.jsx)(ev.Z,{className:"text-red-500"}):o.hasUnsavedChanges?(0,u.jsx)(eg.Z,{className:"text-orange-500"}):(0,u.jsx)(ej.Z,{className:"text-green-500"}):(0,u.jsx)(eg.Z,{className:"text-orange-500"})}),n&&(0,u.jsx)("span",{className:"text-".concat(l(),"-600 text-sm"),children:o.autoSaveEnabled?o.isSaving?"Đang lưu thay đổi...":o.lastError?"".concat(o.lastError):o.hasUnsavedChanges?"C\xf3 thay đổi chưa lưu":o.lastSaved?"Đ\xe3 lưu thay đổi":"Tự động lưu: Bật":"Tự động lưu: Tắt"})]});return a?(0,u.jsx)(y.Z,{menu:{items:d},placement:"bottomRight",trigger:["click"],children:(0,u.jsx)(X.ZP,{type:"text",size:void 0===r?"small":r,className:"flex items-center gap-2",children:x})}):x},eN=n(66309),eC=n(2487),eS=n(86738),eA=n(32983),eZ=n(48689),eT=n(15360),eE=n(31481),eO=n(42859),eP=n(57806),eD=n(30080),eI=n(4730),eR=n(16835),ez=n(62214),eB=n(96514),eM=["editorViewportWidth"];function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e_=function(e){var t,n=e.visible,r=e.onClose,a=e.backupData,i=e.isMobile,c=void 0!==i&&i,l=(0,s.useState)(null),d=l[0],x=l[1],p=(0,s.useMemo)(function(){if(!(null!=a&&a.pageData))return null;try{return JSON.parse(a.pageData)}catch(e){return console.error("Error parsing page data:",e),null}},[a]);return(0,s.useEffect)(function(){if(p){var e=parseInt(p.ROOT.props.width),t=parseInt(p.ROOT.props.height),n=c?280:350,r=n/e,a=Object.entries(p).reduce(function(e,t){var n=(0,eR.Z)(t,2),a=n[0],i=n[1];if(!i.props)return e[a]=i,e;var o=eF(eF({},i.props),{},{top:i.props.top*r,left:i.props.left*r,width:i.props.width*r,height:i.props.height*r,fontSize:i.props.fontSize*r});return e[a]=eF(eF({},i),{},{props:o}),e},{}),i=p.ROOT.props,o=(i.editorViewportWidth,(0,eI.Z)(i,eM));a.ROOT=eF(eF({},p.ROOT),{},{props:eF(eF({},o),{},{width:n,height:t*r})}),x(a)}},[p]),(0,u.jsx)(w.Z,{title:"Xem trước backup",open:n,onCancel:r,width:c?350:400,footer:null,children:(0,u.jsxs)("div",{className:"space-y-4",children:[a&&(0,u.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,u.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,u.jsx)("strong",{children:"Ti\xeau đề:"})," ",(null===(t=a.settings)||void 0===t?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề"]}),(0,u.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,u.jsx)("strong",{children:"Thời gian:"})," ",new Date(a.timestamp).toLocaleString("vi-VN")]})]}),(0,u.jsx)("div",{className:"border rounded-lg overflow-hidden bg-white flex justify-center",children:(0,u.jsx)("div",{className:"h-[600px] overflow-auto",children:d&&(0,u.jsx)(eB.RouterContext.Provider,{value:{push:function(){return Promise.resolve(!0)},replace:function(){return Promise.resolve(!0)},reload:function(){},back:function(){},forward:function(){},prefetch:function(){return Promise.resolve()},beforePopState:function(){},isFallback:!1,events:{on:function(){},off:function(){},emit:function(){}},isLocaleDomain:!1,isReady:!0,isPreview:!1,route:"/",pathname:"/",query:{},asPath:"/",basePath:"",locale:"vi",locales:["vi"],defaultLocale:"vi"},children:(0,u.jsx)(o.ML,{resolver:ez.s_,enabled:!1,children:(0,u.jsx)(o.RQ,{data:d},d.ROOT.props.width)})})})})]})})},eH=function(e){var t,n,r=e.visible,a=e.onClose,i=e.onRestore,o=(0,s.useState)([]),c=o[0],l=o[1],d=(0,s.useState)(!1),x=d[0],p=d[1],f=(0,s.useState)(!1),h=f[0],m=f[1],g=(0,s.useState)(null),b=g[0],v=g[1],y=(0,s.useState)(!1),k=y[0],N=y[1];(0,s.useEffect)(function(){window.innerWidth<768&&N(!0)},[]);var C=(0,ew.h)(),S=C.getAllBackupKeys,A=C.getBackupData,Z=C.removeBackup,T=C.status,E=C.setAutoSaveEnabled;(0,s.useEffect)(function(){r&&O()},[r]);var O=function(){try{p(!0);var e=S().map(function(e){var t,n=A(e);return{key:e,timestamp:(null==n?void 0:n.timestamp)||0,isTemplate:(null==n?void 0:n.isTemplate)||!1,pageId:null==n?void 0:n.pageId,preview:(null==n?void 0:null===(t=n.settings)||void 0===t?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề"}}).sort(function(e,t){return t.timestamp-e.timestamp});l(e)}catch(e){console.error("Error loading backups:",e),ee.ZP.error("Kh\xf4ng thể tải danh s\xe1ch backup")}finally{p(!1)}},P=(t=(0,_.Z)(U().mark(function e(t){var n;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=A(t.key))&&i?(i(n),a()):ee.ZP.error("Kh\xf4ng thể kh\xf4i phục backup")}catch(e){console.error("Error restoring backup:",e),ee.ZP.error("Lỗi khi kh\xf4i phục backup")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),D=(n=(0,_.Z)(U().mark(function e(t){var n;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=A(t.key))?(v(n),m(!0)):ee.ZP.error("Kh\xf4ng thể xem trước backup")}catch(e){console.error("Error previewing backup:",e),ee.ZP.error("Lỗi khi xem trước backup")}case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),I=function(e){try{Z(e.key),ee.ZP.success("Đ\xe3 x\xf3a backup"),O()}catch(e){console.error("Error deleting backup:",e),ee.ZP.error("Kh\xf4ng thể x\xf3a backup")}};return(0,u.jsxs)(w.Z,{title:"Quản l\xfd bản sao lưu",open:r,onCancel:a,width:700,footer:[(0,u.jsx)(X.ZP,{onClick:O,loading:x,children:"L\xe0m mới"},"refresh"),(0,u.jsx)(X.ZP,{onClick:a,children:"Đ\xf3ng"},"close")],children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-3 rounded-lg",children:[(0,u.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,u.jsx)("div",{className:"font-medium",children:"⚙️ C\xe0i đặt tự động lưu"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:T.autoSaveEnabled?"Đang bật (30 gi\xe2y/lần)":"Đ\xe3 tắt"})]}),(0,u.jsx)(X.ZP,{type:T.autoSaveEnabled?"primary":"default",size:"small",onClick:function(){return E(!T.autoSaveEnabled)},children:T.autoSaveEnabled?"Tắt":"Bật"})]}),(0,u.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,u.jsx)("div",{className:"font-medium mb-1",children:"\uD83D\uDCA1 Th\xf4ng tin về bản sao lưu:"}),(0,u.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Tự động:"})," Hệ thống tự động lưu & sao lưu mỗi 30 gi\xe2y ",!T.autoSaveEnabled&&"(đ\xe3 tắt)"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Lưu trữ:"})," Chỉ giữ lại 3 bản sao lưu gần nhất"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Dọn dẹp:"})," C\xe1c bản sao lưu cũ hơn 7 ng\xe0y sẽ bị x\xf3a"]})]})]})]}),0===c.length?(0,u.jsx)(eA.Z,{description:"Kh\xf4ng c\xf3 backup n\xe0o",image:eA.Z.PRESENTED_IMAGE_SIMPLE}):(0,u.jsx)(eC.Z,{dataSource:c,renderItem:function(e){var t=Date.now()-e.timestamp>864e5;return(0,u.jsx)(eC.Z.Item,{className:"".concat(t?"opacity-60":""," hover:bg-gray-50 transition-colors"),actions:[(0,u.jsx)(j.Z,{title:"Xem trước",children:(0,u.jsx)(X.ZP,{type:"text",icon:(0,u.jsx)(G.gxi,{}),onClick:function(){return D(e)},className:"text-gray-600 hover:text-gray-800"})}),(0,u.jsx)(j.Z,{title:"Kh\xf4i phục backup n\xe0y",children:(0,u.jsx)(X.ZP,{type:"text",icon:(0,u.jsx)(eD.TeN,{}),onClick:function(){return P(e)},className:"text-blue-600 hover:text-blue-800"})}),(0,u.jsx)(eS.Z,{title:"X\xf3a backup n\xe0y?",description:"H\xe0nh động n\xe0y kh\xf4ng thể ho\xe0n t\xe1c.",onConfirm:function(){return I(e)},okText:"X\xf3a",cancelText:"Hủy",okType:"danger",children:(0,u.jsx)(j.Z,{title:"X\xf3a backup",children:(0,u.jsx)(X.ZP,{type:"text",icon:(0,u.jsx)(eZ.Z,{}),className:"text-red-600 hover:text-red-800"})})})],children:(0,u.jsx)(eC.Z.Item.Meta,{avatar:(0,u.jsx)(eT.Z,{className:"text-2xl text-gray-400"}),title:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"font-medium truncate max-w-xs",children:e.preview}),e.isTemplate?(0,u.jsx)(eN.Z,{color:"blue",children:"Template"}):e.pageId?(0,u.jsx)(eN.Z,{color:"green",children:"Trang c\xf3 sẵn"}):(0,u.jsx)(eN.Z,{color:"orange",children:"Trang mới"})]}),description:(0,u.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,u.jsxs)("div",{className:"flex items-center gap-1",children:[(0,u.jsx)(eg.Z,{}),(0,u.jsx)("span",{children:(0,eE.Q)(new Date(e.timestamp),{addSuffix:!0,locale:eP.vi})}),!k&&(0,u.jsxs)("span",{className:"text-gray-400",children:["(",(0,eO.WU)(new Date(e.timestamp),"dd/MM/yyyy HH:mm",{locale:eP.vi}),")"]})]}),e.pageId&&!k&&(0,u.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.pageId]})]})})},e.key)},className:"max-h-96 overflow-y-auto",loading:x}),c.length>0&&(0,u.jsxs)("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:["Hiển thị ",c.length," bản sao lưu"]})]}),h&&b&&(0,u.jsx)(e_,{visible:h,onClose:function(){return m(!1)},backupData:b,isMobile:k})]})},eU=function(e){var t,n,r,a,c,l=e.pageId,d=e.mobileView,x=e.isTemplate,p=e.canCreate,f=void 0===p||p,h=(0,o.jE)(function(e,t){return{enabled:e.options.enabled,canUndo:t.history.canUndo(),canRedo:t.history.canRedo()}}),m=h.enabled,g=h.canUndo,b=h.canRedo,y=h.actions,w=h.query,k=(0,s.useState)(!1),N=k[0],C=k[1],S=(0,s.useState)(!1),Z=S[0],T=S[1],E=(0,s.useState)(!1),O=E[0],P=E[1],I=(0,s.useState)(!1),R=I[0],z=I[1],B=(0,s.useState)(!1),M=B[0],L=B[1],F=(0,s.useState)(!1),H=F[0],ea=F[1],ei=(0,s.useState)([]),eo=ei[0],el=ei[1],ed=(0,en.U)(),eu=ed.icon,ex=ed.iconColor,em=ed.currentMusic,eg=(0,er.X2)(),eb=eg.settings,ev=eg.resetSettings,ej=eg.setTitle,ey=eg.setThumbnail,ew=eg.setStatus,eN=eg.setShowBottomToolbar,eC=eg.setQRBankAccounts,eS=eg.setHideWatermark,eA=eg.setCategoryId,eZ=eg.setOpeningEffect,eT=(0,i.Dk)().setActiveKey,eE=(0,i.hA)().cleanOldBackups,eO=l&&!x,eP=(0,ec.TN)(),eD=eP.pageData,eI=eP.templateType,eR=(0,A.useSession)().data,ez=(0,i.hA)(),eB=ez.setLastSaved,eM=ez.setLastError;(0,s.useEffect)(function(){var e=function(){var e;null!==(e=window)&&void 0!==e&&e.innerWidth&&window.innerWidth<860?ea(!1):ea(!0)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(function(){eD?(ej(eD.pageName),ey(eD.thumbnailKey),ew(eD.status||"published"),void 0!==eD.showBottomToolbar?eN(eD.showBottomToolbar):eN(er.Kq),eD.qrBankAccounts&&eC(eD.qrBankAccounts),void 0!==eD.hideWatermark&&eS(eD.hideWatermark),eD.categoryId&&eA(eD.categoryId)):ev()},[eD]),(0,v.y1)("mod+z",function(e){e.preventDefault(),g&&y.history.undo()},{enableOnFormTags:!0}),(0,v.y1)(["mod+shift+z","mod+y"],function(e){e.preventDefault(),b&&y.history.redo()},{enableOnFormTags:!0}),(0,v.y1)("mod+s",function(e){e.preventDefault(),eL()},{enableOnFormTags:!0});var eL=(t=(0,_.Z)(U().mark(function e(){var t,n,r;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!f&&!eO)){e.next=3;break}return ee.ZP.error("Kh\xf4ng thể tạo trang mới"),e.abrupt("return");case 3:if(!(!eb.categoryId&&!x)){e.next=8;break}return y.selectNode(null),eT(null),ee.ZP.error("Vui l\xf2ng chọn danh mục trước khi xuất bản"),e.abrupt("return");case 8:if(n=(null==eR?void 0:null===(t=eR.user)||void 0===t?void 0:t.plan)||"free",r=eF(),!(eI&&("premium"===eI&&"premium"!==n||"basic"===eI&&"free"===n))){e.next=13;break}return e.abrupt("return");case 13:if(!(r.length>0&&"free"===n)){e.next=17;break}return el(r),P(!0),e.abrupt("return");case 17:return e.next=19,e_();case 19:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),eF=function(){var e,t=w.getNodes(),n=[],r=(null==eR?void 0:null===(e=eR.user)||void 0===e?void 0:e.plan)||"free";return eI&&("premium"===eI&&"premium"!==r||"basic"===eI&&"free"===r)?(P(!0),[]):(eb.openingEffect&&n.push({displayName:"Hiệu ứng mở m\xe0n"}),Object.values(t).forEach(function(e){var t,r,a,i,o;null!==(t=e.data)&&void 0!==t&&null!==(r=t.props)&&void 0!==r&&null!==(a=r.transition)&&void 0!==a&&a.effectEnabled&&!n.some(function(e){return"Hiệu ứng chuyển động"===e.displayName})&&n.push({displayName:"Hiệu ứng chuyển động"}),null!==(i=e.data)&&void 0!==i&&null!==(o=i.props)&&void 0!==o&&o.isAdvanced&&n.push({displayName:e.data.displayName||"T\xednh năng n\xe2ng cao",nodeId:e.id})}),n)},e_=(n=(0,_.Z)(U().mark(function e(){var t,n,r,a;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),t=eO?"/pages/update":"/pages/add",n=w.serialize(),r=(0,J.d8)(n,eb,{fileKey:null==em?void 0:em.fileKey,icon:eu,iconColor:ex,title:null==em?void 0:em.title,duration:null==em?void 0:em.duration},{pageId:l,isTemplate:x}),e.next=7,$.Z.post(t,r);case 7:200===(a=e.sent).status&&a.data.success?(ee.ZP.success(a.data.message),eB(Date.now()),eM(null),eE(),(!l&&a.data.pageId||x)&&(window.location.href="/pages")):(ee.ZP.error(a.data.message),eM("Lỗi khi lưu trang")),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error saving page:",e.t0),ee.ZP.error("Failed to save page"),eM("Lỗi khi lưu trang");case 16:return e.prev=16,T(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,11,16,19]])})),function(){return n.apply(this,arguments)}),eU=function(){Object.values(w.getNodes()).forEach(function(e){var t,n,r;null!==(t=e.data)&&void 0!==t&&null!==(n=t.props)&&void 0!==n&&null!==(r=n.transition)&&void 0!==r&&r.effectEnabled&&y.setProp(e.id,function(e){e.transition&&(e.transition.effectEnabled=!1)})}),ee.ZP.success("Đ\xe3 x\xf3a hiệu ứng chuyển động"),el(eF())};(0,s.useEffect)(function(){O&&el(eF())},[eb.openingEffect,O]);var eK="basic"===eI&&(null==eR?void 0:null===(r=eR.user)||void 0===r?void 0:r.plan)==="free"||"premium"===eI&&(null==eR?void 0:null===(a=eR.user)||void 0===a?void 0:a.plan)!=="premium";return(0,s.useEffect)(function(){if(eK){var e="basic"===eI?"Basic":"Premium",t="basic"===eI?"\uD83D\uDD39":"\uD83D\uDC51",n="basic"===eI?"#1890ff":"#722ed1";et.ZP.open({message:null,description:(0,u.jsxs)("div",{style:{padding:"8px 12px",background:"".concat(n,"15"),borderRadius:"6px",border:"1px solid ".concat(n,"30")},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[(0,u.jsx)("span",{style:{fontSize:"14px"},children:t}),(0,u.jsx)("span",{style:{fontWeight:"500",color:n},children:"Note:"})]}),(0,u.jsxs)("p",{style:{margin:"0",fontSize:"12px",color:"#666"},children:["Bạn đang sử dụng template ",e]})]}),duration:7,showProgress:!0,placement:"topRight",style:{borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}})}},[eK,eI]),(0,u.jsxs)("nav",{"aria-label":"Main",className:"jsx-1890023189 navbar navbar--fixed-top h-16 border-b",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 navbar__inner",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 navbar__items",children:[(0,u.jsx)("button",{onClick:function(){return C(!0)},"aria-label":"Toggle navigation bar","aria-expanded":"false",type:"button",className:"jsx-1890023189 navbar__toggle mx-1 md:mx-3",children:(0,u.jsx)("svg",{width:30,height:30,viewBox:"0 0 30 30","aria-hidden":"true",className:"jsx-1890023189",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:2,d:"M4 7h22M4 15h22M4 23h22",className:"jsx-1890023189"})})}),!d&&(0,u.jsx)("div",{className:"jsx-1890023189 ml-2",children:(0,u.jsx)(K.Z,{showText:H})}),m&&(0,u.jsxs)("div",{className:"jsx-1890023189 flex-1 flex",children:[(0,u.jsx)(j.Z,{title:"Ho\xe0n t\xe1c (Ctrl/⌘ + Z)",placement:"bottom",children:(0,u.jsx)(X.ZP,{type:"text",disabled:!g,onClick:function(){g&&y.history.undo()},children:(0,u.jsx)(Q.ZHP,{size:18})})}),(0,u.jsx)(j.Z,{title:"L\xe0m lại (Ctrl/⌘ + Shift + Z)",placement:"bottom",children:(0,u.jsx)(X.ZP,{type:"text",disabled:!b,onClick:function(){b&&y.history.redo()},children:(0,u.jsx)(Q.GVn,{size:18})})}),!d&&(0,u.jsx)(j.Z,{title:"T\xecm v\xe0 x\xf3a phần tử theo ID",placement:"bottom",children:(0,u.jsx)(X.ZP,{type:"text",onClick:function(){return z(!0)},children:(0,u.jsx)(eh.QL8,{size:18})})})]})]}),(0,u.jsx)("div",{className:"jsx-1890023189 navbar__items navbar__items--right",children:(0,u.jsxs)("div",{className:"jsx-1890023189 flex gap-4 items-center",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 flex gap-2 items-center",children:[(0,u.jsx)(ek,{showText:!d,onShowBackups:function(){return L(!0)}}),!d&&(0,u.jsxs)(X.ZP,{onClick:function(){y.setOptions(function(e){return e.enabled=!m})},children:[m?(0,u.jsx)(G.gxi,{}):(0,u.jsx)(Y.Hlf,{}),m?"Xem trước":"Chỉnh sửa"]}),(0,u.jsx)(es,{isLoading:Z,onExport:eL,buttonText:l&&!x?"Lưu":"Xuất bản",isTemplate:x,pageId:l})]}),(0,u.jsx)(q.Z,{})]})}),(0,u.jsx)(V.Z,{closable:!1,destroyOnHidden:!0,placement:"left",open:N,width:260,onClose:function(){return C(!1)},children:(0,u.jsx)(W.Z,{})})]}),(0,u.jsx)(ep,{visible:O,onClose:function(){return P(!1)},advancedItems:eo,onRemoveAdvancedItem:function(e){switch(e.displayName){case"Hiệu ứng chuyển động":eU();break;case"Hiệu ứng mở m\xe0n":eZ(null),ee.ZP.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n");break;case"Bản đồ n\xe2ng cao":if(e.nodeId){var t=document.querySelector('[data-node-id="'.concat(e.nodeId,'"]'));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),y.selectNode(e.nodeId),ee.ZP.info("H\xe3y chọn lại loại bản đồ để xuất bản"))}return}el(eF())},templateType:eI,userPlan:(null==eR?void 0:null===(c=eR.user)||void 0===c?void 0:c.plan)||"free"}),(0,u.jsx)(ef.Z,{visible:R,onClose:function(){return z(!1)}}),(0,u.jsx)(eH,{visible:M,onClose:function(){return L(!1)},onRestore:function(e){y.deserialize(e.pageData),L(!1),ee.ZP.success("Đ\xe3 kh\xf4i phục backup th\xe0nh c\xf4ng!")}}),(0,u.jsx)(D(),{id:"1890023189",children:[".navbar.jsx-1890023189{z-index:99;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-shadow:0 1px 2px 0 rgba(0,0,0,0.1);padding:2rem 1.4rem;}",".navbar--fixed-top.jsx-1890023189{position:fixed;width:100%;top:0;}",".navbar__inner.jsx-1890023189{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:unset;-ms-flex-wrap:unset;flex-wrap:unset;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".navbar__items.jsx-1890023189{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:10px;-webkit-flex:1;-ms-flex:1;flex:1;min-width:0;}",".navbar__items--right.jsx-1890023189{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}","@media (max-width:768px){.navbar.jsx-1890023189{padding:1rem 0.5rem;}}"]})]})},eK=n(67789),eq=n(11163),eW=n(34998),eX=n(35249);function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eY=function(e){var t,n=e.backup,r=e.onRestore,a=e.onDismiss,i=(0,s.useState)(!1),o=i[0],c=i[1],l=(null===(t=n.data.settings)||void 0===t?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề",d=(0,eE.Q)(new Date(n.timestamp),{addSuffix:!0,locale:eP.vi});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"px-2 py-1 rounded text-white text-xs font-medium",style:{backgroundColor:{page_specific:"#1890ff",template:"#722ed1",recent_new:"#52c41a"}[n.type]},children:{page_specific:"\uD83D\uDCC4 Trang cụ thể",template:"\uD83C\uDFA8 Template",recent_new:"✨ Trang mới"}[n.type]}),(0,u.jsx)("span",{className:"text-sm text-gray-500",children:d})]}),(0,u.jsx)("div",{className:"text-sm",children:(0,u.jsxs)("div",{className:"font-medium text-gray-900 truncate",children:["\uD83D\uDCDD ",l]})}),(0,u.jsxs)("div",{className:"mt-3 flex justify-between",children:[(0,u.jsx)(X.ZP,{size:"small",type:"default",icon:(0,u.jsx)(G.gxi,{}),onClick:function(){return c(!0)},children:"Xem trước"}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)(X.ZP,{type:"primary",size:"small",icon:(0,u.jsx)(eD.TeN,{}),onClick:function(){return r(n.key)},children:"Kh\xf4i phục"}),(0,u.jsx)(X.ZP,{size:"small",onClick:function(){return a(n.key)},children:"Bỏ qua"})]})]})]}),o&&(0,u.jsx)(e_,{visible:o,onClose:function(){return c(!1)},backupData:n.data})]})},eQ={page_specific:"#1890ff",template:"#722ed1",recent_new:"#52c41a"},eG=function(e){et.ZP.open({message:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(ev.Z,{style:{color:eQ[e.backup.type]}}),(0,u.jsx)("span",{className:"font-semibold",children:"T\xecm thấy backup c\xf3 thể kh\xf4i phục"})]}),description:(0,u.jsx)(eY,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)),placement:"topRight",duration:0,key:"backup-recovery-".concat(e.backup.key)})},eJ=function(){et.ZP.destroy()};function e$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e0=function(e){var t=e.pageId,n=e.isTemplate,r=e.onRestore,a=e.autoDetect,i=void 0===a||a,o=(0,s.useState)([]),c=o[0],l=o[1],d=(0,s.useState)(!1),u=d[0],x=d[1],p=(0,s.useState)(!1),f=p[0],h=p[1],m=(0,ew.h)(),g=m.getAllBackupKeys,b=m.getBackupData,v=m.removeBackup,j=(0,s.useCallback)(function(){var e,r=g(),a=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return e$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e$(e,t)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(r);try{for(i.s();!(e=i.n()).done;){var o=e.value,s=b(o);if(s){if(t&&s.pageId===t&&!s.isTemplate){a.push({key:o,data:s,type:"page_specific",priority:2,timestamp:s.timestamp});continue}if(n&&s.isTemplate&&s.pageId===t){a.push({key:o,data:s,type:"template",priority:3,timestamp:s.timestamp});continue}if(!t&&!n&&!s.pageId&&!s.isTemplate){var c=Date.now()-36e5;s.timestamp>c&&a.push({key:o,data:s,type:"recent_new",priority:4,timestamp:s.timestamp})}}}}catch(e){i.e(e)}finally{i.f()}return a.sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:t.timestamp-e.timestamp}),a},[t,n,g,b]);(0,s.useEffect)(function(){if(i){var e=setTimeout(function(){var e=j();if(l(e),e.length>0&&!f){var t=e[0];Date.now()-t.timestamp<18e5&&(x(!0),h(!0))}},1e3);return function(){return clearTimeout(e)}}},[i,j]);var y=(0,s.useCallback)(function(e){var t=b(e);t&&r&&(r(t),ee.ZP.success("Đ\xe3 kh\xf4i phục backup th\xe0nh c\xf4ng!"),v(e),l(function(t){return t.filter(function(t){return t.key!==e})}))},[b,r]),w=(0,s.useCallback)(function(e){v(e),l(function(t){return t.filter(function(t){return t.key!==e})}),ee.ZP.info("Đ\xe3 x\xf3a backup"),eJ()},[v]);return{availableBackups:c,hasRelevantBackups:c.length>0,showRecoveryPrompt:u,setShowRecoveryPrompt:x,manualRestore:y,dismissBackup:w,findRelevantBackups:j}},e1=n(54811),e2=function(e,t,n){if("free"!==e)return{hasAdvancedItems:!1,advancedItems:[]};var r=[];null!=n&&n.openingEffect&&r.push({displayName:"Hiệu ứng mở m\xe0n"});try{var a=t.getNodes();Object.values(a).forEach(function(e){var t,n;null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.props)&&void 0!==n&&n.isAdvanced&&r.push({displayName:e.data.displayName,nodeId:e.id})})}catch(e){console.error("Error checking advanced nodes:",e)}return{hasAdvancedItems:r.length>0,advancedItems:r}},e3=function(e){if(0!==e.length){var t=e.map(function(e){return e.displayName}).join(", ");et.ZP.warning({message:(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,u.jsx)("span",{style:{fontWeight:"bold"},children:"Ph\xe1t hiện t\xednh năng n\xe2ng cao!"}),(0,u.jsx)(e1.Z,{style:{color:"#faad14",fontSize:"20px"}})]}),description:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:["Trang của bạn c\xf3 chứa c\xe1c t\xednh năng n\xe2ng cao:",(0,u.jsxs)("span",{style:{fontWeight:"bold",color:"#faad14"},children:[" ",'"',t,'"']})]}),(0,u.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#666"},children:"C\xe1c t\xednh năng n\xe0y chỉ d\xe0nh cho g\xf3i Basic trở l\xean, vui l\xf2ng n\xe2ng cấp g\xf3i để sử dụng."})]}),duration:20,showProgress:!0,pauseOnHover:!0,placement:"topRight",style:{borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}},e5=function(e){var t,n=e.pageIdParam,r=e.isTemplate,a=void 0!==r&&r,i=e.autoSaveInterval,c=void 0===i?30:i,l="new-blank"===n?null:n,d=(0,o.jE)().query,u=(0,er.X2)().settings,x=(0,en.U)(),p=x.currentMusic,f=x.icon,h=x.iconColor,m=(0,A.useSession)().data,g=(null==m?void 0:null===(t=m.user)||void 0===t?void 0:t.plan)||"free",b=(0,ew.h)(),v=b.status,j=b.startAutoSave,y=b.stopAutoSave,w=b.setAutoSaveInterval,k=b.setAutoSaveEnabled,N=b.setHasUnsavedChanges,C=(0,s.useRef)(""),S=(0,s.useRef)(!1),Z=(0,s.useCallback)(function(){try{var e=e2(g,d,u);return e.hasAdvancedItems&&l&&!a&&e3(e.advancedItems),{pageData:d.serialize(),settings:u,music:{fileKey:null==p?void 0:p.fileKey,icon:f,iconColor:h,title:null==p?void 0:p.title,duration:null==p?void 0:p.duration},timestamp:Date.now(),pageId:l,isTemplate:a,hasAdvancedItems:e.hasAdvancedItems}}catch(e){return console.error("Error getting current backup data:",e),null}},[d,u,p,f,h,l,a,g]);return(0,s.useEffect)(function(){var e=setInterval(function(){try{var e=JSON.stringify({pageData:d.serialize(),settings:u,music:p});S.current&&e!==C.current&&N(!0),C.current=e,S.current=!0}catch(e){console.error("Error checking for changes:",e)}},2e3);return function(){return clearInterval(e)}},[d,u,p,N]),(0,s.useEffect)(function(){return w(c),v.autoSaveEnabled&&j(Z,l,a,g),function(){y()}},[v.autoSaveEnabled,c,Z,l,a,w,j,y,g]),{status:v,setAutoSaveInterval:w,setAutoSaveEnabled:k,getCurrentBackupData:Z}},e4=function(e){var t=e.children,n=e.pageId,r=e.isTemplate,a=e.templateCategoryId,i=(0,o.jE)(),c=i.connectors,l=i.actions,d=(0,eq.useRouter)(),x=(0,A.useSession)().data,p=(0,s.useState)(!1),f=p[0],h=p[1],m=(0,s.useState)(!1),g=m[0],b=m[1],v=(0,er.X2)().setCategoryId;e5({pageIdParam:n,isTemplate:r});var j=d.pathname.includes("/editor-template/")||d.asPath.includes("/editor-template/");(0,s.useEffect)(function(){h(j)},[j]),(0,s.useEffect)(function(){a&&v(a)},[a,v]);var y=(0,eW.E)(),w=y.checkCanCreateWebsite,k=y.showLimitModal,N=y.closeLimitModal,C=y.plan,S=y.pagesCount,Z=y.isLoading,T=y.canCreate,E=y.enhancedLimits,O=y.addonBonuses,P=y.hasAddons,I="new-blank"===n||j;(0,s.useEffect)(function(){I&&null!=x&&x.user&&!Z&&!w()&&b(!0)},[I,x,Z,T]),(0,s.useEffect)(function(){if(g&&!k){var e=setTimeout(function(){d.push("/pages")},1e3);return function(){return clearTimeout(e)}}},[g,k,d]);var z=e0({pageId:"new-blank"===n?void 0:n,isTemplate:r,autoDetect:!0,onRestore:function(e){try{e.pageData&&(l.deserialize(e.pageData),eJ())}catch(e){console.error("Error restoring backup:",e)}}}),B=z.availableBackups,M=z.hasRelevantBackups,_=z.manualRestore,H=z.dismissBackup;(0,s.useEffect)(function(){M&&B.length>0&&eG({backup:B[0],onRestore:_,onDismiss:H})},[M,B,_,H]);var U=!(I&&g);return(0,u.jsxs)("div",{className:"jsx-1349673381 viewport",children:[(0,u.jsx)(eU,{pageId:"new-blank"===n?null:n,isTemplate:r,canCreate:T}),U?(0,u.jsxs)("div",{className:"jsx-1349673381 "+(R()(["flex h-full overflow-hidden flex-row w-full fixed pt-16"])||""),children:[(0,u.jsx)("div",{className:"jsx-1349673381 left-sidebar flex",children:(0,u.jsx)(F.v,{})}),(0,u.jsx)("div",{className:"jsx-1349673381 page-container flex flex-1 h-full flex-col",children:(0,u.jsx)("div",{id:"main-scroll-container",ref:function(e){return c.select(c.hover(e,null),null)},className:"jsx-1349673381 page-builder-renderer flex-1 h-full w-full transition pb-8 overflow-auto bg-renderer-gray",children:(0,u.jsx)("div",{className:"jsx-1349673381 relative flex-col flex items-center pt-14 pb-48",children:t})})}),(0,u.jsx)(L,{}),f&&(0,u.jsx)(eK.ZP,{})]}):(0,u.jsx)("div",{className:"jsx-1349673381 flex items-center justify-center h-full pt-16",children:(0,u.jsxs)("div",{className:"jsx-1349673381 text-center p-8",children:[(0,u.jsx)("div",{className:"jsx-1349673381 text-lg text-gray-600 mb-4",children:"Đang kiểm tra quyền truy cập..."}),(0,u.jsx)("div",{className:"jsx-1349673381 text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng trong gi\xe2y l\xe1t"})]})}),(0,u.jsx)(eX.Z,{isOpen:k,onClose:N,currentPlan:C,currentCount:S,limitType:"website",enhancedLimit:E.maxWebsites,addonBonus:O.websites,hasAddons:P}),(0,u.jsx)(D(),{id:"1349673381",children:[".left-sidebar.jsx-1349673381{z-index:10000;}"]})]})},e6=n(29786),e9=n(63340),e8=function(){var e=(0,o.jE)(function(e,t){var n=t.getEvent("selected").first();return{active:n,related:n&&e.nodes[n].related}}),t=e.active,n=e.related,r=e.actions,a=(0,s.useState)(!1),i=a[0],c=a[1],l=(0,ec.TN)().pageData,x=(0,er.X2)(),p=(x.settings,x.setTitle),f=x.setThumbnail,h=x.setShowBottomToolbar,m=x.setStatus,g=x.setQRBankAccounts,b=x.setHideWatermark,v=x.setCategoryId;return(0,s.useEffect)(function(){l&&(p(l.pageName),f(l.thumbnailKey),m(l.status||"published"),void 0!==l.showBottomToolbar?h(l.showBottomToolbar):h(er.Kq),l.qrBankAccounts&&g(l.qrBankAccounts),void 0!==l.hideWatermark&&b(l.hideWatermark),l.categoryId&&v(l.categoryId))},[l]),(0,u.jsxs)(u.Fragment,{children:[(!t||"ROOT"===t)&&(0,u.jsx)(e9.Z,{icon:(0,u.jsx)(ey.Z,{}),type:"default",onClick:function(){c(!0)},style:{bottom:74,right:20,width:45,height:45}}),(0,u.jsx)(e6.GI,{visible:!!t&&"ROOT"!==t,showCloseButton:!0,onClose:function(){r.selectNode(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",minHeight:"20vh",maxHeight:"40vh",padding:"12px",overflow:"auto",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsx)("div",{className:"relative",children:(0,u.jsx)("div",{className:"pt-6",children:t&&n.toolbar&&(0,u.jsx)("div",{className:"setting-content",children:s.createElement(n.toolbar)})})})}),(0,u.jsx)(e6.GI,{visible:i,showCloseButton:!0,onClose:function(){return c(!1)},onMaskClick:function(){return c(!1)},bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",minHeight:"30vh",maxHeight:"60vh",padding:"12px",overflow:"auto",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsx)("div",{className:"relative",children:(0,u.jsx)("div",{className:"pt-6",children:(0,u.jsx)("div",{className:"setting-content",children:(0,u.jsx)(d.Z,{})})})})})]})},e7=n(55451),te=n(6255),tt=n(20380),tn=n(11936),tr=n(57457),ta=n(35282),ti=n(36282),to=n(93326),ts=n(85193),tc=n(86678),tl=n(41772),td=function(){var e,t=(0,o.jE)(),n=t.query,r=t.actions,a=(0,i.Dk)(),l=a.activeKey,d=a.setActiveKey,x=(0,s.useState)(!1),p=x[0],f=x[1],h=function(){f(!1),d(null)},m=[{key:c.Ey.TEXT,title:"Văn bản",icon:(0,u.jsx)(ta.wUc,{size:24}),content:(0,u.jsx)(te.Z,{})},{key:c.Ey.PHOTO,title:"H\xecnh ảnh",icon:(0,u.jsx)(eD.LfC,{}),content:(0,u.jsx)(tn.Z,{isMobile:!0,onClose:h})},{key:c.Ey.MATERIAL,title:"Stock",icon:(0,u.jsx)(C.DgG,{}),content:(0,u.jsx)(tt.Z,{isMobile:!0,onClose:h})},{key:c.Ey.BACKGROUND,title:"Th\xeam nền",icon:(0,u.jsx)(eh.fmc,{}),content:(0,u.jsx)(to.Z,{})},{key:c.Ey.MUSIC,title:"\xc2m nhạc",icon:(0,u.jsx)(e7.rkz,{}),content:(0,u.jsx)(ts.Z,{})},{key:c.Ey.PLUGIN,title:"Tiện \xedch",icon:(0,u.jsx)(e7.pNA,{}),content:(0,u.jsx)(tr.Z,{isMobile:!0,onClose:h})},{key:c.Ey.EFFECT,title:"Hiệu ứng",icon:(0,u.jsx)(Q.hWE,{size:20}),content:(0,u.jsx)(tl.Z,{isMobile:!0})},{key:c.Ey.TEMPLATE,title:"Mẫu",icon:(0,u.jsx)(e7.H5o,{}),content:(0,u.jsx)(tc.Z,{})}],g=function(){var e=document.getElementById("root-page-container"),t=document.getElementById("main-scroll-container");if(e&&t){var a=t.scrollTop,i=e.getBoundingClientRect().width,o=n.createNode(s.createElement(ti.z,{top:Math.round(a+window.innerHeight/2-150),left:Math.round(i/2-50),fontSize:36}));r.add(o,"ROOT"),r.selectNode(o.id)}},b=(0,i.Hj)();b.isReplacing,b.replaceType;var v=l===c.Ey.PHOTO||l===c.Ey.MATERIAL;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{background:"white",borderTop:"1px solid #eee",paddingTop:"5px",paddingBottom:"5px"},className:"jsx-478851306",children:(0,u.jsx)(e6.nj,{activeKey:l,onChange:function(e){if(e===c.Ey.TEXT){g();return}d(e),f(!0)},className:"mobile-toolbox-tab-bar",children:m.map(function(e){return(0,u.jsx)(e6.nj.Item,{icon:e.icon,title:e.title},e.key)})})}),(0,u.jsx)(e6.GI,{visible:p,onMaskClick:h,position:"bottom",bodyStyle:{height:"60vh"},children:null===(e=m.find(function(e){return e.key===l}))||void 0===e?void 0:e.content}),(0,u.jsxs)(e6.GI,{visible:v,onMaskClick:h,position:"bottom",bodyStyle:{height:"60vh"},children:[l===c.Ey.PHOTO&&(0,u.jsx)(tn.Z,{isMobile:!0,onClose:h}),l===c.Ey.MATERIAL&&(0,u.jsx)(tt.Z,{isMobile:!0,onClose:h})]}),(0,u.jsx)(D(),{id:"478851306",children:[".mobile-toolbox-tab-bar .adm-tab-bar-wrap{overflow:auto;}"]})]})},tu=function(e){var t=e.children,n=e.pageId,r=e.isTemplate,a=e.templateCategoryId,i=(0,o.jE)(),c=i.connectors,l=i.actions,d=(0,eq.useRouter)(),x=(0,A.useSession)().data,p=(0,s.useState)(!1),f=p[0],h=p[1],m=(0,er.X2)().setCategoryId;e5({pageIdParam:n,isTemplate:r}),(0,s.useEffect)(function(){a&&m(a)},[a,m]);var g=d.pathname.includes("/editor-template/")||d.asPath.includes("/editor-template/"),b=(0,eW.E)(),v=b.checkCanCreateWebsite,j=b.showLimitModal,y=b.closeLimitModal,w=b.plan,k=b.pagesCount,N=b.isLoading,C=b.canCreate,S=b.enhancedLimits,Z=b.addonBonuses,T=b.hasAddons,E="new-blank"===n||g;(0,s.useEffect)(function(){E&&null!=x&&x.user&&!N&&!v()&&h(!0)},[E,x,N,C]),(0,s.useEffect)(function(){if(f&&!j){var e=setTimeout(function(){d.push("/dashboard")},1e3);return function(){return clearTimeout(e)}}},[f,j,d]),(0,s.useEffect)(function(){return document.documentElement.style.overscrollBehavior="none",document.documentElement.style.overflow="hidden",document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.documentElement.style.position="fixed",document.body.style.overscrollBehavior="none",document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.width="100%",document.body.style.position="fixed",function(){document.documentElement.style.removeProperty("overscroll-behavior"),document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("height"),document.documentElement.style.removeProperty("width"),document.documentElement.style.removeProperty("position"),document.body.style.removeProperty("overscroll-behavior"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("height"),document.body.style.removeProperty("width"),document.body.style.removeProperty("position")}},[]);var O=e0({pageId:"new-blank"===n?void 0:n,isTemplate:r,autoDetect:!0,onRestore:function(e){try{e.pageData&&(l.deserialize(e.pageData),eJ())}catch(e){console.error("Error restoring backup:",e)}}}),P=O.availableBackups,D=O.hasRelevantBackups,I=O.manualRestore,z=O.dismissBackup;(0,s.useEffect)(function(){D&&P.length>0&&eG({backup:P[0],onRestore:I,onDismiss:z})},[D,P,I,z]);var B=!(E&&f);return(0,u.jsxs)("div",{className:"viewport",children:[(0,u.jsx)(eU,{pageId:"new-blank"===n?null:n,mobileView:!0,isTemplate:r,canCreate:C}),(0,u.jsx)("div",{className:"h-16"}),B?(0,u.jsxs)("div",{className:R()(["flex h-full overflow-hidden flex-row w-full fixed"]),children:[(0,u.jsx)("div",{className:"page-container flex flex-1 h-full flex-col",children:(0,u.jsx)("div",{className:"page-builder-renderer flex-1 h-full w-full transition pb-8 overflow-auto bg-renderer-gray",id:"main-scroll-container",ref:function(e){return c.select(c.hover(e,null),null)},children:(0,u.jsx)("div",{className:"relative flex-col flex items-center pt-10 pb-48",children:t})})}),(0,u.jsx)(e8,{}),(0,u.jsx)("div",{className:"fixed bottom-0 w-full bg-white",style:{zIndex:99999},children:(0,u.jsx)(td,{})})]}):(0,u.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,u.jsxs)("div",{className:"text-center p-8",children:[(0,u.jsx)("div",{className:"text-lg text-gray-600 mb-4",children:"Đang kiểm tra quyền truy cập..."}),(0,u.jsx)("div",{className:"text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng trong gi\xe2y l\xe1t"})]})}),(0,u.jsx)(eX.Z,{isOpen:j,onClose:y,currentPlan:w,currentCount:k,limitType:"website",enhancedLimit:S.maxWebsites,addonBonus:Z.websites,hasAddons:T})]})}},65435:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(19848),a=n.n(r),i=n(67294),o=n(50029),s=n(87794),c=n.n(s),l=n(53298),d=n(80122),u=n(7764),x=n(2453),p=n(83062),f=n(74330),h=n(83622),m=n(92592),g=n(34447),b=n(49647),v=n(97937),j=n(11163),y=n(33299),w=n(71725),k=n(25310),N=n(85518),C=n(85893),S=function(e){var t,n,r,a=e.templateData,s=e.isFavorited,S=void 0!==s&&s,A=(0,j.useRouter)(),Z=(0,i.useState)(!1),T=Z[0],E=Z[1],O=(0,i.useState)(!0),P=O[0],D=O[1],I=(0,i.useState)(""),R=I[0],z=I[1],B=a.id,M=a.slug,L=(0,i.useState)(!1),F=L[0],_=L[1],H=(0,i.useState)(!1),U=H[0],K=H[1],q="authenticated"===(0,y.useSession)().status,W=(0,i.useState)(S),X=W[0],V=W[1];(0,i.useEffect)(function(){V(S)},[S]);var Y=(0,w.M)().toggleFavorite,Q="".concat(u.Z.APP_URL,"/template/").concat(M);(0,i.useEffect)(function(){G()},[]);var G=(t=(0,o.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.toDataURL(Q,{width:128,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"});case 3:z(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error generating QR code:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),J=function(){E(!1),D(!0)},$=(n=(0,o.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,A.push("/editor-template/".concat(B));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Navigation error:",e.t0),_(!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(){return n.apply(this,arguments)}),ee=(r=(0,o.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=2;break}return e.abrupt("return");case 2:if(q){e.next=5;break}return x.ZP.error("Vui l\xf2ng đăng nhập để th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"),e.abrupt("return");case 5:return K(!0),e.prev=6,t=X,V(!X),e.next=11,Y(B);case 11:e.sent?x.ZP.success(t?"Đ\xe3 x\xf3a khỏi danh s\xe1ch y\xeau th\xedch":"Đ\xe3 th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"):(V(t),x.ZP.error("Kh\xf4ng thể cập nhật trạng th\xe1i y\xeau th\xedch. Vui l\xf2ng thử lại sau.")),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("Error updating favorite status:",e.t0),V(S),x.ZP.error("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại sau.");case 20:return e.prev=20,K(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[6,15,20,23]])})),function(){return r.apply(this,arguments)});return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"flex gap-2 items-center flex-col",children:(0,C.jsx)("div",{className:"",children:(0,C.jsx)("button",{onClick:function(){E(!0)},style:{background:"linear-gradient(135deg, #fa7f98 0%, #e66f87 100%)",borderRadius:40},className:"px-4 py-1 text-white font-semibold rounded opacity-70 hover:opacity-100 transition-opacity duration-200",children:"Xem mẫu"})})}),(0,C.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-1 left-1 py-0.5",children:(0,C.jsx)(p.Z,{title:X?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:(0,C.jsx)("button",{onClick:ee,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":X?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:X?(0,C.jsx)(g.Z,{style:{fontSize:25,color:"#ff4d6d"}}):(0,C.jsx)(b.Z,{style:{fontSize:25,color:"#ff4d6d"}})})})}),(0,C.jsx)("div",{className:"absolute top-2 right-2",children:(0,C.jsx)(k.Z,{favoriteCount:a.favoriteCount,viewCount:a.viewCount,usageCount:a.usageCount,vertical:!0})}),(0,C.jsx)(l.u,{appear:!0,show:T,as:i.Fragment,children:(0,C.jsxs)(d.Vq,{style:{zIndex:1e4},as:"div",className:"relative z-10",onClose:J,children:[(0,C.jsx)(l.u.Child,{as:i.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,C.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,C.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,C.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,C.jsx)(l.u.Child,{as:i.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-400",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,C.jsxs)(d.Vq.Panel,{className:"w-full max-w-md md:max-w-2xl lg:max-w-2xl xl:max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,C.jsx)("div",{className:"flex justify-center items-center",children:(0,C.jsxs)("div",{className:"max-w-4xl w-full p-2 flex flex-col md:flex-row",children:[(0,C.jsxs)("div",{className:"flex flex-col items-center w-full md:w-1/2 px-2 rounded-lg",children:[(0,C.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-2 left-1 py-0.5",children:(0,C.jsx)("button",{onClick:ee,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":X?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:X?(0,C.jsx)(g.Z,{style:{fontSize:25,color:"#ff4d6d"}}):(0,C.jsx)(b.Z,{style:{fontSize:25,color:"#ff4d6d"}})})}),(0,C.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,C.jsx)(k.Z,{favoriteCount:a.favoriteCount,viewCount:a.viewCount,usageCount:a.usageCount,vertical:!0})}),(0,C.jsxs)("div",{className:"iframe-wrapper bg-white rounded-lg overflow-hidden shadow-md w-full relative",style:{width:"90%",height:"70vh",overflow:"hidden"},children:[P&&(0,C.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:(0,C.jsx)(f.Z,{size:"default",tip:"Loading template..."})}),(0,C.jsx)("iframe",{src:"".concat(u.Z.APP_URL,"/template/iframe/").concat(M),title:"Xem trước mẫu thiệp",style:{width:"166.67%",height:"166.67%",transform:"scale(0.6)",transformOrigin:"top left",border:"none",visibility:P?"hidden":"visible"},frameBorder:"0",allowFullScreen:!0,onLoad:function(){D(!1)}})]})]}),(0,C.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-between p-4 border-l",children:[(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsxs)("ul",{className:"text-gray-700 space-y-2",children:[(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Chuy\xean nghiệp:"})," Thiết kế đẹp mắt, ph\xf9 hợp nhiều phong c\xe1ch"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Dễ d\xe0ng:"})," Chỉnh sửa trực quan, kh\xf4ng cần kinh nghiệm"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Tiện lợi:"})," Chia sẻ ngay qua mạng x\xe3 hội hoặc tin nhắn"]}),(0,C.jsxs)("li",{children:[(0,C.jsx)("strong",{children:"Tối ưu:"})," Hiển thị tốt tr\xean mọi thiết bị"]})]})}),(0,C.jsxs)("div",{className:"flex space-x-4 mb-4 justify-between",children:[(0,C.jsx)(h.ZP,{onClick:function(){window.open(Q,"_blank")},children:"Xem trực tiếp"}),(0,C.jsx)(h.ZP,{onClick:$,type:"primary",className:"px-4 m-auto py-2 text-white font-semibold rounded hover:opacity-100 transition-opacity duration-200",disabled:F,children:F?(0,C.jsxs)("span",{className:"flex items-center gap-2",children:[(0,C.jsx)(f.Z,{size:"small"}),"Đang chuyển hướng..."]}):"D\xf9ng mẫu n\xe0y"})]}),!N.tq&&(0,C.jsxs)("div",{className:"flex flex-col items-center",children:[R?(0,C.jsx)("img",{src:R,alt:"QR Code",className:"w-32 h-32 mb-4"}):(0,C.jsx)("div",{className:"w-32 h-32 mb-4 flex items-center justify-center",children:(0,C.jsx)(f.Z,{size:"small"})}),(0,C.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:"Qu\xe9t m\xe3 QR để xem tr\xean điện thoại"})]})]})]})}),(0,C.jsx)("div",{className:"mt-6 md:hidden flex justify-center",children:(0,C.jsxs)("button",{onClick:J,className:"w-full max-w-sm py-3 px-4 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[(0,C.jsx)(v.Z,{}),"Đ\xf3ng"]})})]})})})})]})})]})},A=n(9472),Z=function(e){var t,n,r,o,s=e.imageSrc,c=e.templateData,l=(0,i.useState)(0),d=l[0],u=l[1],x=(0,i.useRef)(null),p=(0,i.useState)(336),f=p[0],h=p[1],m=(0,i.useRef)(null),g=(0,(0,w.M)().isFavorite)(c.id),b=(t=new Date,r=(n=c.createdAt?new Date(c.createdAt):null)&&t.getTime()-n.getTime()<=5184e6,o=c.viewCount&&c.viewCount>1e3||c.favoriteCount&&c.favoriteCount>100||c.usageCount&&c.usageCount>800,r&&o||r?{type:"new",priority:1}:o?{type:"hot",priority:2}:null),v=c.templateType?{type:c.templateType.toLowerCase(),text:c.templateType.toUpperCase()}:null;(0,i.useEffect)(function(){var e=function(){var e=m.current;e&&h(Math.floor(1.47*e.clientWidth))};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,i.useEffect)(function(){var e=x.current;e&&(e.complete?j(e):e.onload=function(){return j(e)})},[s,f]);var j=function(e){var t=e.naturalWidth/e.naturalHeight;u(Math.max(0,e.width/t-f))};return(0,C.jsxs)("div",{style:{"--image-scroll-height":"".concat(d,"px"),"--scroll-duration":"".concat(d/120,"s"),"--container-height":"".concat(f,"px")},className:"jsx-757069411 infrastructure",children:[(0,C.jsxs)("div",{style:{width:"100%",borderRadius:5},className:"jsx-757069411 invitation finger transition",children:[(0,C.jsxs)("div",{ref:m,className:"jsx-757069411 image",children:[b&&(0,C.jsx)("div",{className:"jsx-757069411 "+"badge badge-".concat(b.type),children:"new"===b.type?"NEW":"HOT"}),v&&(0,C.jsx)("div",{className:"jsx-757069411 "+"badge badge-".concat(v.type," badge-right"),children:v.text}),(0,C.jsx)("div",{className:"jsx-757069411 el-image elImage",children:(0,C.jsx)("img",{ref:x,src:s,alt:"".concat((0,A.g)(c.categoryId)," miễn ph\xed - ").concat(c.templateName||(0,A.g)(c.categoryId)," | Cinelove"),title:"Xem v\xe0 t\xf9y chỉnh ".concat(c.templateName||(0,A.g)(c.categoryId)," miễn ph\xed"),style:{objectFit:"contain"},loading:"lazy",decoding:"async",className:"jsx-757069411 el-image__inner"})})]}),(0,C.jsx)("div",{className:"jsx-757069411",children:(0,C.jsx)("div",{className:"jsx-757069411 absolute inset-0 flex items-end justify-center opacity-0 transition-opacity duration-300 hover:opacity-100 pb-4",children:(0,C.jsx)(S,{templateData:c,isFavorited:g})})})]}),(0,C.jsx)(a(),{id:"757069411",children:[".invitation.jsx-757069411,.poster.jsx-757069411,.mv.jsx-757069411{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".invitation.jsx-757069411{border:1px solid #0000001f;box-shadow:0 0 10px #0003;}",".finger.jsx-757069411{cursor:pointer;}",".transition.jsx-757069411{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}",".invitation.jsx-757069411 .image.jsx-757069411{height:var(--container-height);overflow:hidden;width:100%;border-radius:5px;position:relative;}",".poster.jsx-757069411 .image.jsx-757069411{width:100%;border-radius:5px;}",".elImage.jsx-757069411{width:100%;height:100%;}",".el-image__inner.jsx-757069411,.el-image__wrapper.jsx-757069411{height:100%;width:100%;}",".el-image.jsx-757069411{display:inline-block;overflow:hidden;position:relative;}",".elImage.jsx-757069411 .el-image__inner.jsx-757069411{height:auto;-webkit-transition:-webkit-transform 1s ease 0s;-webkit-transition:transform 1s ease 0s;transition:transform 1s ease 0s;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}",".el-image__inner.jsx-757069411{opacity:1;vertical-align:top;}",".invitation.jsx-757069411:hover,.poster.jsx-757069411:hover{background:#fff !important;-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);box-shadow:0 0 10px #0003;}",".invitation.jsx-757069411:hover .elImage.jsx-757069411 .el-image__inner.jsx-757069411,.poster.jsx-757069411:hover .elImage.jsx-757069411 .el-image__inner.jsx-757069411{-webkit-transition:-webkit-transform var(--scroll-duration) ease 0s;-webkit-transition:transform var(--scroll-duration) ease 0s;transition:transform var(--scroll-duration) ease 0s;-webkit-transform:translateY(calc(var(--image-scroll-height) * -1));-ms-transform:translateY(calc(var(--image-scroll-height) * -1));transform:translateY(calc(var(--image-scroll-height) * -1));}",".center.jsx-757069411{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".badge.jsx-757069411{position:absolute;top:8px;left:8px;z-index:1;padding:2px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;line-height:17px;}",".badge-new.jsx-757069411{background:linear-gradient(135deg,#10b981,#059669);color:white;}",".badge-hot.jsx-757069411{background:linear-gradient(135deg,#f59e0b,#d97706);color:white;}",".badge-premium.jsx-757069411{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:white;}",".badge-basic.jsx-757069411{background:linear-gradient(135deg,#3b82f6,#2563eb);color:white;}",".badge-right.jsx-757069411{top:8px;right:8px;left:auto;}",".invitation.jsx-757069411:hover .badge.jsx-757069411{opacity:0;-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);-webkit-transition:all 0.3s ease;transition:all 0.3s ease;-webkit-transform:translateY(-40px);-ms-transform:translateY(-40px);transform:translateY(-40px);}","@media (max-width:500px){.button.jsx-757069411{font-size:12px;padding:6px 10px;}.badge.jsx-757069411{font-size:10px;padding:2px 6px;top:6px;left:6px;border-radius:8px;}.badge-right.jsx-757069411{top:6px;right:6px;left:auto;}}"]})]})}},96208:function(e,t,n){"use strict";var r=n(50029),a=n(87794),i=n.n(a),o=n(67294),s=n(25593),c=n(2453),l=n(17788),d=n(40056),u=n(78957),x=n(38289),p=n(83622),f=n(68795),h=n(11475),m=n(48689),g=n(67623),b=n(85893),v=s.Z.Text,j=s.Z.Title;t.Z=function(e){var t,n=e.visible,a=e.onClose,s=(0,o.useState)(""),y=s[0],w=s[1],k=(0,o.useState)(null),N=k[0],C=k[1],S=(0,o.useState)(!1),A=S[0],Z=S[1],T=(0,o.useState)(!1),E=T[0],O=T[1],P=(0,g.jE)(),D=P.query,I=P.actions,R=function(){if(!y.trim()){c.ZP.warning("Vui l\xf2ng nhập ID của node");return}Z(!0);try{var e,t=D.getNodes()[y.trim()];t?(C({id:t.id,displayName:(null===(e=t.data)||void 0===e?void 0:e.displayName)||"Kh\xf4ng c\xf3 t\xean"}),c.ZP.success("T\xecm thấy node!")):(C(null),c.ZP.error("Kh\xf4ng t\xecm thấy node với ID n\xe0y"))}catch(e){console.error("Error searching for node:",e),c.ZP.error("C\xf3 lỗi xảy ra khi t\xecm kiếm")}finally{Z(!1)}},z=(t=(0,r.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:try{O(!0),I.delete(N.id),c.ZP.success("Đ\xe3 x\xf3a node th\xe0nh c\xf4ng!"),C(null),w("")}catch(e){console.error("Error removing node:",e),c.ZP.error("C\xf3 lỗi xảy ra khi x\xf3a node")}finally{O(!1)}case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,b.jsx)(l.Z,{title:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Z,{}),(0,b.jsx)("span",{children:"T\xecm v\xe0 x\xf3a node theo ID (N\xe2ng cao)"})]}),open:n,onCancel:function(){w(""),C(null),a()},footer:null,width:600,destroyOnClose:!0,children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(d.Z,{message:"T\xcdNH NĂNG N\xc2NG CAO - CẢNH B\xc1O",description:"Đ\xe2y l\xe0 t\xednh năng d\xe0nh cho c\xe1c nh\xe0 ph\xe1t triển c\xf3 chuy\xean m\xf4n. Việc x\xf3a node c\xf3 thể l\xe0m hỏng cấu tr\xfac trang v\xe0 g\xe2y ra lỗi kh\xf4ng mong muốn. Chỉ sử dụng khi bạn thực sự hiểu r\xf5 về cấu tr\xfac trang v\xe0 biết ch\xednh x\xe1c node n\xe0o cần x\xf3a.",type:"warning",showIcon:!0,className:"mb-4 text-sm"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(v,{strong:!0,children:"Nhập ID của node:"}),(0,b.jsxs)(u.Z.Compact,{style:{width:"100%"},children:[(0,b.jsx)(x.Z,{placeholder:"Nhập ID node cần t\xecm...",value:y,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&R()},disabled:A}),(0,b.jsx)(p.ZP,{type:"primary",icon:(0,b.jsx)(f.Z,{}),onClick:R,loading:A,children:"T\xecm kiếm"})]})]}),N&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,b.jsx)(j,{level:5,className:"mb-3",children:"Kết quả t\xecm kiếm:"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(v,{strong:!0,children:"ID:"}),(0,b.jsx)(v,{code:!0,children:N.id})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(v,{strong:!0,children:"T\xean hiển thị:"}),(0,b.jsx)(v,{children:N.displayName})]})]}),(0,b.jsx)(d.Z,{message:"Cảnh b\xe1o",description:"Việc x\xf3a node n\xe0y sẽ kh\xf4ng thể ho\xe0n t\xe1c. H\xe3y chắc chắn rằng bạn muốn x\xf3a node n\xe0y.",type:"warning",showIcon:!0,icon:(0,b.jsx)(h.Z,{}),className:"mt-3"}),(0,b.jsx)("div",{className:"mt-4 flex justify-end",children:(0,b.jsx)(p.ZP,{danger:!0,icon:(0,b.jsx)(m.Z,{}),onClick:z,loading:E,children:"X\xf3a node"})})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,b.jsx)(v,{strong:!0,children:"Hướng dẫn sử dụng:"}),(0,b.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,b.jsx)("li",{children:"• Nhập ID của node cần t\xecm v\xe0o \xf4 t\xecm kiếm"}),(0,b.jsx)("li",{children:'• Nhấn Enter hoặc click n\xfat "T\xecm kiếm"'}),(0,b.jsx)("li",{children:"• Nếu t\xecm thấy, bạn c\xf3 thể xem th\xf4ng tin v\xe0 x\xf3a node"}),(0,b.jsx)("li",{children:"• Lưu \xfd: Việc x\xf3a node kh\xf4ng thể ho\xe0n t\xe1c"})]})]})]})})}},69595:function(e,t,n){"use strict";var r=n(50029),a=n(87794),i=n.n(a),o=n(53298),s=n(80122),c=n(67294),l=n(22567),d=n(9758),u=n(11163),x=n(72271),p=n(46425),f=n(85893);t.Z=function(e){var t,n,a,h,m=e.isOpen,g=e.onClose,b=e.currentPlan,v=e.expirationDate,j=e.isExpired,y=e.isExpiringSoon,w=e.daysLeft,k=e.openInNewTab,N=void 0!==k&&k,C=(0,d.z_)(b),S=(0,c.useState)([]),A=S[0],Z=S[1],T=(0,c.useState)(!1),E=T[0],O=T[1],P=(0,c.useState)("addon"),D=P[0],I=P[1],R=(0,u.useRouter)(),z=(t=b.toLowerCase(),n=[],"free"===t?n.push(p.T0.find(function(e){return"basic"===e.name}),p.T0.find(function(e){return"premium"===e.name})):"basic"===t&&n.push(p.T0.find(function(e){return"premium"===e.name})),n.filter(Boolean)),B="time-extension-".concat(j?"expired":y?"expiring-soon":"upgrade");(0,c.useEffect)(function(){m&&M()},[m,b]);var M=(a=(0,r.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,x.Z.getAddons(b);case 4:(t=e.sent).success&&Z(Object.values(t.data).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return"TIME_EXTENSION"===e.type||"TIME"===e.category}).slice(0,3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching time addons:",e.t0);case 11:return e.prev=11,O(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),function(){return a.apply(this,arguments)}),L=function(e){N?window.open(e+"&upgradeSource=".concat(B),"_blank"):R.push(e+"&upgradeSource=".concat(B)),g(!0)},F=function(e){var t="/checkout/addon?id=".concat(e.addonId);N?window.open(t,"_blank"):R.push(t),g(!0)},_=function(){return j?"text-red-600":y?"text-orange-600":"text-blue-600"};return(0,f.jsx)(o.u,{appear:!0,show:m,as:c.Fragment,children:(0,f.jsxs)(s.Vq,{as:"div",className:"relative",style:{zIndex:9999},onClose:g,children:[(0,f.jsx)(o.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,f.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,f.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,f.jsx)(o.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,f.jsxs)(s.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,f.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,f.jsx)("div",{className:"rounded-full p-3 ".concat(j?"bg-red-100":y?"bg-orange-100":"bg-blue-100"),children:(0,f.jsx)(l.JO,{icon:j?"solar:calendar-cross-bold":y?"solar:calendar-warning-bold":"solar:calendar-clock-bold",className:"h-8 w-8 ".concat(_())})})}),(0,f.jsx)(s.Vq.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-center mb-2 ".concat(_()),children:j?"Trang web đ\xe3 hết hạn":y?"Trang web sắp hết hạn":"Gia hạn trang web"}),(0,f.jsxs)("div",{className:"mt-4 text-center",children:[(0,f.jsx)("p",{className:"text-gray-600 mb-6",children:(h=new Date(v).toLocaleDateString("vi-VN"),j?"Trang web đ\xe3 hết hạn v\xe0o ".concat(h,". H\xe3y gia hạn để tiếp tục sử dụng."):y?"Trang web sẽ hết hạn v\xe0o ".concat(h," (c\xf2n ").concat(w," ng\xe0y). Gia hạn ngay để tr\xe1nh gi\xe1n đoạn."):"Trang web sẽ hết hạn v\xe0o ".concat(h,". Bạn c\xf3 thể gia hạn trước để c\xf3 thời gian sử dụng l\xe2u hơn."))}),(0,f.jsx)("div",{className:"flex justify-center mb-6",children:(0,f.jsxs)("div",{className:"bg-gray-100 rounded-lg p-1 flex",children:[(0,f.jsx)("button",{onClick:function(){return I("addon")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("addon"===D?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"⏰ Mua th\xeam thời gian (Tiết kiệm)"}),(0,f.jsx)("button",{onClick:function(){return I("upgrade")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("upgrade"===D?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"\uD83D\uDC51 N\xe2ng cấp g\xf3i"})]})}),"addon"===D&&(0,f.jsx)("div",{className:"space-y-4 mb-6",children:(0,f.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,f.jsx)("h4",{className:"font-semibold text-green-800 mb-2 flex items-center",children:"⏰ Mua th\xeam thời gian"}),(0,f.jsx)("p",{className:"text-sm text-green-700 mb-3",children:"Chỉ gia hạn thời gian sử dụng m\xe0 kh\xf4ng cần n\xe2ng cấp to\xe0n bộ g\xf3i"}),E?(0,f.jsxs)("div",{className:"text-center py-4 min-h-[300px]",children:[(0,f.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto"}),(0,f.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Đang tải thời gian gia hạn..."})]}):A.length>0?(0,f.jsx)("div",{className:"grid gap-3",children:A.map(function(e){var t;return(0,f.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,f.jsx)("span",{className:"text-2xl",children:"⏰"}),(0,f.jsxs)("div",{className:"text-left",children:[(0,f.jsx)("h5",{className:"font-medium text-gray-900",children:e.name}),(0,f.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,f.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,f.jsxs)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:["+",e.value," th\xe1ng"]}),e.tags.includes("popular")&&(0,f.jsx)("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:"Phổ biến"}),e.tags.includes("best-value")&&(0,f.jsx)("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:"Gi\xe1 tốt nhất"})]})]})]}),(0,f.jsxs)("div",{className:"text-right",children:[(0,f.jsx)("div",{className:"font-bold text-green-600 text-lg",children:(t=e.price,new Intl.NumberFormat("vi-VN").format(t)+" VND")}),(0,f.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:["~",Math.round(e.price/e.value).toLocaleString()," ","VND/th\xe1ng"]}),(0,f.jsx)("button",{onClick:function(){return F(e)},className:"bg-green-600 text-white px-2 md:px-3 py-1 rounded-md text-sm hover:bg-green-700 transition-colors",children:"Gia hạn"})]})]})},e.addonId)})}):(0,f.jsx)("div",{className:"text-center py-4",children:(0,f.jsx)("p",{className:"text-sm text-gray-500",children:"Kh\xf4ng c\xf3 g\xf3i gia hạn ph\xf9 hợp"})})]})}),"upgrade"===D&&z.length>0&&(0,f.jsx)("div",{className:"space-y-4 mb-6",children:(0,f.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,f.jsxs)("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:[(0,f.jsx)(l.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"N\xe2ng cấp g\xf3i để c\xf3 thời gian l\xe2u hơn"]}),(0,f.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"N\xe2ng cấp g\xf3i để c\xf3 thời gian sử dụng l\xe2u hơn c\xf9ng nhiều t\xednh năng cao cấp"}),(0,f.jsx)("div",{className:"grid gap-4 ".concat(2===z.length?"grid-cols-1 md:grid-cols-2":"grid-cols-1"),children:z.map(function(e){return(0,f.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md bg-white ".concat(e.popular||e.featured?"border-blue-300":"border-gray-200"),children:[e.popular&&(0,f.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,f.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,f.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,f.jsx)(l.JO,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,f.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,f.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,f.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,f.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,p.vs)(e.price,e.originalPrice),"%"]})]}):(0,f.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,f.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,f.jsx)("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.limits.duration}),(0,f.jsx)("div",{className:"text-sm text-blue-700",children:"Thời gian lưu trữ trang web"})]})}),(0,f.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,f.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,f.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,f.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),e.featured&&(0,f.jsx)("div",{className:"text-gray-700",children:"• Template Premium"}),(0,f.jsx)("div",{className:"text-gray-700",children:"• Nhiều t\xednh năng cao cấp"})]}),(0,f.jsxs)("button",{onClick:function(){return L(e.ctaLink)},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]})}),(0,f.jsx)("div",{className:"mt-4 mb-4",children:"addon"===D?(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("button",{type:"button",className:"w-fit inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition-colors",onClick:function(){N?window.open("/dashboard/addons","_blank"):R.push("/dashboard/addons"),g(!0)},children:[(0,f.jsx)(l.JO,{icon:"solar:clock-circle-bold",className:"mr-2 h-4 w-4"}),"Xem tất cả g\xf3i gia hạn"]})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("button",{type:"button",className:"w-fit inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 transition-colors",onClick:function(){N?window.open("/pricing-plans?upgradeSource=".concat(B),"_blank"):R.push("/pricing-plans?upgradeSource=".concat(B)),g(!0)},children:[(0,f.jsx)(l.JO,{icon:"solar:list-check-bold",className:"mr-2 h-4 w-4"}),"Xem tất cả g\xf3i dịch vụ"]})})}),(0,f.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,f.jsxs)("h4",{className:"font-medium text-gray-900 mb-2",children:["G\xf3i hiện tại: ",C.name]}),(0,f.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,f.jsxs)("div",{children:["• Thời hạn website: ",C.duration]}),(0,f.jsxs)("div",{children:["• Tối đa ",C.maxWebsites," website"]}),(0,f.jsxs)("div",{children:["• Tối đa ",C.maxImages," ảnh"]})]})]})]}),(0,f.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors",onClick:function(){return g(!1)},children:"Đ\xf3ng"})]})})})})]})})}},18036:function(e,t,n){"use strict";n.d(t,{h:function(){return d}});var r=n(67294),a=n(40411),i=n(83622),o=n(66309),s=n(22567),c=n(69595),l=n(85893),d=function(e){var t,n,d,u,x,p,f,h,m=e.pageData,g=e.userPlan,b=e.className,v=e.showPlanInfo,j=void 0===v||v,y=(0,r.useState)(!1),w=y[0],k=y[1];return null!=m&&m.expirationDate?(t=new Date(m.createdAt),n=new Date(m.expirationDate),d=new Date,u=Math.ceil((n.getTime()-t.getTime())/864e5),x=Math.max(0,Math.ceil((n.getTime()-d.getTime())/864e5)),p=Math.min(100,Math.min(u,Math.max(0,Math.ceil((d.getTime()-t.getTime())/864e5)))/u*100),f=x<=("free"===g?30:"basic"===g?90:365),h=0===x,(0,l.jsxs)("div",{className:"space-y-3 ".concat(void 0===b?"":b),children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(a.Z,{status:h?"error":f?"warning":"processing"}),(0,l.jsx)("span",{className:h?"text-red-600 font-medium":f?"text-orange-500 font-medium":"premium"===g?"text-green-500 font-medium":"basic"===g?"text-blue-500 font-medium":"text-yellow-500 font-medium",children:h?"Đ\xe3 hết hạn":"C\xf2n ".concat(x," ng\xe0y")})]}),(0,l.jsxs)("span",{className:"text-gray-500",children:[Math.round(p),"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:(0,l.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(h?"bg-red-500":f?"bg-orange-500":"premium"===g?"bg-green-500":"basic"===g?"bg-blue-500":"bg-yellow-500"),style:{width:"".concat(p,"%")}})}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Ng\xe0y tạo: ",t.toLocaleDateString("vi-VN")]}),(0,l.jsxs)("span",{children:["Hết hạn: ",n.toLocaleDateString("vi-VN")]})]})]}),(0,l.jsxs)("div",{className:"mt-3 flex items-start gap-3 bg-gray-50 rounded-lg p-3 border border-gray-100",children:[j&&(0,l.jsx)("div",{className:"text-amber-500 mt-0.5",children:(0,l.jsx)(s.JO,{icon:"solar:bell-bold",className:"text-lg"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-sm text-gray-700",children:h?"Trang web đ\xe3 hết hạn. Nhấn n\xfat b\xean dưới để xem c\xe1c t\xf9y chọn gia hạn.":f?"Trang web sắp hết hạn! H\xe3y gia hạn ngay để tr\xe1nh gi\xe1n đoạn.":"free"===g?"Với g\xf3i Free, trang web sẽ c\xf3 thời hạn 6 th\xe1ng kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn.":"basic"===g?"Với g\xf3i Basic, trang web sẽ c\xf3 thời hạn 2 năm kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn.":"Với g\xf3i Premium, trang web sẽ c\xf3 thời hạn 5 năm kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn."}),(h||f||"premium"!==g)&&(0,l.jsx)("div",{className:"flex gap-2 mt-3",children:(0,l.jsx)(i.ZP,{type:"primary",size:"small",className:h||f?"bg-red-500 hover:bg-red-600 border-red-500":"free"===g?"bg-blue-500 hover:bg-blue-600 border-blue-500":"bg-orange-500 hover:bg-orange-600 border-orange-500",onClick:function(){return k(!0)},children:h?"Gia hạn ngay":f?"Gia hạn trang":"Xem c\xe1c g\xf3i"})}),"premium"===g&&(h||f)&&(0,l.jsx)("div",{className:"flex gap-2 mt-3",children:(0,l.jsx)(i.ZP,{type:"primary",size:"small",className:"bg-green-500 hover:bg-green-600 border-green-500",onClick:function(){return k(!0)},children:"Gia hạn trang web"})})]})]}),j&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("span",{className:"text-sm sm:text-base",children:"G\xf3i hiện tại"}),(0,l.jsx)(o.Z,{className:"uppercase",color:"free"===g?"warning":"basic"===g?"blue":"green",children:g})]}),"premium"!==g&&(0,l.jsxs)(i.ZP,{type:"link",size:"small",className:"text-xs sm:text-xs text-blue-500 hover:text-blue-600 p-0 h-auto flex items-center self-start sm:self-auto min-h-[32px] sm:min-h-auto",onClick:function(){return window.open("/pricing-plans?upgradeSource=time-extension-".concat(h?"expired":f?"expiring-soon":"upgrade"),"_blank")},children:[(0,l.jsx)(s.JO,{icon:"solar:arrow-up-bold",className:"text-xs mr-0.5"}),"N\xe2ng cấp"]}),"premium"===g&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs sm:text-xs text-green-600 self-start sm:self-auto",children:[(0,l.jsx)(s.JO,{icon:"solar:star-bold",className:"text-sm"}),(0,l.jsx)("span",{children:"G\xf3i cao nhất"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-2 pt-3 sm:pt-2 border-t border-gray-100",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)(s.JO,{icon:"solar:clock-circle-bold",className:"text-green-500"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Gia hạn thời gian"})]}),(0,l.jsxs)(i.ZP,{type:"link",size:"small",className:"text-xs sm:text-xs text-green-600 hover:text-green-700 p-0 h-auto flex items-center self-start sm:self-auto min-h-[32px] sm:min-h-auto",onClick:function(){return k(!0)},children:[(0,l.jsx)(s.JO,{icon:"solar:calendar-add-bold",className:"text-xs mr-0.5"}),"Gia hạn"]})]})]}),(0,l.jsx)(c.Z,{isOpen:w,onClose:function(){return k(!1)},currentPlan:g,expirationDate:m.expirationDate,isExpired:h,isExpiringSoon:f,daysLeft:x,openInNewTab:!0})]})):null}},82673:function(e,t,n){"use strict";n.d(t,{r:function(){return S}});var r=n(50029),a=n(59499),i=n(19848),o=n.n(i),s=n(87794),c=n.n(s),l=n(67294),d=n(67623),u=n(59353),x=n(93773),p=n(99621),f=n(63054),h=n(56084),m=n(35959),g=n(66748),b=n(42179),v=n(85893),j=n(84249),y=n(99101),w=n(57581);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C={top:10,left:10,width:100,height:100,backgroundColor:"transparent",color:"#999999",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,materialType:"img",locked:!1,transition:b.b},S=function(e){var t=(0,l.useState)(""),n=t[0],a=t[1],i=(0,l.useRef)(null),s=(0,l.useState)([]),u=s[0],x=s[1],p=(0,l.useState)(!1),f=p[0],h=p[1],m=e=N(N({},C),e),g=m.top,k=m.left,S=m.height,A=m.width,Z=m.opacity,T=m.backgroundColor,E=m.shadow,O=m.padding,P=m.borderRadius,D=m.rotation,I=m.flipX,R=m.flipY,z=m.borderPosition,B=m.borderSize,M=m.borderStyle,L=m.borderColor,F=m.hasShadow,_=m.boxShadow,H=m.imgKey,U=m.materialType,K=m.zIndex,q=m.locked,W=m.transition||b.b,X=(0,d.Zo)(function(e){return{active:e.events.selected,id:e.id}}),V=X.connectors.connect,Y=X.actions.setProp,Q=X.active,G=X.id,J=(0,d.jE)(function(e){return{enabled:e.options.enabled}}).enabled;(0,l.useEffect)(function(){var t;(t=(0,r.Z)(c().mark(function t(){var n,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("svg"===e.materialType&&e.imgKey)){t.next=16;break}return t.prev=1,t.next=4,fetch((0,j.eQ)(e.imgKey));case 4:return n=t.sent,t.next=7,n.text();case 7:r=(r=t.sent).replace(/<svg/,'<svg preserveAspectRatio="none" width="100%" height="100%"'),e.color&&"transparent"!==e.color&&(r=r.replace(/<svg([^>]*)>/,"<svg$1><style>#svg-".concat(G," svg path { fill: ").concat(e.color,"; }</style>"))),a(r),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("Failed to fetch SVG:",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,13]])})),function(){return t.apply(this,arguments)})()},[e.imgKey,e.materialType,e.color]),(0,l.useEffect)(function(){if(Q&&J){var e=document.querySelector("#root-page-container");e&&x(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==G}))}},[Q,J,G]);var $=(0,l.useState)({width:0,height:0,left:0,top:0}),ee=$[0],et=$[1],en=(0,l.useState)(null),er=en[0],ea=en[1];(0,l.useEffect)(function(){if(Q&&J){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();et({width:t.width,height:t.height,left:t.left,top:t.top}),ea(e)}}},[Q,J]);var ei=function(){switch(z){case"all":return{border:"".concat(B,"px ").concat(M," ").concat(L)};case"top":return{borderTop:"".concat(B,"px ").concat(M," ").concat(L)};case"bottom":return{borderBottom:"".concat(B,"px ").concat(M," ").concat(L)};case"right":return{borderRight:"".concat(B,"px ").concat(M," ").concat(L)};case"left":return{borderLeft:"".concat(B,"px ").concat(M," ").concat(L)};case"top-bottom":return{borderTop:"".concat(B,"px ").concat(M," ").concat(L),borderBottom:"".concat(B,"px ").concat(M," ").concat(L)};case"right-left":return{borderRight:"".concat(B,"px ").concat(M," ").concat(L),borderLeft:"".concat(B,"px ").concat(M," ").concat(L)};case"upper-left":return{borderTop:"".concat(B,"px ").concat(M," ").concat(L),borderLeft:"".concat(B,"px ").concat(M," ").concat(L)};case"upper-right":return{borderTop:"".concat(B,"px ").concat(M," ").concat(L),borderRight:"".concat(B,"px ").concat(M," ").concat(L)};case"lower-left":return{borderBottom:"".concat(B,"px ").concat(M," ").concat(L),borderLeft:"".concat(B,"px ").concat(M," ").concat(L)};case"lower-right":return{borderBottom:"".concat(B,"px ").concat(M," ").concat(L),borderRight:"".concat(B,"px ").concat(M," ").concat(L)};default:return{}}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{"data-node-id":G,ref:function(e){e&&(V(e),i.current=e)},style:{position:"absolute",top:"".concat(g,"px"),left:"".concat(k,"px"),width:"".concat(A,"px"),height:"".concat(S,"px"),zIndex:K,cursor:J?"move":"default",transform:"rotate(".concat(D,"deg) scale(").concat(I?-1:1,", ").concat(R?-1:1,")")},className:"jsx-3557960200",children:(0,v.jsx)(w.Z,{transition:W,targetRef:i,enabled:J,nodeId:G,onTransitionStart:function(){h(!0)},onTransitionEnd:function(){h(!1)},children:(0,v.jsx)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:T,textShadow:"0px 0px 2px rgba(0,0,0,".concat((E||0)/100,")"),opacity:Z},className:"jsx-3557960200",children:(0,v.jsxs)("div",{className:"jsx-3557960200 material-component",children:["img"===U&&(0,v.jsx)("div",{style:N(N({backgroundImage:"url(".concat((0,j.eQ)(H),")")},ei),{},{borderRadius:"".concat(P[0],"px \n                  ").concat(P[1],"px \n                  ").concat(P[2],"px \n                  ").concat(P[3],"px"),padding:"".concat(O[0],"px ").concat(O[1],"px ").concat(O[2],"px ").concat(O[3],"px"),boxShadow:F?"".concat(_.offsetX,"px ").concat(_.offsetY,"px ").concat(_.blur,"px ").concat(_.spread,"px ").concat(_.color):"none"}),className:"jsx-3557960200 photo-bg-wrap"}),"svg"===U&&n&&(0,v.jsx)("div",{id:"svg-".concat(G),dangerouslySetInnerHTML:{__html:n},style:N(N({width:"100%",height:"100%",overflow:"hidden"},ei),{},{borderRadius:"".concat(P[0],"px \n                  ").concat(P[1],"px \n                  ").concat(P[2],"px \n                  ").concat(P[3],"px"),padding:"".concat(O[0],"px ").concat(O[1],"px ").concat(O[2],"px ").concat(O[3],"px"),boxShadow:F?"".concat(_.offsetX,"px ").concat(_.offsetY,"px ").concat(_.blur,"px ").concat(_.spread,"px ").concat(_.color):"none"}),className:"jsx-3557960200 svg-wrap"})]})})})}),Q&&J&&i.current&&!f&&(0,v.jsx)(y.Z,{target:i.current,container:er,otherElements:u,containerBounds:ee,currentProps:{top:g,left:k,width:A,height:S,rotation:D,flipX:I,flipY:R,locked:q},onUpdateProps:function(e){Y(function(t){Object.assign(t,e)})}}),(0,v.jsx)(o(),{id:"3557960200",children:[".material-component.jsx-3557960200{width:100%;height:100%;}",".material-component.jsx-3557960200 img.jsx-3557960200{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".material-component.jsx-3557960200 .photo-bg-wrap.jsx-3557960200{width:100%;height:100%;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]})]})};S.craft={displayName:"Material Item",props:C,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e=(0,d.Zo)(function(e){return{materialType:e.data.props.materialType}}).materialType;return(0,v.jsxs)(l.Fragment,{children:[(0,v.jsx)(g.e,{type:"material"}),(0,v.jsxs)(u.Z2,{title:"M\xe0u sắc",defaultOpen:!0,children:[(0,v.jsx)(x.R,{isColor:"svg"===e,defaultColor:"#999999",isBackground:!0}),(0,v.jsx)(m.n,{})]}),(0,v.jsx)(u.Z2,{title:"Đối xứng",children:(0,v.jsx)(p.J,{flipable:!0})}),(0,v.jsx)(u.Z2,{title:"Đường viền",children:(0,v.jsx)(f.j,{})}),(0,v.jsx)(u.Z2,{title:"Đổ b\xf3ng",children:(0,v.jsx)(h.O,{})}),(0,v.jsx)(u.Z2,{title:"Hiệu ứng chuyển động",children:(0,v.jsx)(b.C,{})})]})}}}},99101:function(e,t,n){"use strict";var r=n(19848),a=n.n(r),i=n(67294),o=n(31695),s=n(85893);t.Z=function(e){var t=e.target,n=e.container,r=e.otherElements,c=e.containerBounds,l=e.currentProps,d=e.onUpdateProps,u=e.resizeDirections,x=e.keepRatio,p=(0,i.useRef)(null),f=l.top,h=l.left,m=l.width,g=l.height,b=l.rotation,v=l.flipX,j=l.flipY,y=!!l.locked;return(0,i.useEffect)(function(){l&&p.current&&p.current.updateRect()},[l]),(0,i.useEffect)(function(){if(!y&&t){var e=function(e){if(t&&document.activeElement===t){var n=e.shiftKey?10:1,r=f,a=h,i=!1;switch(e.key){case"ArrowUp":r-=n,i=!0;break;case"ArrowDown":r+=n,i=!0;break;case"ArrowLeft":a-=n,i=!0;break;case"ArrowRight":a+=n,i=!0}i&&(e.preventDefault(),t.style.top="".concat(r,"px"),t.style.left="".concat(a,"px"),d({top:r,left:a}))}};return t&&!t.hasAttribute("tabindex")&&t.setAttribute("tabindex","0"),window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}},[t,f,h,y,d]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ZP,{ref:p,target:t,container:n,origin:!1,resizable:!y,keepRatio:void 0===x||x,throttleResize:0,renderDirections:y?[]:void 0===u?["nw","n","ne","w","e","sw","s","se"]:u,edge:!1,zoom:1,padding:{left:0,top:0,right:0,bottom:0},draggable:!y,throttleDrag:0,rotatable:!y,throttleRotate:0,rotationPosition:"bottom",scalable:!1,snappable:!y,snapContainer:n,snapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},snapThreshold:3,horizontalGuidelines:function(){if(0===c.height)return[];var e=c.height;return[0,e/2,e]}(),verticalGuidelines:function(){if(0===c.width)return[];var e=c.width;return[0,e/2,e]}(),elementGuidelines:r,snapDistFormat:function(e){return"".concat(e,"px")},isDisplaySnapDigit:!0,snapDigit:0,onResizeStart:function(e){if(!y){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set([h,f]);var t=e.direction||[];2===t.length&&0!==t[0]&&0!==t[1]?e.setRatio(m/g):e.setRatio(0);var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="hidden")}},onResize:function(e){if(!y){var n=e.width,r=e.height,a=f,i=h;e.drag&&(a=e.drag.top,i=e.drag.left),t&&(t.style.width="".concat(n,"px"),t.style.height="".concat(r,"px"),t.style.top="".concat(a,"px"),t.style.left="".concat(i,"px"),e.drag&&e.drag.transform&&(t.style.transform="rotate(".concat(b,"deg) scale(").concat(v?-1:1,", ").concat(j?-1:1,")"))),e.drag||window.requestAnimationFrame(function(){d({width:n,height:r,top:a,left:i})})}},onResizeEnd:function(){if(!y){var e=document.getElementById("floating-toolbar");e&&(e.style.visibility="visible")}},onDragStart:function(){if(!y){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow="hidden");var t=document.getElementById("floating-toolbar");t&&(t.style.visibility="hidden")}},onDrag:function(e){!y&&(t&&(t.style.top="".concat(e.top,"px"),t.style.left="".concat(e.left,"px")),p.current&&(p.current.__dragDebounce=p.current.__dragDebounce||0,clearTimeout(p.current.__dragDebounce),p.current.__dragDebounce=setTimeout(function(){d({top:e.top,left:e.left})},20)))},onDragEnd:function(){if(!y){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow="");var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="visible"),t&&d({top:parseFloat(t.style.top),left:parseFloat(t.style.left)})}},onRotateStart:function(e){e.set(b);var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="hidden");var r=document.createElement("div");if(r.id="angle-display",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.backgroundColor="rgba(51, 51, 51, 0.8)",r.style.color="white",r.style.padding="4px 8px",r.style.borderRadius="4px",r.style.fontSize="12px",r.style.zIndex="9999",r.textContent="".concat(Math.round(b),"\xb0"),document.body.appendChild(r),t){var a=t.getBoundingClientRect();r.style.top="".concat(a.top-40,"px"),r.style.left="".concat(a.left+a.width/2-17,"px")}},onRotate:function(e){var n=e.rotate%360;n<0&&(n+=360);for(var r=n,a=Math.round(r),i=0,o=[0,45,90,135,180,225,270,315];i<o.length;i++){var s=o[i];if(2>=Math.abs(r-s)){r=s;break}}if(t){var c=2>=Math.abs(r-n)?r:n;t.style.transform="rotate(".concat(c,"deg) scale(").concat(v?-1:1,", ").concat(j?-1:1,")");var l=document.getElementById("angle-display");if(l){2>=Math.abs(r-n)?l.textContent="".concat(r.toFixed(1),"\xb0"):l.textContent="".concat(a.toFixed(1),"\xb0");var u=t.getBoundingClientRect();l.style.top="".concat(u.top-40,"px"),l.style.left="".concat(u.left+u.width/2-17,"px")}}p.current&&(p.current.__rotateDebounce=p.current.__rotateDebounce||0,clearTimeout(p.current.__rotateDebounce),p.current.__rotateDebounce=setTimeout(function(){d({rotation:2>=Math.abs(r-n)?r:n})},20))},onRotateEnd:function(){var e=document.getElementById("floating-toolbar");if(e&&(e.style.visibility="visible"),t){var n=t.style.transform.match(/rotate\(([^)]+)deg\)/),r=n?parseFloat(n[1]):0;(r%=360)<0&&(r+=360),d({rotation:r});var a=document.getElementById("angle-display");a&&a.remove()}},onRenderEnd:function(e){d({width:parseFloat(e.target.style.width)||m,height:parseFloat(e.target.style.height)||g,top:parseFloat(e.target.style.top)||f,left:parseFloat(e.target.style.left)||h})}}),(0,s.jsx)(a(),{id:"3059266317",children:[".moveable-control.moveable-rotation-control{width:24px !important;height:24px !important;margin-top:-12px !important;margin-left:-12px !important;border-radius:50% !important;background-color:white !important;border:1px solid #333 !important;box-shadow:0 2px 5px rgba(0,0,0,0.2) !important;cursor:-webkit-grab !important;cursor:-moz-grab !important;cursor:grab !important;}",".moveable-control.moveable-rotation-control:active{cursor:-webkit-grabbing !important;cursor:-moz-grabbing !important;cursor:grabbing !important;}",".moveable-rotation-digit{background-color:#333 !important;color:white !important;font-weight:bold !important;padding:2px 6px !important;border-radius:4px !important;}",".moveable-line.moveable-rotation-line{display:none !important;}",".moveable-control.moveable-rotation-control::before{content:\"\";position:absolute;top:50%;left:50%;width:15px;height:15px;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z'/%3E%3C/svg%3E\");background-size:contain;background-repeat:no-repeat;background-position:center;}"]})]})}},42055:function(e,t,n){"use strict";n.d(t,{A:function(){return J}});var r=n(59499),a=n(19848),i=n.n(a),o=n(67294),s=n(67623),c=n(59353),l=n(93773),d=n(15720),u=n(99621),x=n(63054),p=n(56084),f=n(35959),h=n(50029),m=n(87794),g=n.n(m),b=n(76975),v=n(86745),j=n(77917),y=n(2453),w=n(4393),k=n(83622),N=n(52804),C=n(84249),S=n(22567),A=n(16835),Z=n(17788),T=n(42016),E=n(27812),O=n(7764),P=n(85518),D=n(85893),I=function(e){var t=e.selectedShape,n=e.onShapeSelect,r=(0,o.useState)([]),a=r[0],s=r[1],c=(0,o.useState)(!0),l=c[0],d=c[1];return((0,o.useEffect)(function(){var e;(e=(0,h.Z)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O.Z.API_URL,"/api/resources/categories/cropShapes"));case 3:return t=e.sent,e.next=6,t.json();case 6:s(e.sent.items||[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching crop shapes:",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),l)?(0,D.jsxs)("div",{className:"control-group",children:[(0,D.jsx)("h4",{className:"control-title",children:"H\xecnh dạng cắt"}),(0,D.jsx)("div",{className:"crop-shape-list loading",style:{height:"190px"},children:(0,E.Z)(Array(8)).map(function(e,t){return(0,D.jsx)("div",{className:"crop-shape-item skeleton"},t)})})]}):(0,D.jsxs)("div",{className:i().dynamic([["843150890",[P.tq?"100px":"250px"]]])+" control-group",children:[(0,D.jsxs)("h4",{className:i().dynamic([["843150890",[P.tq?"100px":"250px"]]])+" control-title flex items-center gap-2",children:[(0,D.jsx)("span",{className:i().dynamic([["843150890",[P.tq?"100px":"250px"]]])+" crop-shape-title",children:"H\xecnh dạng cắt:"}),t&&(0,D.jsx)("span",{onClick:function(){return n("")},style:{backgroundImage:"url(".concat(O.Z.CDN_URL,"/").concat(t,")")},className:i().dynamic([["843150890",[P.tq?"100px":"250px"]]])+" active-indicator crop-shape-item inline-block w-6 h-6 relative",children:(0,D.jsx)("button",{style:{backgroundColor:"#76828e",borderRadius:"4px",border:"2px solid #fff"},onClick:function(){return n("")},"aria-label":"Reset shape",className:i().dynamic([["843150890",[P.tq?"100px":"250px"]]])+" reset-button absolute -top-1 -right-1",children:(0,D.jsx)(S.JO,{icon:"mdi:close",color:"#fff",height:10})})})]}),(0,D.jsx)("ul",{className:i().dynamic([["843150890",[P.tq?"100px":"250px"]]])+" crop-shape-list custom-scrollbar",children:a.map(function(e){return(0,D.jsx)("li",{onClick:function(){return n(e.fileKey)},style:{backgroundImage:"url(".concat(O.Z.CDN_URL,"/").concat(e.fileKey,")")},className:i().dynamic([["843150890",[P.tq?"100px":"250px"]]])+" "+"crop-shape-item ".concat(t===e.fileKey?"active":"")},e.id)})}),(0,D.jsx)(i(),{id:"843150890",dynamic:[P.tq?"100px":"250px"],children:[".control-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:15px;}",".control-title.__jsx-style-dynamic-selector{font-size:15px;margin:0;color:#666;}",".crop-shape-list.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:0;margin:0;list-style:none;font-size:0;height:".concat(P.tq?"100px":"250px",";overflow-y:auto;padding-right:5px;}"),".crop-shape-item.__jsx-style-dynamic-selector{aspect-ratio:1;background-size:contain;background-position:center;background-repeat:no-repeat;cursor:pointer;-webkit-transition:all 0.2s;transition:all 0.2s;}",".crop-shape-item.__jsx-style-dynamic-selector:hover{border-color:#1677ff;}",".crop-shape-item.active.__jsx-style-dynamic-selector{border:2px solid #1677ff;box-shadow:0 0 0 2px rgba(22,119,255,0.2);}",".skeleton.__jsx-style-dynamic-selector{background:linear-gradient( 90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75% );background-size:200% 100%;-webkit-animation:loading-__jsx-style-dynamic-selector 1.5s infinite;animation:loading-__jsx-style-dynamic-selector 1.5s infinite;}","@-webkit-keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}100%{background-position:-200% 0;}}","@keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}100%{background-position:-200% 0;}}","@media (max-width:768px){.crop-shape-list.__jsx-style-dynamic-selector{grid-template-columns:repeat(6,1fr);}}"]})]})},R=function(e){var t,n=e.visible,r=e.onClose,a=e.onComplete,s=e.imageUrl,c=e.maskShapeImg,l=(0,o.useRef)(null),d=(0,o.useState)(void 0),u=d[0],x=d[1],p=(0,o.useState)(!1),f=p[0],m=p[1],b=(0,o.useState)(c),v=b[0],j=b[1],w=(0,o.useState)(!1),k=w[0],N=w[1],C=function(e){try{var t=new URL(e),n=t.searchParams.get("crop"),r="".concat(t.origin).concat(t.pathname),a=null;if(n){var i=n.split(",").map(Number),o=(0,A.Z)(i,4),s=o[0],c=o[1],l=o[2],d=o[3];a={x:s,y:c,width:l,height:d}}return{originalUrl:r,cropData:a}}catch(t){return console.error("Invalid URL:",t),{originalUrl:e,cropData:null}}};(0,o.useEffect)(function(){var e;if(n&&k&&null!==(e=l.current)&&void 0!==e&&e.cropper){var t=C(s).cropData;t&&l.current.cropper.setData(t)}},[n,s,k]);var S=function(e){var t;x(e),null!==(t=l.current)&&void 0!==t&&t.cropper&&l.current.cropper.setAspectRatio(e||NaN)},E=(t=(0,h.Z)(g().mark(function e(){var t,n,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=l.current)&&void 0!==t&&t.cropper){e.next=3;break}return y.ZP.error("Vui l\xf2ng chọn v\xf9ng cắt cảnh"),e.abrupt("return");case 3:return m(!0),e.prev=4,n=l.current.cropper.getData(!0),r="crop=".concat(n.x,",").concat(n.y,",").concat(n.width,",").concat(n.height),"".concat(r,"&quality=").concat(90),e.next=11,a(r,v);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Error processing image:",e.t0),y.ZP.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh");case 17:return e.prev=17,m(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[4,13,17,20]])})),function(){return t.apply(this,arguments)}),R=C(s).originalUrl;return(0,D.jsxs)(Z.Z,{title:"Cắt ảnh",centered:!0,open:n,closable:!1,styles:{body:{display:"flex",flexDirection:P.tq?"column":"row",gap:"20px",alignItems:"flex-start",maxHeight:"600px",position:"relative"}},onCancel:r,cancelText:"Hủy",okText:"X\xe1c nhận",onOk:E,width:800,okButtonProps:{loading:f,disabled:f},cancelButtonProps:{disabled:f},children:[(0,D.jsx)("div",{className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" crop-container",children:(0,D.jsx)("div",{className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" crop-wrapper",children:(0,D.jsx)(T.f,{ref:l,src:R,style:{width:"100%",height:P.tq?"30vh":"60vh",maxHeight:P.tq?"300px":"600px"},aspectRatio:u,responsive:!0,guides:!0,preview:".img-preview",viewMode:1,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCropArea:.8,ready:function(){N(!0)},rotatable:!1,scalable:!1,zoomable:!1,zoomOnTouch:!1,zoomOnWheel:!1})})}),(0,D.jsxs)("div",{className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" controls-container",children:[(0,D.jsx)(I,{selectedShape:v,onShapeSelect:function(e){j(e)}}),(0,D.jsxs)("div",{className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" control-group",children:[(0,D.jsx)("h4",{className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" control-title",children:"Tỷ lệ khung h\xecnh"}),(0,D.jsxs)("div",{className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" aspect-ratio-group",children:[(0,D.jsx)("button",{onClick:function(){return S(void 0)},className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" "+"aspect-ratio-btn ".concat(void 0===u?"active":""),children:"Tự do"}),(0,D.jsx)("button",{onClick:function(){return S(1)},className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" "+"aspect-ratio-btn ".concat(1===u?"active":""),children:"1:1"}),(0,D.jsx)("button",{onClick:function(){return S(1.5)},className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" "+"aspect-ratio-btn ".concat(1.5===u?"active":""),children:"3:2"}),(0,D.jsx)("button",{onClick:function(){return S(2/3)},className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" "+"aspect-ratio-btn ".concat(u===2/3?"active":""),children:"2:3"}),(0,D.jsx)("button",{onClick:function(){return S(4/3)},className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" "+"aspect-ratio-btn ".concat(u===4/3?"active":""),children:"4:3"}),(0,D.jsx)("button",{onClick:function(){return S(16/9)},className:i().dynamic([["2622923668",[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""]],["2483561221",[P.tq?"100%":"180px"]]])+" "+"aspect-ratio-btn ".concat(u===16/9?"active":""),children:"16:9"})]})]})]}),(0,D.jsx)(i(),{id:"2622923668",dynamic:[v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):""],children:[".cropper-view-box{".concat(v?"-webkit-mask-box-image: url(".concat(O.Z.CDN_URL,"/").concat(v,");"):"",";}"),".cropper-modal{opacity:0.6;}",".cropper-bg{background:none;}"]}),(0,D.jsx)(i(),{id:"2483561221",dynamic:[P.tq?"100%":"180px"],children:[".crop-container.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".controls-container.__jsx-style-dynamic-selector{width:".concat(P.tq?"100%":"180px",";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:24px;}"),".control-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:15px;}",".control-title.__jsx-style-dynamic-selector{font-size:15px;margin:0;color:#666;}",".aspect-ratio-group.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;}",".aspect-ratio-btn.__jsx-style-dynamic-selector{padding:6px 12px;border:1px solid #d9d9d9;background:white;border-radius:6px;cursor:pointer;font-size:14px;-webkit-transition:all 0.2s;transition:all 0.2s;width:100%;text-align:center;}",".aspect-ratio-btn.__jsx-style-dynamic-selector:hover{border-color:#1677ff;color:#1677ff;}",".aspect-ratio-btn.active.__jsx-style-dynamic-selector{background:#1677ff;border-color:#1677ff;color:white;}"]})]})},z=n(4730),B=n(29104),M=["src","alt","width","height","style","className","errorMessage","subMessage"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e){var t=e.src,n=e.alt,r=e.width,a=e.height,i=e.style,s=void 0===i?{}:i,c=e.className,l=e.errorMessage,d=e.subMessage,u=void 0===d?"Vui l\xf2ng cập nhật lại":d,x=(0,z.Z)(e,M),p=(0,o.useState)(!1),f=p[0],h=p[1];if(f)return(0,D.jsxs)("div",{className:c,style:F({width:r,height:a,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",border:"1px dashed #ff4d4f",borderRadius:"6px",color:"#8c8c8c",fontSize:"12px",textAlign:"center",padding:"8px"},s),children:[(0,D.jsx)(S.JO,{icon:"mdi:image-broken-variant",style:{fontSize:r&&r<50?"16px":"24px",marginBottom:"4px",color:"#ff4d4f"}}),(0,D.jsx)("div",{style:{fontWeight:500,fontSize:r&&r<50?"10px":"12px"},children:void 0===l?"Ảnh lỗi hoặc đ\xe3 bị x\xf3a":l}),u&&(0,D.jsx)("div",{style:{fontSize:r&&r<50?"8px":"10px",marginTop:"2px",opacity:.8},children:u})]});var m="".concat(O.Z.CDN_URL,"/").concat((0,C.jN)(t));return(0,D.jsx)(B.Z,F({src:t,alt:n,width:r,height:a,className:c,style:s,preview:!f&&{src:m},onError:function(){h(!0)}},x))},H=function(){var e,t=(0,s.Zo)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,maskShapeImg:e.data.props.maskShapeImg}}),n=t.id,r=t.imgKey,a=t.maskShapeImg,c=t.actions.setProp,l=(0,v.Dk)(),d=l.setActiveKey;l.activeKey;var u=(0,v.Hj)(),x=u.setReplacing,p=u.setReplaceType,f=u.setSelectedNodeId,m=u.isReplacing,A=u.multipleReplace,Z=u.resetReplaceItem,T=(0,D.jsx)(_,{src:(0,C.VM)(r,200),alt:"User Photo Upload",width:120,height:120,style:{height:"100%",objectFit:"contain",objectPosition:"center"},errorMessage:"Ảnh lỗi hoặc đ\xe3 bị x\xf3a",subMessage:"Vui l\xf2ng cập nhật ảnh kh\xe1c"}),E=(0,o.useState)(!1),O=E[0],I=E[1],z=(0,o.useState)(!1);z[0],z[1];var B=(0,N.$)(function(e){return e.triggerRefresh}),M=(e=(0,h.Z)(g().mark(function e(t,n){var a,i,o,s,l,d,u,x,p;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{i="".concat((0,C.jN)(r),"?").concat(t),o=new URLSearchParams(t),l=(s=(null===(a=o.get("crop"))||void 0===a?void 0:a.split(",").map(Number))||[])[2],d=s[3],x=(u=(0,j.M)(b.qp,l,d)).scaleWidth,p=u.scaleHeight,I(!1),c(function(e){e.imgKey=i,e.width=x,e.height=p,e.maskShapeImg=n||null},1e3),y.ZP.success("Cập nhật ảnh th\xe0nh c\xf4ng"),B()}catch(e){y.ZP.error("C\xf3 lỗi xảy ra khi cập nhật ảnh, vui l\xf2ng thử lại sau"),console.error("Error updating cropped image:",e)}case 1:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)});return(0,o.useEffect)(function(){return function(){m&&!A&&(Z(),d(null))}},[m,A]),(0,D.jsxs)("div",{className:"jsx-1693832652 my-4 flex flex-col gap-4 items-center",children:[(0,D.jsx)("div",{className:"jsx-1693832652 flex justify-center items-center",children:(0,D.jsx)(w.Z,{hoverable:!0,bordered:!0,style:{width:140,height:140,padding:10},cover:T})}),(0,D.jsxs)("div",{className:"jsx-1693832652 button-container",children:[(0,D.jsxs)(k.ZP,{color:"primary",type:"primary",size:"small",onClick:function(){return I(!0)},className:"flex items-center gap-2 text-sm",children:[(0,D.jsx)(S.JO,{icon:"solar:crop-minimalistic-broken",className:"w-4 h-4"}),"Cắt ảnh"]}),!P.tq&&(0,D.jsxs)(k.ZP,{color:"primary",type:"primary",size:"small",onClick:function(){x(!0),p("photo"),d(b.Ey.PHOTO),f(n)},className:"flex items-center gap-2 text-sm",children:[(0,D.jsx)(S.JO,{icon:"solar:gallery-wide-bold",className:"w-4 h-4"}),"Đổi ảnh"]})]}),(0,D.jsx)(R,{visible:O,onClose:function(){return I(!1)},onComplete:M,imageUrl:(0,C.eQ)(r),maskShapeImg:a}),(0,D.jsx)(i(),{id:"1693832652",children:[".shape-component.jsx-1693832652{opacity:1;z-index:151;border-radius:0px;background-color:rgb(204,204,204);border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}",".button-container.jsx-1693832652{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:12px;}"]})]})},U=n(72269),K=n(11163),q=function(){var e=(0,K.useRouter)(),t=(0,o.useState)(!1),n=t[0],r=t[1],a=(0,s.Zo)(function(e){return{isReplaceable:e.data.props.isReplaceable||!1}}),i=a.actions.setProp,c=a.isReplaceable;return((0,o.useEffect)(function(){r(e.pathname.includes("admin/templates/edit/")||e.asPath.includes("admin/templates/edit/"))},[e.pathname,e.asPath]),n)?(0,D.jsxs)("div",{className:"flex items-center mb-4",children:[(0,D.jsx)("label",{className:"text-sm font-medium mr-2",children:"Cho ph\xe9p thay thế ảnh:"}),(0,D.jsx)(U.Z,{checked:c,onChange:function(e){i(function(t){t.isReplaceable=e})}})]}):null},W=n(42179),X=n(99101),V=n(57581);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G={top:10,left:10,width:100,height:100,backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},maskShapeImg:null,zIndex:0,locked:!1,transition:W.b},J=function(e){var t=e=Q(Q({},G),e),n=t.top,r=t.left,a=t.height,c=t.width,l=t.opacity,d=t.backgroundColor,u=t.shadow,x=t.padding,p=t.borderRadius,f=t.rotation,h=t.flipX,m=t.flipY,g=t.borderPosition,b=t.borderSize,v=t.borderStyle,j=t.borderColor,y=t.hasShadow,w=t.boxShadow,k=t.imgKey,N=t.maskShapeImg,S=t.zIndex,A=t.locked,Z=t.transition||W.b,T=(0,o.useRef)(null),E=(0,o.useState)([]),O=E[0],P=E[1],I=(0,o.useState)(!1),R=I[0],z=I[1],B=(0,s.Zo)(function(e){return{active:e.events.selected,id:e.id}}),M=B.connectors.connect,L=B.actions.setProp,F=B.active,_=B.id,H=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled;(0,o.useEffect)(function(){if(F&&H){var e=document.querySelector("#root-page-container");e&&P(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==_}))}},[F,H,_]);var U=(0,o.useState)({width:0,height:0,left:0,top:0}),K=U[0],q=U[1],Y=(0,o.useState)(null),J=Y[0],$=Y[1];(0,o.useEffect)(function(){if(F&&H){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();q({width:t.width,height:t.height,left:t.left,top:t.top}),$(e)}}},[F,H]);var ee=function(){switch(g){case"all":return{border:"".concat(b,"px ").concat(v," ").concat(j)};case"top":return{borderTop:"".concat(b,"px ").concat(v," ").concat(j)};case"bottom":return{borderBottom:"".concat(b,"px ").concat(v," ").concat(j)};case"right":return{borderRight:"".concat(b,"px ").concat(v," ").concat(j)};case"left":return{borderLeft:"".concat(b,"px ").concat(v," ").concat(j)};case"top-bottom":return{borderTop:"".concat(b,"px ").concat(v," ").concat(j),borderBottom:"".concat(b,"px ").concat(v," ").concat(j)};case"right-left":return{borderRight:"".concat(b,"px ").concat(v," ").concat(j),borderLeft:"".concat(b,"px ").concat(v," ").concat(j)};case"upper-left":return{borderTop:"".concat(b,"px ").concat(v," ").concat(j),borderLeft:"".concat(b,"px ").concat(v," ").concat(j)};case"upper-right":return{borderTop:"".concat(b,"px ").concat(v," ").concat(j),borderRight:"".concat(b,"px ").concat(v," ").concat(j)};case"lower-left":return{borderBottom:"".concat(b,"px ").concat(v," ").concat(j),borderLeft:"".concat(b,"px ").concat(v," ").concat(j)};case"lower-right":return{borderBottom:"".concat(b,"px ").concat(v," ").concat(j),borderRight:"".concat(b,"px ").concat(v," ").concat(j)};default:return{}}}();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{"data-node-id":_,ref:function(e){e&&(M(e),T.current=e)},style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),width:"".concat(c,"px"),height:"".concat(a,"px"),zIndex:S,cursor:H?"move":"default",transform:"rotate(".concat(f,"deg) scale(").concat(h?-1:1,", ").concat(m?-1:1,")")},className:"jsx-1944329802",children:(0,D.jsx)(V.Z,{transition:Z,targetRef:T,enabled:H,nodeId:_,onTransitionStart:function(){z(!0)},onTransitionEnd:function(){z(!1)},children:(0,D.jsx)("div",{style:Q(Q({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},ee),{},{padding:"".concat(x[0],"px ").concat(x[1],"px ").concat(x[2],"px ").concat(x[3],"px"),backgroundColor:d,textShadow:"0px 0px 2px rgba(0,0,0,".concat((u||0)/100,")"),opacity:l,boxShadow:y?"".concat(w.offsetX,"px ").concat(w.offsetY,"px ").concat(w.blur,"px ").concat(w.spread,"px ").concat(w.color):"none",borderRadius:"".concat(p[0],"px \n              ").concat(p[1],"px \n              ").concat(p[2],"px \n              ").concat(p[3],"px")}),className:"jsx-1944329802",children:(0,D.jsx)("div",{style:{WebkitMaskBoxImageSource:N?"url(".concat((0,C.eQ)(N),")"):"none",WebkitMaskBoxImageSlice:"0 fill",maskImage:N?"url(".concat((0,C.eQ)(N),")"):"none",maskSize:"100% 100%",maskRepeat:"no-repeat"},className:"jsx-1944329802 photo-component",children:(0,D.jsx)("div",{style:{backgroundImage:"url(".concat((0,C.eQ)(k),")"),borderRadius:"".concat(p[0],"px \n                  ").concat(p[1],"px \n                  ").concat(p[2],"px \n                  ").concat(p[3],"px")},className:"jsx-1944329802 photo-bg-wrap"})})})})}),F&&H&&T.current&&!R&&(0,D.jsx)(X.Z,{target:T.current,container:J,otherElements:O,containerBounds:K,currentProps:{top:n,left:r,width:c,height:a,rotation:f,flipX:h,flipY:m,locked:A},onUpdateProps:function(e){L(function(t){Object.assign(t,e)})}}),(0,D.jsx)(i(),{id:"1944329802",children:[".photo-component.jsx-1944329802{width:100%;height:100%;}",".photo-component.jsx-1944329802 img.jsx-1944329802{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".photo-component.jsx-1944329802 .photo-bg-wrap.jsx-1944329802{width:100%;height:100%;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]})]})};J.craft={displayName:"Photo Item",props:G,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,D.jsxs)(o.Fragment,{children:[(0,D.jsx)(H,{}),(0,D.jsx)(q,{}),(0,D.jsxs)(c.Z2,{title:"M\xe0u sắc",children:[(0,D.jsx)(l.R,{isColor:!1,isBackground:!0}),(0,D.jsx)(f.n,{})]}),(0,D.jsxs)(c.Z2,{title:"Khoảng đệm",children:[(0,D.jsx)(d.I,{}),(0,D.jsx)(u.J,{flipable:!0})]}),(0,D.jsx)(c.Z2,{title:"Đường viền",children:(0,D.jsx)(x.j,{})}),(0,D.jsx)(c.Z2,{title:"Đổ b\xf3ng",children:(0,D.jsx)(p.O,{})}),(0,D.jsx)(c.Z2,{title:"Hiệu ứng chuyển động",children:(0,D.jsx)(W.C,{})})]})}}}},47474:function(e,t,n){"use strict";n.d(t,{q:function(){return O}});var r=n(59499),a=n(67294),i=n(67623),o=n(84413),s=n(76975),c=n(99101),l=n(85893),d=function(e){var t=e.fontSize,n=e.fontFamily,r=e.calendarData,a=e.textColor,i=e.themeColor,o=e.calendarType,c=e.selectedDate,d=new Date(c),u=d.getFullYear(),x=d.getMonth()+1,p=r.map(function(e,t){return"empty"===e.type?(0,l.jsx)("div",{className:"empty",children:(0,l.jsx)("div",{})},"empty-".concat(t)):e.isSelected?(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{className:"heart-date",src:"/images/calen_heart_1.png",alt:"heart"}),(0,l.jsx)("div",{className:"colorF",children:e.date})]},e.date):(0,l.jsx)("div",{children:(0,l.jsx)("div",{children:e.date})},e.date)}),f=(0,l.jsxs)("div",{className:"template-one",children:[(0,l.jsx)("div",{className:"one-back"}),(0,l.jsxs)("div",{className:"one-head",style:{backgroundColor:i},children:[x,".",u]}),(0,l.jsxs)("div",{className:"one-body",children:[(0,l.jsx)("div",{className:"body-week",children:"MON"}),(0,l.jsx)("div",{className:"body-week",children:"TUE"}),(0,l.jsx)("div",{className:"body-week",children:"WED"}),(0,l.jsx)("div",{className:"body-week",children:"THU"}),(0,l.jsx)("div",{className:"body-week",children:"FRI"}),(0,l.jsx)("div",{className:"body-week",children:"SAT"}),(0,l.jsx)("div",{className:"body-week",children:"SUN"}),p,(0,l.jsx)("div",{className:"body-year",style:{color:i},children:u})]})]}),h=(0,l.jsxs)("div",{className:"template-two",children:[(0,l.jsx)("div",{className:"two-back"}),(0,l.jsxs)("div",{className:"two-body",style:{border:"2px solid ".concat(i)},children:[(0,l.jsxs)("div",{className:"body-axis",children:[(0,l.jsx)("div",{style:{backgroundColor:i}}),(0,l.jsx)("div",{style:{backgroundColor:i}})]}),(0,l.jsxs)("div",{className:"body-box",children:[(0,l.jsxs)("div",{className:"two-head",style:{color:i},children:[(0,l.jsx)("div",{children:x}),(0,l.jsx)("div",{children:u})]}),(0,l.jsxs)("div",{className:"two-date",children:[(0,l.jsx)("div",{className:"body-week",children:"MON"}),(0,l.jsx)("div",{className:"body-week",children:"TUE"}),(0,l.jsx)("div",{className:"body-week",children:"WED"}),(0,l.jsx)("div",{className:"body-week",children:"THU"}),(0,l.jsx)("div",{className:"body-week",children:"FRI"}),(0,l.jsx)("div",{className:"body-week",children:"SAT"}),(0,l.jsx)("div",{className:"body-week",children:"SUN"}),p,(0,l.jsx)("div",{className:"shadow",style:{backgroundColor:i}})]})]})]})]}),m=(0,l.jsx)("div",{className:"template-three",children:p}),g=o===s.GI.TYPE_ONE?f:o===s.GI.TYPE_TWO?h:m;return(0,l.jsx)("div",{className:"calendar componentBOX",style:{opacity:1,zIndex:154,borderRadius:0,width:"100%",height:"100%",color:a,fontSize:t,fontFamily:n},children:g})},u=n(15720),x=n(99621),p=n(63054),f=n(56084),h=n(35959),m=n(42179),g=n(59353),b=n(81567),v=b.Z.Option,j=[{value:s.GI.NO_STYLE,display:"No Style"},{value:s.GI.TYPE_ONE,display:"Kiểu 1"},{value:s.GI.TYPE_TWO,display:"Kiểu 2"}],y=function(){var e=(0,i.Zo)(function(e){return{calendarType:e.data.props.calendarType}}),t=e.actions.setProp,n=e.calendarType;return(0,l.jsxs)("div",{className:"flex justify-between items-center my-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Style"}),(0,l.jsx)(b.Z,{value:n,style:{width:"75%"},onChange:function(e){t(function(t){t.calendarType=e})},placeholder:"Select a style",children:j.map(function(e){return(0,l.jsx)(v,{value:e.value,children:(0,l.jsx)("span",{children:e.display})},e.value)})})]})},w=n(85970),k=n(76071),N=n(12157),C=n(85253),S=function(){var e=(0,i.Zo)(function(e){return{propValue:{color:e.data.props.color,backgroundColor:e.data.props.backgroundColor,themeColor:e.data.props.themeColor,calendarType:e.data.props.calendarType}}}),t=e.actions.setProp,n=e.propValue,r=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,l.jsxs)("div",{className:"justify-between my-4 flex flex-col gap-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u Chữ"}),(0,l.jsx)(C.Z,{value:"transparent"!==n.color?n.color:"#000000",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.color=r(e.rgba):t.color=e.hex})}})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,l.jsx)(C.Z,{value:"transparent"!==n.backgroundColor?n.backgroundColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=r(e.rgba):t.backgroundColor=e.hex})}})]}),n.calendarType!==s.GI.NO_STYLE&&(0,l.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u giao diện"}),(0,l.jsx)(C.Z,{value:"transparent"!==n.themeColor?n.themeColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.themeColor=r(e.rgba):t.themeColor=e.hex})}})]})]})},A=n(57581);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E={top:10,left:10,width:s.Yx.calendarWidth,height:s.Yx.calendarHeight,backgroundColor:s.QP.calendarBackground,color:s.QP.calendarText,themeColor:s.QP.calendarTheme,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},calendarType:s.GI.TYPE_ONE,fontSize:14,fontFamily:"Arial",selectedDate:new Date,zIndex:0,locked:!1,transition:m.b},O=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],s=n[1],u=e=T(T({},E),e),x=u.top,p=u.left,f=u.height,h=u.width,g=u.opacity,b=u.backgroundColor,v=u.color,j=u.themeColor,y=u.shadow,w=u.padding,k=u.borderRadius,N=u.rotation,C=u.borderPosition,S=u.borderSize,Z=u.borderStyle,O=u.borderColor,P=u.hasShadow,D=u.boxShadow,I=u.calendarType,R=u.fontSize,z=u.fontFamily,B=u.selectedDate,M=u.zIndex,L=u.locked,F=u.transition||m.b,_=(0,i.Zo)(function(e){return{active:e.events.selected,id:e.id}}),H=_.connectors.connect,U=_.actions.setProp,K=_.active,q=_.id,W=(0,i.jE)(function(e){return{enabled:e.options.enabled}}).enabled,X=(0,a.useState)(!1),V=X[0],Y=X[1];(0,a.useEffect)(function(){if(K&&W){var e=document.querySelector("#root-page-container");e&&s(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==q}))}},[K,W,q]);var Q=(0,a.useState)({width:0,height:0,left:0,top:0}),G=Q[0],J=Q[1],$=(0,a.useState)(null),ee=$[0],et=$[1];(0,a.useEffect)(function(){if(K&&W){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();J({width:t.width,height:t.height,left:t.left,top:t.top}),et(e)}}},[K,W]);var en=function(){switch(C){case"all":return{border:"".concat(S,"px ").concat(Z," ").concat(O)};case"top":return{borderTop:"".concat(S,"px ").concat(Z," ").concat(O)};case"bottom":return{borderBottom:"".concat(S,"px ").concat(Z," ").concat(O)};case"right":return{borderRight:"".concat(S,"px ").concat(Z," ").concat(O)};case"left":return{borderLeft:"".concat(S,"px ").concat(Z," ").concat(O)};case"top-bottom":return{borderTop:"".concat(S,"px ").concat(Z," ").concat(O),borderBottom:"".concat(S,"px ").concat(Z," ").concat(O)};case"right-left":return{borderRight:"".concat(S,"px ").concat(Z," ").concat(O),borderLeft:"".concat(S,"px ").concat(Z," ").concat(O)};case"upper-left":return{borderTop:"".concat(S,"px ").concat(Z," ").concat(O),borderLeft:"".concat(S,"px ").concat(Z," ").concat(O)};case"upper-right":return{borderTop:"".concat(S,"px ").concat(Z," ").concat(O),borderRight:"".concat(S,"px ").concat(Z," ").concat(O)};case"lower-left":return{borderBottom:"".concat(S,"px ").concat(Z," ").concat(O),borderLeft:"".concat(S,"px ").concat(Z," ").concat(O)};case"lower-right":return{borderBottom:"".concat(S,"px ").concat(Z," ").concat(O),borderRight:"".concat(S,"px ").concat(Z," ").concat(O)};default:return{}}}(),er=new Date(B),ea=(0,o.s)(er);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{"data-node-id":q,ref:function(e){e&&(H(e),t.current=e)},style:{position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(f,"px"),zIndex:M,cursor:W?"move":"default",transform:"rotate(".concat(N,"deg)")},children:(0,l.jsx)(A.Z,{transition:F,targetRef:t,enabled:W,nodeId:q,onTransitionStart:function(){Y(!0)},onTransitionEnd:function(){Y(!1)},children:(0,l.jsx)("div",{style:T(T({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},en),{},{padding:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px"),backgroundColor:b,textShadow:"0px 0px 2px rgba(0,0,0,".concat((y||0)/100,")"),opacity:g,borderRadius:"".concat(k[0],"px \n              ").concat(k[1],"px \n              ").concat(k[2],"px \n              ").concat(k[3],"px"),boxShadow:P?"".concat(D.offsetX,"px ").concat(D.offsetY,"px ").concat(D.blur,"px ").concat(D.spread,"px ").concat(D.color):"none"}),children:(0,l.jsx)(d,{fontSize:R,fontFamily:z,textColor:v,themeColor:j,calendarData:ea,calendarType:I,selectedDate:B})})})}),K&&W&&t.current&&!V&&(0,l.jsx)(c.Z,{target:t.current,container:ee,otherElements:r,containerBounds:G,currentProps:{top:x,left:p,width:h,height:f,rotation:N,flipX:!1,flipY:!1,locked:L},onUpdateProps:function(e){U(function(t){Object.assign(t,e)})}})]})};O.craft={displayName:"Calendar",props:E,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsxs)(g.Z2,{defaultOpen:!0,title:"T\xf9y chỉnh lịch",children:[(0,l.jsx)(N.v,{}),(0,l.jsx)(y,{}),(0,l.jsx)(S,{}),(0,l.jsx)(w.B,{}),(0,l.jsx)(k.v,{}),(0,l.jsx)(h.n,{})]}),(0,l.jsxs)(g.Z2,{title:"Khoảng đệm",children:[(0,l.jsx)(u.I,{}),(0,l.jsx)(x.J,{})]}),(0,l.jsx)(g.Z2,{title:"Đường viền",children:(0,l.jsx)(p.j,{})}),(0,l.jsx)(g.Z2,{title:"Đổ b\xf3ng",children:(0,l.jsx)(f.O,{})}),(0,l.jsx)(g.Z2,{title:"Hiệu ứng chuyển động",children:(0,l.jsx)(m.C,{})})]})}}}},21583:function(e,t,n){"use strict";n.d(t,{D:function(){return B}});var r=n(59499),a=n(67294),i=n(67623),o=n(76975),s=n(99101),c=n(19848),l=n.n(c),d=n(85893),u=function(e){var t=e.themeColor,n=e.color,r=e.fontSize,i=e.fontFamily,o=e.targetDate,s=e.direction,c=e.spacing,u=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0}),x=u[0],p=u[1];return(0,a.useEffect)(function(){var e=setInterval(function(){var e=new Date,t=new Date(o);if(isNaN(t.getTime())){console.error("Invalid targetDate provided: ",o),p({days:0,hours:0,minutes:0,seconds:0});return}var n=t.getTime()-e.getTime();n>0?p({days:Math.floor(n/864e5),hours:Math.floor(n/36e5%24),minutes:Math.floor(n/6e4%60),seconds:Math.floor(n/1e3%60)}):p({days:0,hours:0,minutes:0,seconds:0})},1e3);return function(){return clearInterval(e)}},[o]),(0,d.jsxs)("div",{style:{color:n,backgroundColor:t,width:"100%",height:"100%",fontSize:r,fontFamily:i,"--spacing":"".concat(void 0===c?20:c,"px")},className:"jsx-3272123691 "+"countdown componentBOX ".concat("vertical"===(void 0===s?"horizontal":s)?"vertical":""),children:[(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.days}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"ng\xe0y"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.hours}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"giờ"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.minutes}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"ph\xfat"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.seconds}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"gi\xe2y"})]}),(0,d.jsx)(l(),{id:"3272123691",children:[".countdown.jsx-3272123691{width:100%;margin:0 auto;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:transparent !important;gap:var(--spacing);}",".countdown.jsx-3272123691>div.jsx-3272123691,.countdown.jsx-3272123691{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".countdown.jsx-3272123691>div.jsx-3272123691{width:25%;border-radius:4px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".countdown.jsx-3272123691>div.jsx-3272123691{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".countdown.vertical.jsx-3272123691{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".countdown.vertical.jsx-3272123691>div.jsx-3272123691{width:100% !important;-webkit-flex-direction:row !important;-ms-flex-direction:row !important;flex-direction:row !important;gap:5px !important;}"]})]})},x=n(15720),p=n(99621),f=n(63054),h=n(56084),m=n(35959),g=n(42179),b=n(59353),v=n(85970),j=n(76071),y=n(12157),w=n(9198),k=n.n(w),N=n(57806);(0,w.registerLocale)("vi",N.vi);var C=function(){var e=(0,i.Zo)(function(e){return{selectedTime:e.data.props.selectedTime||new Date}}),t=e.actions.setProp,n=e.selectedTime,r=(0,a.useState)(new Date(n)),o=r[0],s=r[1];return(0,d.jsxs)("div",{className:"jsx-2933662760 flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"jsx-2933662760 text-sm font-medium w-24",children:"Chọn giờ"}),(0,d.jsx)(k(),{className:"custom-datepicker",selected:o,onChange:function(e){(e instanceof Date||null===e)&&(s(e),t(function(t){t.selectedTime=e}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,showTimeCaption:!1,dateFormat:"HH:mm",timeFormat:"HH:mm"}),(0,d.jsx)(l(),{id:"2933662760",children:[".custom-datepicker{border:1px solid #ccc;border-radius:4px;padding:4px 8px;width:100%;font-size:14px;}",".react-datepicker-popper{width:-webkit-max-content;width:-moz-max-content;width:max-content;}"]})]})},S=n(85253),A=function(){var e=(0,i.Zo)(function(e){return{propValue:{color:e.data.props.color,backgroundColor:e.data.props.backgroundColor,themeColor:e.data.props.themeColor}}}),t=e.actions.setProp,n=e.propValue,r=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,d.jsxs)("div",{className:"justify-between my-4 flex flex-col gap-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u chữ"}),(0,d.jsx)(S.Z,{value:n.color,onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.color=r(e.rgba):t.color=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u khung"}),(0,d.jsx)(S.Z,{value:"transparent"!==n.themeColor?n.themeColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.themeColor=r(e.rgba):t.themeColor=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,d.jsx)(S.Z,{value:"transparent"!==n.backgroundColor?n.backgroundColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=r(e.rgba):t.backgroundColor=e.hex})}})]})]})},Z=n(24435),T=n(86125),E=function(){var e=(0,i.Zo)(function(e){return{spacing:e.data.props.spacing||20}}),t=e.actions.setProp,n=e.spacing,r=function(e){t(function(t){t.spacing=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Khoảng c\xe1ch"}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(Z.Z,{min:1,max:50,step:1,value:n,onChange:r,style:{width:"70px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(T.Z,{min:1,max:50,step:1,value:n,onChange:r})]})},O=function(){var e=(0,i.Zo)(function(e){return{direction:e.data.props.direction}}),t=e.actions.setProp,n=e.direction,r=function(e){t(function(t){if(t.direction!==e){var n=t.width;t.width=t.height,t.height=n}t.direction=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Hướng hiển thị"}),(0,d.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("horizontal"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("horizontal")},children:"Ngang"}),(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("vertical"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("vertical")},children:"Dọc"})]})]})},P=n(84413),D=n(57581);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z={top:10,left:10,width:o.Yx.countdownWidth,height:o.Yx.countdownHeight,backgroundColor:o.QP.countdownBackground,color:o.QP.countdownText,themeColor:o.QP.countdownTheme,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},fontSize:14,fontFamily:"Arial",selectedDate:new Date,selectedTime:new Date,zIndex:0,locked:!1,direction:"horizontal",spacing:20,transition:g.b},B=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],o=n[1],c=e=R(R({},z),e),l=c.top,x=c.left,p=c.height,f=c.width,h=c.opacity,m=c.backgroundColor,b=c.color,v=c.themeColor,j=c.shadow,y=c.padding,w=c.borderRadius,k=c.rotation,N=c.borderPosition,C=c.borderSize,S=c.borderStyle,A=c.borderColor,Z=c.hasShadow,T=c.boxShadow,E=c.fontSize,O=c.fontFamily,I=c.selectedDate,B=c.selectedTime,M=c.zIndex,L=c.locked,F=c.direction,_=c.spacing,H=c.transition,U=(0,i.Zo)(function(e){return{active:e.events.selected,id:e.id}}),K=U.connectors.connect,q=U.actions.setProp,W=U.active,X=U.id,V=(0,i.jE)(function(e){return{enabled:e.options.enabled}}).enabled,Y=H||g.b,Q=(0,a.useState)(!1),G=Q[0],J=Q[1];(0,a.useEffect)(function(){if(W&&V){var e=document.querySelector("#root-page-container");e&&o(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==X}))}},[W,V,X]);var $=(0,a.useState)({width:0,height:0,left:0,top:0}),ee=$[0],et=$[1],en=(0,a.useState)(null),er=en[0],ea=en[1];(0,a.useEffect)(function(){if(W&&V){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();et({width:t.width,height:t.height,left:t.left,top:t.top}),ea(e)}}},[W,V]);var ei=function(){switch(N){case"all":return{border:"".concat(C,"px ").concat(S," ").concat(A)};case"top":return{borderTop:"".concat(C,"px ").concat(S," ").concat(A)};case"bottom":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(A)};case"right":return{borderRight:"".concat(C,"px ").concat(S," ").concat(A)};case"left":return{borderLeft:"".concat(C,"px ").concat(S," ").concat(A)};case"top-bottom":return{borderTop:"".concat(C,"px ").concat(S," ").concat(A),borderBottom:"".concat(C,"px ").concat(S," ").concat(A)};case"right-left":return{borderRight:"".concat(C,"px ").concat(S," ").concat(A),borderLeft:"".concat(C,"px ").concat(S," ").concat(A)};case"upper-left":return{borderTop:"".concat(C,"px ").concat(S," ").concat(A),borderLeft:"".concat(C,"px ").concat(S," ").concat(A)};case"upper-right":return{borderTop:"".concat(C,"px ").concat(S," ").concat(A),borderRight:"".concat(C,"px ").concat(S," ").concat(A)};case"lower-left":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(A),borderLeft:"".concat(C,"px ").concat(S," ").concat(A)};case"lower-right":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(A),borderRight:"".concat(C,"px ").concat(S," ").concat(A)};default:return{}}}(),eo=(0,P.o)(new Date(I),new Date(B));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{"data-node-id":X,ref:function(e){e&&(K(e),t.current=e)},style:{position:"absolute",top:"".concat(l,"px"),left:"".concat(x,"px"),width:"".concat(f,"px"),height:"".concat(p,"px"),zIndex:M,cursor:V?"move":"default",transform:"rotate(".concat(k,"deg)")},children:(0,d.jsx)(D.Z,{transition:Y,targetRef:t,enabled:V,nodeId:X,onTransitionStart:function(){J(!0)},onTransitionEnd:function(){J(!1)},children:(0,d.jsx)("div",{style:R(R({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},ei),{},{padding:"".concat(y[0],"px ").concat(y[1],"px ").concat(y[2],"px ").concat(y[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((j||0)/100,")"),opacity:h,backgroundColor:m,borderRadius:"".concat(w[0],"px \n              ").concat(w[1],"px \n              ").concat(w[2],"px \n              ").concat(w[3],"px"),boxShadow:Z?"".concat(T.offsetX,"px ").concat(T.offsetY,"px ").concat(T.blur,"px ").concat(T.spread,"px ").concat(T.color):"none"}),children:(0,d.jsx)(u,{themeColor:v,color:b,fontSize:E,fontFamily:O,targetDate:new Date(eo),direction:F,spacing:_})})})}),W&&V&&t.current&&!G&&(0,d.jsx)(s.Z,{target:t.current,container:er,otherElements:r,containerBounds:ee,currentProps:{top:l,left:x,width:f,height:p,rotation:k,flipX:!1,flipY:!1,locked:L},onUpdateProps:function(e){q(function(t){Object.assign(t,e)})}})]})};B.craft={displayName:"CountDown",props:z,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)(b.Z2,{defaultOpen:!0,title:"T\xf9y chỉnh lịch",children:[(0,d.jsx)(y.v,{}),(0,d.jsx)(C,{}),(0,d.jsx)(O,{}),(0,d.jsx)(E,{}),(0,d.jsx)(A,{}),(0,d.jsx)(v.B,{}),(0,d.jsx)(j.v,{}),(0,d.jsx)(m.n,{})]}),(0,d.jsxs)(b.Z2,{title:"Khoảng đệm",children:[(0,d.jsx)(x.I,{}),(0,d.jsx)(p.J,{})]}),(0,d.jsx)(b.Z2,{title:"Đường viền",children:(0,d.jsx)(f.j,{})}),(0,d.jsx)(b.Z2,{title:"Đổ b\xf3ng",children:(0,d.jsx)(h.O,{})}),(0,d.jsx)(b.Z2,{title:"Hiệu ứng chuyển động",children:(0,d.jsx)(g.C,{})})]})}}}},88947:function(e,t,n){"use strict";n.d(t,{N:function(){return P}});var r=n(59499),a=n(19848),i=n.n(a),o=n(67294),s=n(67623),c=n(76975),l=n(99101),d=n(50029),u=n(87794),x=n.n(u),p=n(2453),f=n(78045),h=n(49846),m=n(11163),g=n(85893),b=function(e){var t,n,r=e.backgroundColor,a=e.color,i=e.borderColor,c=e.buttonColor,l=e.buttonTextColor,u=e.titleText,b=e.nameLabel,v=e.attendLabel,j=e.submitText,y=e.fontSize,w=e.fontFamily,k=e.borderRadius,N=e.boxShadow,C=e.padding,S=(0,m.useRouter)(),A=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled,Z=(0,o.useState)(""),T=Z[0],E=Z[1],O=(0,o.useState)("yes"),P=O[0],D=O[1],I=(0,o.useState)(!1),R=I[0],z=I[1],B=(0,o.useState)(""),M=B[0],L=B[1],F=(0,o.useState)(!1),_=F[0],H=F[1],U=S.pathname.startsWith("/showcase"),K=(t=(0,d.Z)(x().mark(function e(t){var n,r,a;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("new-blank"===(r=(n=window.location.pathname.split("/"))[n.length-1])||window.location.pathname.includes("/editor/")||U)){e.next=6;break}return console.log("Form submission simulated in editor mode"),e.abrupt("return",{success:!0});case 6:return e.next=8,(0,h.$)(r,t.name,t.willAttend);case 8:if((a=e.sent).success){e.next=11;break}throw Error(a.message||"Failed to submit RSVP");case 11:return e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error submitting form:",e.t0),e.t0;case 18:case"end":return e.stop()}},e,null,[[0,14]])})),function(e){return t.apply(this,arguments)}),q=(n=(0,d.Z)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!A){e.next=3;break}return e.abrupt("return");case 3:if(T.trim()){e.next=6;break}return L("Vui l\xf2ng nhập t\xean của bạn"),e.abrupt("return");case 6:return H(!0),e.prev=7,n={name:T.trim(),willAttend:"yes"===P,pageId:window.location.pathname.split("/").pop()||""},e.next=11,K(n);case 11:z(!0),L("Cảm ơn ".concat(T," đ\xe3 x\xe1c nhận!")),setTimeout(function(){z(!1),L(""),E(""),D("yes")},3e3),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),p.ZP.error("Đ\xe3 xảy ra lỗi khi gửi x\xe1c nhận. Vui l\xf2ng thử lại sau."),L("Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại sau");case 20:return e.prev=20,H(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[7,16,20,23]])})),function(e){return n.apply(this,arguments)});return(0,g.jsxs)("div",{className:"rsvp-form",style:{backgroundColor:r,color:a,boxShadow:N,borderRadius:"".concat(k[0],"px ").concat(k[1],"px ").concat(k[2],"px ").concat(k[3],"px"),padding:"".concat(C[0],"px ").concat(C[1],"px ").concat(C[2],"px ").concat(C[3],"px"),minHeight:"100%",width:"100%",fontSize:"".concat(y,"px"),fontFamily:w,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,g.jsx)("h3",{style:{marginBottom:"16px",color:a,fontWeight:"bold",fontSize:"".concat(y+4,"px"),textAlign:"center"},children:u}),R?(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",padding:"20px",color:"#52c41a"},children:[(0,g.jsxs)("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"none",stroke:"#52c41a",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,g.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,g.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),(0,g.jsx)("p",{style:{marginTop:"16px",fontSize:"".concat(y,"px")},children:M})]}):(0,g.jsxs)("form",{onSubmit:q,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"rsvp-name",style:{display:"block",marginBottom:"6px",fontSize:"".concat(y,"px")},children:b}),(0,g.jsx)("input",{type:"text",name:"rsvp-name",value:T,onChange:function(e){return E(e.target.value)},style:{width:"100%",padding:"4px 8px",borderRadius:"4px",border:"1px solid ".concat(i),fontSize:"".concat(y,"px"),backgroundColor:"white",color:"#333"},placeholder:"Nhập t\xean của bạn",disabled:_})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"".concat(y,"px")},htmlFor:"rsvp-attendance",children:v}),(0,g.jsx)(f.ZP.Group,{name:"rsvp-attendance",onChange:function(e){D(e.target.value)},value:P,style:{width:"100%"},disabled:_,children:(0,g.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,g.jsx)(f.ZP,{value:"yes",style:{fontSize:"".concat(y,"px"),fontFamily:w,whiteSpace:"nowrap",color:a},children:"C\xf3, t\xf4i sẽ tham dự"}),(0,g.jsx)(f.ZP,{value:"no",style:{fontSize:"".concat(y,"px"),fontFamily:w,whiteSpace:"nowrap",color:a},children:"T\xf4i bận, rất tiếc kh\xf4ng thể tham dự"})]})})]}),M&&!R&&(0,g.jsx)("div",{style:{color:"#ff4d4f",marginTop:"-8px",fontSize:"".concat(y-2,"px")},children:M}),(0,g.jsx)("button",{type:"submit",style:{backgroundColor:c,color:l,padding:"6px 12px",borderRadius:"4px",border:"none",fontSize:"".concat(y,"px"),cursor:_?"wait":"pointer",marginTop:"8px",opacity:_?.7:1},disabled:_,children:_?"Đang gửi...":j})]})]})},v=n(93773),j=n(63054),y=n(56084),w=n(35959),k=n(42179),N=n(59353),C=n(85970),S=n(76071),A=n(85253),Z=n(57581);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O={top:10,left:10,width:c.Yx.formWidth,height:c.Yx.formHeight,backgroundColor:"#ffffff",color:"#333333",borderColor:"#e0e0e0",buttonColor:"#ff5757",buttonTextColor:"#ffffff",titleText:"X\xe1c nhận tham dự",nameLabel:"Họ v\xe0 t\xean",attendLabel:"Bạn sẽ tham dự chứ?",submitText:"Gửi x\xe1c nhận",padding:[16,16,16,16],opacity:1,rotation:0,borderRadius:[5,5,5,5],borderPosition:"all",borderSize:1,borderStyle:"solid",hasShadow:!0,boxShadow:{offsetX:0,offsetY:2,blur:10,spread:0,color:"rgba(0, 0, 0, 0.1)"},fontSize:14,fontFamily:"Arial",zIndex:0,locked:!1,transition:k.b},P=function(e){var t=(0,o.useRef)(null),n=(0,o.useState)([]),r=n[0],a=n[1],c=e=E(E({},O),e),d=c.top,u=c.left,x=c.height,p=c.width,f=c.opacity,h=c.backgroundColor,m=c.color,v=c.borderColor,j=c.buttonColor,y=c.buttonTextColor,w=c.titleText,N=c.nameLabel,C=c.attendLabel,S=c.submitText,A=c.padding,T=c.borderRadius,P=c.rotation,D=c.borderPosition,I=c.borderSize,R=c.borderStyle,z=c.hasShadow,B=c.boxShadow,M=c.fontSize,L=c.fontFamily,F=c.zIndex,_=c.locked,H=c.transition,U=(0,s.Zo)(function(e){return{active:e.events.selected,id:e.id}}),K=U.connectors.connect,q=U.actions.setProp,W=U.active,X=U.id,V=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled,Y=H||k.b,Q=(0,o.useState)(!1),G=Q[0],J=Q[1];(0,o.useEffect)(function(){if(W&&V){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==X}))}},[W,V,X]);var $=(0,o.useState)({width:0,height:0,left:0,top:0}),ee=$[0],et=$[1],en=(0,o.useState)(null),er=en[0],ea=en[1];(0,o.useEffect)(function(){if(W&&V){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();et({width:t.width,height:t.height,left:t.left,top:t.top}),ea(e)}}},[W,V]);var ei=function(){switch(D){case"all":return{border:"".concat(I,"px ").concat(R," ").concat(v)};case"top":return{borderTop:"".concat(I,"px ").concat(R," ").concat(v)};case"bottom":return{borderBottom:"".concat(I,"px ").concat(R," ").concat(v)};case"right":return{borderRight:"".concat(I,"px ").concat(R," ").concat(v)};case"left":return{borderLeft:"".concat(I,"px ").concat(R," ").concat(v)};case"top-bottom":return{borderTop:"".concat(I,"px ").concat(R," ").concat(v),borderBottom:"".concat(I,"px ").concat(R," ").concat(v)};case"right-left":return{borderRight:"".concat(I,"px ").concat(R," ").concat(v),borderLeft:"".concat(I,"px ").concat(R," ").concat(v)};case"upper-left":return{borderTop:"".concat(I,"px ").concat(R," ").concat(v),borderLeft:"".concat(I,"px ").concat(R," ").concat(v)};case"upper-right":return{borderTop:"".concat(I,"px ").concat(R," ").concat(v),borderRight:"".concat(I,"px ").concat(R," ").concat(v)};case"lower-left":return{borderBottom:"".concat(I,"px ").concat(R," ").concat(v),borderLeft:"".concat(I,"px ").concat(R," ").concat(v)};case"lower-right":return{borderBottom:"".concat(I,"px ").concat(R," ").concat(v),borderRight:"".concat(I,"px ").concat(R," ").concat(v)};default:return{}}}(),eo=z?"".concat(B.offsetX,"px ").concat(B.offsetY,"px ").concat(B.blur,"px ").concat(B.spread,"px ").concat(B.color):"none";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{ref:function(e){e&&!_&&K(e),t.current=e},style:{width:"".concat(p,"px"),height:"".concat(x,"px"),minHeight:"fit-content",position:"absolute",top:"".concat(d,"px"),left:"".concat(u,"px"),transform:"rotate(".concat(P,"deg)"),cursor:V?"move":"default",zIndex:F},"data-node-id":X,className:"jsx-735565612 rsvp-form-container",children:(0,g.jsx)(Z.Z,{transition:Y,targetRef:t,enabled:V,nodeId:X,onTransitionStart:function(){J(!0)},onTransitionEnd:function(){J(!1)},children:(0,g.jsx)("div",{style:E({width:"100%",height:"100%",position:"relative",borderRadius:"".concat(T[0],"px \n              ").concat(T[1],"px \n              ").concat(T[2],"px \n              ").concat(T[3],"px"),opacity:f},ei),className:"jsx-735565612",children:(0,g.jsx)(b,{backgroundColor:h,color:m,borderColor:v,buttonColor:j,buttonTextColor:y,titleText:w,nameLabel:N,attendLabel:C,submitText:S,fontSize:M,fontFamily:L,borderRadius:T,boxShadow:eo,padding:A})})})}),t.current&&W&&V&&!G&&(0,g.jsx)(l.Z,{target:t.current,container:er,otherElements:r,containerBounds:ee,currentProps:{top:d,left:u,width:p,height:x,rotation:P,flipX:!1,flipY:!1,locked:_},onUpdateProps:function(e){q(function(t){Object.assign(t,e)})}}),(0,g.jsx)(i(),{id:"735565612",children:[".rsvp-form-container:hover{z-index:9999999 !important;}"]})]})};P.craft={displayName:"Biểu mẫu tham dự",props:O,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e=(0,s.Zo)(function(e){return{titleText:e.data.props.titleText,nameLabel:e.data.props.nameLabel,attendLabel:e.data.props.attendLabel,submitText:e.data.props.submitText,buttonColor:e.data.props.buttonColor,buttonTextColor:e.data.props.buttonTextColor,borderColor:e.data.props.borderColor}}),t=e.actions.setProp,n=e.titleText,r=e.nameLabel,a=e.attendLabel,i=e.submitText,c=e.buttonColor,l=e.buttonTextColor,d=e.borderColor,u=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(N.Z2,{defaultOpen:!0,title:"C\xe0i đặt biểu mẫu",children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("div",{className:"text-gray-700 mb-1",children:"Ti\xeau đề biểu mẫu"}),(0,g.jsx)("input",{type:"text",className:"w-full rounded border border-gray-300 p-2",value:n,onChange:function(e){return t(function(t){return t.titleText=e.target.value})},placeholder:"Ti\xeau đề biểu mẫu"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("div",{className:"text-gray-700 mb-1",children:"Nh\xe3n trường t\xean"}),(0,g.jsx)("input",{type:"text",className:"w-full rounded border border-gray-300 p-2",value:r,onChange:function(e){return t(function(t){return t.nameLabel=e.target.value})},placeholder:"Nh\xe3n trường t\xean"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("div",{className:"text-gray-700 mb-1",children:"Nh\xe3n x\xe1c nhận tham dự"}),(0,g.jsx)("input",{type:"text",className:"w-full rounded border border-gray-300 p-2",value:a,onChange:function(e){return t(function(t){return t.attendLabel=e.target.value})},placeholder:"Nh\xe3n x\xe1c nhận tham dự"})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("div",{className:"text-gray-700 mb-1",children:"Nội dung n\xfat gửi"}),(0,g.jsx)("input",{type:"text",className:"w-full rounded border border-gray-300 p-2",value:i,onChange:function(e){return t(function(t){return t.submitText=e.target.value})},placeholder:"Nội dung n\xfat gửi"})]}),(0,g.jsx)("hr",{className:"my-4"}),(0,g.jsxs)("div",{className:"my-4",children:[(0,g.jsx)("div",{className:"text-gray-700 mb-3",children:"M\xe0u sắc biểu mẫu"}),(0,g.jsx)(v.R,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u viền input"}),(0,g.jsx)(A.Z,{value:d,onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.borderColor=u(e.rgba):t.borderColor=e.hex})}})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u n\xfat gửi"}),(0,g.jsx)(A.Z,{value:c,onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.buttonColor=u(e.rgba):t.buttonColor=e.hex})}})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,g.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u chữ n\xfat gửi"}),(0,g.jsx)(A.Z,{value:l,onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.buttonTextColor=u(e.rgba):t.buttonTextColor=e.hex})}})]}),(0,g.jsx)(C.B,{}),(0,g.jsx)(S.v,{}),(0,g.jsx)(w.n,{})]}),(0,g.jsx)(N.Z2,{title:"Đường viền",children:(0,g.jsx)(j.j,{})}),(0,g.jsx)(N.Z2,{title:"Đổ b\xf3ng",children:(0,g.jsx)(y.O,{})}),(0,g.jsx)(N.Z2,{title:"Hiệu ứng chuyển động",children:(0,g.jsx)(k.C,{})})]})}}}},57225:function(e,t,n){"use strict";var r=n(83622),a=n(83062),i=n(35282),o=n(61121),s=n(43504),c=n(85893);t.Z=function(e){var t=e.mapCoordinates,n=e.mapView,l=e.onToggleMapView,d=e.borderRadius,u=e.listingTitle,x=e.listingDescription,p=e.galleryImageUrl;return(0,c.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,c.jsx)(r.ZP,{style:{position:"absolute",top:5,right:5,zIndex:2,padding:"15px 25px",border:"1px solid #ccc"},onClick:function(){l(!n)},children:(0,c.jsx)(a.Z,{title:n?"Di chuyển":"Thao t\xe1c bản đồ",children:n?(0,c.jsx)(o.wI4,{size:24}):(0,c.jsx)(i.rum,{size:24})})}),!n&&(0,c.jsx)("div",{style:{width:"100%",height:"100%",background:"transparent",position:"absolute",zIndex:1}}),(0,c.jsx)(s.Z,{defaultCenter:t,borderRadius:d,listingTitle:u,listingDescription:x,galleryImageUrl:p})]})}},7599:function(e,t,n){"use strict";n.d(t,{u:function(){return O}});var r=n(59499),a=n(19848),i=n.n(a),o=n(67294),s=n(67623),c=n(99101),l=n(85893),d=function(e){var t=e.color,n=e.fontSize,r=e.fontFamily,a=e.phoneNumber,o=e.buttonText,c=e.showIcon,d=e.iconSize,u=e.iconColor,x=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,l.jsxs)("div",{style:{width:"100%",height:"100%"},className:"jsx-1005507239",children:[(0,l.jsxs)("button",{onClick:function(e){!x&&(e.preventDefault(),e.stopPropagation(),a&&(window.location.href="tel:".concat(a)))},style:{color:t,fontSize:"".concat(n,"px"),fontFamily:r,width:"100%",height:"100%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",textDecoration:"none",position:"relative"},className:"jsx-1005507239 phone-button",children:[c&&(0,l.jsx)("svg",{width:d,height:d,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"5px"},className:"jsx-1005507239",children:(0,l.jsx)("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z",stroke:u,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-1005507239"})}),o]}),(0,l.jsx)(i(),{id:"1005507239",children:[".phone-button.jsx-1005507239:hover{opacity:0.9;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".phone-button.jsx-1005507239:active{-webkit-transform:translateY(1px);-ms-transform:translateY(1px);transform:translateY(1px);}"]})]})},u=n(81567),x=n(83622),p=n(72269),f=n(52745),h=n(24969),m=n(93773),g=n(63054),b=n(56084),v=n(35959),j=n(42179),y=n(59353),w=n(85970),k=n(76071),N=n(85253),C=u.Z.Option,S=function(){var e=(0,s.Zo)(function(e){return{iconSize:e.data.props.iconSize}}),t=e.actions.setProp,n=e.iconSize;return(0,l.jsxs)("div",{className:"jsx-1531429221 icon-size-container flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"jsx-1531429221 text-sm font-medium",children:"Icon size"}),(0,l.jsxs)("div",{className:"jsx-1531429221 flex",children:[(0,l.jsx)(x.ZP,{icon:(0,l.jsx)(f.Z,{}),onClick:function(){var e=Math.max(10,n-1);t(function(t){return t.iconSize=e},1e3)},style:{borderRadius:"4px 0 0 4px",width:30,display:"flex",justifyContent:"center",alignItems:"center"}}),(0,l.jsx)(u.Z,{value:n,style:{width:65},className:"icon-size-input",onChange:function(e){t(function(t){return t.iconSize=e},1e3)},children:[12,14,16,18,20,22,24,28,32].map(function(e){return(0,l.jsx)(C,{value:e,children:e},e)})}),(0,l.jsx)(x.ZP,{icon:(0,l.jsx)(h.Z,{}),onClick:function(){var e=n+1;t(function(t){return t.iconSize=e},1e3)},style:{borderRadius:"0 4px 4px 0",width:30,display:"flex",justifyContent:"center",alignItems:"center"}})]}),(0,l.jsx)(i(),{id:"1531429221",children:[".icon-size-input .ant-select-selector{border-radius:0px !important;}",".icon-size-container .ant-btn.ant-btn-icon-only .anticon{font-size:15px;}",".icon-size-container .ant-select-selection-item,.icon-size-container .ant-select-item-option-content{font-size:14px;}"]})]})},A=n(57581);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E={top:10,left:10,width:130,height:40,backgroundColor:"#ff5757",color:"#ffffff",phoneNumber:"",padding:[0,0,0,0],opacity:1,rotation:0,borderRadius:[5,5,5,5],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},fontSize:16,fontFamily:"Arial",buttonText:"Gọi ngay",showIcon:!0,iconSize:16,iconColor:"#ffffff",zIndex:0,locked:!1,transition:j.b},O=function(e){var t=(0,o.useRef)(null),n=(0,o.useState)([]),r=n[0],a=n[1],u=e=T(T({},E),e),x=u.top,p=u.left,f=u.height,h=u.width,m=u.opacity,g=u.backgroundColor,b=u.color,v=u.phoneNumber,y=u.padding,w=u.borderRadius,k=u.rotation,N=u.borderPosition,C=u.borderSize,S=u.borderStyle,Z=u.borderColor,O=u.hasShadow,P=u.boxShadow,D=u.fontSize,I=u.fontFamily,R=u.buttonText,z=u.showIcon,B=u.iconSize,M=u.iconColor,L=u.zIndex,F=u.locked,_=u.transition,H=(0,s.Zo)(function(e){return{active:e.events.selected,id:e.id}}),U=H.connectors.connect,K=H.actions.setProp,q=H.active,W=H.id,X=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled,V=_||j.b,Y=(0,o.useState)(!1),Q=Y[0],G=Y[1];(0,o.useEffect)(function(){if(q&&X){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==W}))}},[q,X,W]);var J=(0,o.useState)({width:0,height:0,left:0,top:0}),$=J[0],ee=J[1],et=(0,o.useState)(null),en=et[0],er=et[1];(0,o.useEffect)(function(){if(q&&X){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ee({width:t.width,height:t.height,left:t.left,top:t.top}),er(e)}}},[q,X]);var ea=function(){switch(N){case"all":return{border:"".concat(C,"px ").concat(S," ").concat(Z)};case"top":return{borderTop:"".concat(C,"px ").concat(S," ").concat(Z)};case"bottom":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(Z)};case"right":return{borderRight:"".concat(C,"px ").concat(S," ").concat(Z)};case"left":return{borderLeft:"".concat(C,"px ").concat(S," ").concat(Z)};case"top-bottom":return{borderTop:"".concat(C,"px ").concat(S," ").concat(Z),borderBottom:"".concat(C,"px ").concat(S," ").concat(Z)};case"right-left":return{borderRight:"".concat(C,"px ").concat(S," ").concat(Z),borderLeft:"".concat(C,"px ").concat(S," ").concat(Z)};case"upper-left":return{borderTop:"".concat(C,"px ").concat(S," ").concat(Z),borderLeft:"".concat(C,"px ").concat(S," ").concat(Z)};case"upper-right":return{borderTop:"".concat(C,"px ").concat(S," ").concat(Z),borderRight:"".concat(C,"px ").concat(S," ").concat(Z)};case"lower-left":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(Z),borderLeft:"".concat(C,"px ").concat(S," ").concat(Z)};case"lower-right":return{borderBottom:"".concat(C,"px ").concat(S," ").concat(Z),borderRight:"".concat(C,"px ").concat(S," ").concat(Z)};default:return{}}}(),ei=O?"".concat(P.offsetX,"px ").concat(P.offsetY,"px ").concat(P.blur,"px ").concat(P.spread,"px ").concat(P.color):"none";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:function(e){e&&!F&&U(e),t.current=e},style:{width:"".concat(h,"px"),height:"".concat(f,"px"),position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),transform:"rotate(".concat(k,"deg)"),zIndex:L,cursor:X?"move":"default"},"data-node-id":W,className:"jsx-2488970344 phone-button-container",children:(0,l.jsx)(A.Z,{transition:V,targetRef:t,enabled:X,nodeId:W,onTransitionStart:function(){G(!0)},onTransitionEnd:function(){G(!1)},children:(0,l.jsx)("div",{style:T({width:"100%",height:"100%",position:"relative",opacity:m,borderRadius:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px"),boxShadow:ei,backgroundColor:g,padding:"".concat(y[0],"px ").concat(y[1],"px ").concat(y[2],"px ").concat(y[3],"px"),display:"flex",justifyContent:"center",alignItems:"center"},ea),className:"jsx-2488970344",children:(0,l.jsx)(d,{color:b,fontSize:D,fontFamily:I,phoneNumber:v,buttonText:R,showIcon:z,iconSize:B,iconColor:M})})})}),t.current&&q&&X&&!Q&&(0,l.jsx)(c.Z,{target:t.current,container:en,otherElements:r,containerBounds:$,currentProps:{top:x,left:p,width:h,height:f,rotation:k,flipX:!1,flipY:!1,locked:F},onUpdateProps:function(e){K(function(t){Object.assign(t,e)})}}),(0,l.jsx)(i(),{id:"2488970344",children:[".phone-button-container:hover{z-index:9999999 !important;}"]})]})};O.craft={displayName:"Phone Button",props:E,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e=(0,s.Zo)(function(e){return{phoneNumber:e.data.props.phoneNumber,buttonText:e.data.props.buttonText,showIcon:e.data.props.showIcon,iconColor:e.data.props.iconColor}}),t=e.actions.setProp,n=e.phoneNumber,r=e.buttonText,a=e.showIcon,i=e.iconColor;return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsxs)(y.Z2,{defaultOpen:!0,title:"Thiết lập n\xfat gọi",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"Số điện thoại"}),(0,l.jsx)("input",{type:"tel",className:"w-full rounded border border-gray-300 p-2",value:n,onChange:function(e){return t(function(t){return t.phoneNumber=e.target.value})},placeholder:"Nhập số điện thoại"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"Nội dung n\xfat"}),(0,l.jsx)("input",{type:"text",className:"w-full rounded border border-gray-300 p-2",value:r,onChange:function(e){return t(function(t){return t.buttonText=e.target.value})},placeholder:"Nội dung n\xfat"})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Hiển thị icon điện thoại"}),(0,l.jsx)(p.Z,{checked:a,onChange:function(e){return t(function(t){return t.showIcon=e})}})]}),a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S,{}),(0,l.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u icon"}),(0,l.jsx)(N.Z,{value:i,onChange:function(e){t(function(t){if(e.rgba&&e.rgba.a<1){var n;t.iconColor=(n=e.rgba)?"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(n.a,")"):""}else t.iconColor=e.hex})}})]})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"M\xe0u sắc n\xfat"}),(0,l.jsx)(m.R,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,l.jsx)(w.B,{}),(0,l.jsx)(k.v,{}),(0,l.jsx)(v.n,{})]}),(0,l.jsx)(y.Z2,{title:"Đường viền",children:(0,l.jsx)(g.j,{})}),(0,l.jsx)(y.Z2,{title:"Đổ b\xf3ng",children:(0,l.jsx)(b.O,{})}),(0,l.jsx)(y.Z2,{title:"Hiệu ứng chuyển động",children:(0,l.jsx)(j.C,{})})]})}}}},96812:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}}),n(67294);var r=n(19848),a=n.n(r),i=n(85893),o=function(e){var t=e.address,n=e.width,r=e.height,o=e.zoom,s=e.borderRadius,c=void 0===s?[0,0,0,0]:s,l=encodeURIComponent(t),d="https://maps.google.com/maps?q=".concat(l,"&t=&z=").concat(void 0===o?14:o,"&ie=UTF8&iwloc=&output=embed");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:void 0===n?"100%":n,height:void 0===r?"100%":r},className:"jsx-1691086756 simple-map-container",children:(0,i.jsx)("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0,borderRadius:"".concat(c[0],"px ").concat(c[1],"px ").concat(c[2],"px ").concat(c[3],"px")},src:d,allowFullScreen:!0,className:"jsx-1691086756"})}),(0,i.jsx)(a(),{id:"1691086756",children:[".simple-map-container.jsx-1691086756{position:relative;overflow:hidden;}"]})]})},s=n(83622),c=n(83062),l=n(35282),d=n(61121),u=function(e){var t=e.address,n=e.borderRadius,r=e.mapView,a=void 0!==r&&r,u=e.onToggleMapView,x=void 0===u?function(){}:u;return(0,i.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,i.jsx)(s.ZP,{style:{position:"absolute",top:5,right:5,zIndex:2,padding:"15px 25px",border:"1px solid #ccc"},onClick:function(){x(!a)},children:(0,i.jsx)(c.Z,{title:a?"Di chuyển":"Thao t\xe1c bản đồ",children:a?(0,i.jsx)(d.wI4,{size:24}):(0,i.jsx)(l.rum,{size:24})})}),!a&&(0,i.jsx)("div",{style:{width:"100%",height:"100%",background:"transparent",position:"absolute",zIndex:1}}),(0,i.jsx)(o,{address:t,borderRadius:void 0===n?[0,0,0,0]:n})]})}},59570:function(e,t,n){"use strict";n.d(t,{o:function(){return q}});var r=n(59499),a=n(67294),i=n(67623),o=n(76975),s=n(99101),c=n(15720),l=n(99621),d=n(63054),u=n(56084),x=n(35959),p=n(42179),f=n(59353),h=n(19259),m=n(32152),g=n(93773),b=n(13721),v=n(85893),j=function(){var e=(0,i.Zo)(function(e){return{listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription}}),t=e.actions,n=e.listingTitle,r=e.listingDescription,a=function(e){t.setProp(function(t){t.listingTitle=e})},o=function(e){t.setProp(function(t){t.listingDescription=e})};return(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(b.__,{htmlFor:"listing-title",className:"text-sm font-medium text-gray-700",children:"Ti\xeau đề"}),(0,v.jsx)(b.oi,{id:"listing-title",placeholder:"Cinelove Wedding",value:n,onChange:function(e){return a(e.target.value)},className:"mt-1"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(b.__,{htmlFor:"listing-description",className:"text-sm font-medium text-gray-700",children:"M\xf4 tả"}),(0,v.jsx)(b.gx,{id:"listing-description",placeholder:"Wishing you a lifetime of love and happiness ♥",rows:2,value:r,onChange:function(e){return o(e.target.value)},className:"mt-1"})]})]})},y=n(50029),w=n(87794),k=n.n(w),N=n(17788),C=n(74330),S=n(32983),A=n(71230),Z=n(15746),T=n(16801),E=n(84249),O=n(49184),P=n(50618),D=n(94184),I=n.n(D),R=function(){var e,t=(0,i.Zo)(function(e){return{galleryImageUrl:e.data.props.galleryImageUrl||"/images/red-background-valentine.webp",listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription}}),n=t.actions,r=t.galleryImageUrl,o=t.listingTitle,s=t.listingDescription,c=(0,a.useState)(!1),l=c[0],d=c[1],u=(0,a.useState)([]),x=u[0],p=u[1],f=(0,a.useState)(!1),h=f[0],m=f[1],g=(0,a.useRef)({});(0,a.useEffect)(function(){l&&j()},[l]);var j=(e=(0,y.Z)(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,(0,O.ZQ)();case 4:p(e.sent),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error loading user photos:",e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[1,8,11,14]])})),function(){return e.apply(this,arguments)}),w=function(){d(!1)},D=function(e){n.setProp(function(t){t.galleryImageUrl=e.url}),w()};return(0,v.jsxs)("div",{className:"space-y-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(b.__,{className:"text-sm font-medium text-gray-700 mb-4 block",children:"T\xf9y chỉnh icon đ\xe1nh dấu"}),(0,v.jsx)("div",{className:"mb-3 mt-3 flex justify-center advanced-marker-wrapper",children:(0,v.jsx)("div",{style:{position:"relative",transformOrigin:"center"},className:I()("real-estate-marker",{clicked:!0}),children:(0,v.jsx)(P.g,{galleryImageUrl:r,listingTitle:o,listingDescription:s,clicked:!0,showCloseButton:!1,className:"preview-pin"})})}),(0,v.jsxs)(b.zx,{type:"button",color:"gray",className:"w-full flex items-center justify-center gap-2",onClick:function(){d(!0)},children:[(0,v.jsx)(T.Z,{}),(0,v.jsx)("span",{className:"text-sm ml-1",children:r?"Thay đổi ảnh":"Chọn ảnh từ thư viện"})]})]}),(0,v.jsx)(N.Z,{title:"Chọn ảnh nền",open:l,onCancel:w,footer:null,width:600,styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:h?(0,v.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,v.jsx)(C.Z,{tip:"Đang tải..."})}):0===x.length?(0,v.jsx)(S.Z,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,v.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,v.jsx)(A.Z,{gutter:[16,16],style:{marginBottom:"16px"},children:x.map(function(e){return(0,v.jsx)(Z.Z,{xs:12,sm:8,md:6,lg:6,xl:6,children:(0,v.jsx)("div",{className:"user-upload-item cursor-pointer",onClick:function(){return D({fileKey:e.fileKey,url:(0,E.VM)(e.fileKey,200)})},children:(0,v.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",transition:"all 0.3s"},className:"hover:shadow-md hover:border-blue-400 hover:scale-[1.02]",children:(0,v.jsx)("img",{src:(0,E.VM)(e.fileKey,200),alt:"User photo ".concat(e.fileId),className:"object-cover w-full h-full",ref:function(t){return g.current[e.fileId]=t}})})})},e.fileId)})})})})]})},z=n(22567),B=n(35710),M=function(){var e=(0,i.Zo)(function(e){return{mapType:e.data.props.mapType}}).mapType,t=(0,i.Zo)().actions,n=function(e){t.setProp(function(t){t.mapType=e,t.isAdvanced="advanced"===e})};return(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Chọn loại bản đồ"}),(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,v.jsxs)("button",{type:"button",className:"h-auto p-3 flex flex-col items-center justify-center rounded-lg border transition-colors duration-200 ".concat("simple"===e?"bg-blue-500 hover:bg-blue-600 text-white border-blue-500":"bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300"),onClick:function(){return n("simple")},children:[(0,v.jsx)(z.JO,{icon:"mdi:map-marker",className:"text-2xl mb-1"}),(0,v.jsx)("span",{className:"text-xs font-medium",children:"Bản đồ cơ bản"})]}),(0,v.jsxs)("button",{type:"button",className:"h-auto p-3 flex flex-col items-center justify-center rounded-lg border transition-colors duration-200 relative ".concat("advanced"===e?"text-white border-pink-400":"bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300"),style:{backgroundColor:"advanced"===e?"#ff5f7a":void 0},onClick:function(){return n("advanced")},children:[(0,v.jsx)(B.Z,{position:"top-right",size:"sm"}),(0,v.jsx)(function(e){var t=e.isSelected,n=void 0!==t&&t;return(0,v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",className:"mb-1",children:(0,v.jsxs)("g",{children:[(0,v.jsx)("path",{d:"m256.198 33.217c-82.553 0-149.475 66.922-149.475 149.475s66.922 149.475 149.475 149.475 149.475-66.922 149.475-149.475-66.922-149.475-149.475-149.475zm0 265.733c-64.208 0-116.258-52.051-116.258-116.258 0-64.208 52.051-116.258 116.258-116.258s116.258 52.051 116.258 116.258-52.05 116.258-116.258 116.258z",fill:n?"#ffffff":"#ffdfdb"}),(0,v.jsx)("path",{d:"m301.508 122.017c-18.107-5.539-34.864.746-45.31 12.695-8.89-10.169-22.349-16.236-37.323-14.404l-7.508 3.482c-17.913 5.479-21.096 19.141-21.095 37.873.002 44.337 48.611 73.238 66.081 83.185l17.215-1.943c22.081-14.556 57.364-43.538 57.366-80.212.002-18.732-11.513-35.197-29.426-40.676z",fill:n?"#ffffff":"#ff5f7a"}),(0,v.jsx)("path",{d:"m259.628.58c-102.468-1.879-176.541 80.073-176.541 182.112 0 155.688 144.717 289.751 175.493 318.12l14.663-1.878c42.286-41.292 149.646-157.693 164.042-287.629 11.738-105.949-63.298-203.418-168.139-210.85-3.146-.223-6.32.183-9.518.125zm-3.43 314.979c-73.38 0-132.867-59.487-132.867-132.867s59.487-132.867 132.867-132.867 132.867 59.486 132.867 132.867c0 73.38-59.487 132.867-132.867 132.867z",fill:n?"#ffffff":"#ff5f7a"}),(0,v.jsxs)("g",{fill:n?"#ffffff":"#fb4455",children:[(0,v.jsx)("path",{d:"m98.815 182.692c0-96.715 75.238-175.84 170.332-182.237-3.126-.22-6.341-.365-9.518-.423-102.469-1.879-186.123 80.621-186.123 182.66 0 155.688 146.276 298.712 177.052 327.081 3.188 2.939 8.041 2.984 11.23.047 2.865-2.641 6.782-6.323 11.455-10.885-35.355-34.523-174.428-177.009-174.428-316.243z"}),(0,v.jsx)("path",{d:"m205.02 152.017c-.001-12.407 5.239-23.824 13.855-31.709-2.592.322-5.321.893-7.987 1.708-17.913 5.48-29.429 21.944-29.427 40.677.003 44.337 51.558 77.448 69.028 87.396 3.565 2.03 7.854 2.03 11.418 0 3.008-1.713 7.071-4.158 11.662-7.183-22.34-14.511-68.547-51.291-68.549-90.889z"})]})]})})},{isSelected:"advanced"===e}),(0,v.jsx)("span",{className:"text-xs font-medium",children:"Bản đồ n\xe2ng cao"})]})]}),(0,v.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"simple"===e?(0,v.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,v.jsx)(z.JO,{icon:"mdi:information",className:"text-blue-500 mt-0.5 flex-shrink-0"}),(0,v.jsx)("span",{children:"Bản đồ đơn giản sử dụng iframe nh\xfang từ Google Maps"})]}):(0,v.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,v.jsx)(z.JO,{icon:"mdi:information",className:"mt-0.5 flex-shrink-0",style:{color:"#ff5f7a"}}),(0,v.jsx)("span",{children:"Bản đồ n\xe2ng cao được t\xf9y chỉnh hiển thị điểm đ\xe1nh dấu với h\xecnh ảnh v\xe0 icon tr\xe1i tim."})]})})]})},L=n(57225),F=n(96812),_=n(57581);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K={top:10,left:10,width:o.Yx.mapWidth,height:o.Yx.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},mapType:"simple",mapCoordinates:o.he,address:"52 Miếu Đầm, Mễ Tr\xec, Nam Từ Li\xeam, H\xe0 Nội",backgroundColor:"transparent",listingTitle:"Cinelove Wedding",listingDescription:"Wishing you a lifetime of love and happiness ♥",galleryImageUrl:"/images/red-background-valentine.webp",zIndex:0,locked:!1,transition:p.b},q=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],o=n[1],c=(0,a.useState)(!1),l=c[0],d=c[1],u=e=U(U({},K),e),x=u.top,f=u.left,h=u.height,m=u.width,g=u.opacity,b=(u.shadow,u.padding),j=u.borderRadius,y=u.rotation,w=u.borderPosition,k=u.borderSize,N=u.borderStyle,C=u.borderColor,S=u.hasShadow,A=u.boxShadow,Z=u.mapType,T=u.mapCoordinates,E=u.address,O=u.backgroundColor,P=u.listingTitle,D=u.listingDescription,I=u.galleryImageUrl,R=u.zIndex,z=u.locked,B=u.transition,M=function(){switch(w){case"all":return{border:"".concat(k,"px ").concat(N," ").concat(C)};case"top":return{borderTop:"".concat(k,"px ").concat(N," ").concat(C)};case"bottom":return{borderBottom:"".concat(k,"px ").concat(N," ").concat(C)};case"right":return{borderRight:"".concat(k,"px ").concat(N," ").concat(C)};case"left":return{borderLeft:"".concat(k,"px ").concat(N," ").concat(C)};case"top-bottom":return{borderTop:"".concat(k,"px ").concat(N," ").concat(C),borderBottom:"".concat(k,"px ").concat(N," ").concat(C)};case"right-left":return{borderRight:"".concat(k,"px ").concat(N," ").concat(C),borderLeft:"".concat(k,"px ").concat(N," ").concat(C)};case"upper-left":return{borderTop:"".concat(k,"px ").concat(N," ").concat(C),borderLeft:"".concat(k,"px ").concat(N," ").concat(C)};case"upper-right":return{borderTop:"".concat(k,"px ").concat(N," ").concat(C),borderRight:"".concat(k,"px ").concat(N," ").concat(C)};case"lower-left":return{borderBottom:"".concat(k,"px ").concat(N," ").concat(C),borderLeft:"".concat(k,"px ").concat(N," ").concat(C)};case"lower-right":return{borderBottom:"".concat(k,"px ").concat(N," ").concat(C),borderRight:"".concat(k,"px ").concat(N," ").concat(C)};default:return{}}}(),H=(0,i.Zo)(function(e){return{active:e.events.selected,id:e.id}}),q=H.connectors.connect,W=H.actions.setProp,X=H.active,V=H.id,Y=(0,i.jE)(function(e){return{enabled:e.options.enabled}}).enabled,Q=B||p.b,G=(0,a.useState)(!1),J=G[0],$=G[1];(0,a.useEffect)(function(){if(X&&Y){var e=document.querySelector("#root-page-container");e&&o(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==V}))}},[X,Y,V]);var ee=(0,a.useState)({width:0,height:0,left:0,top:0}),et=ee[0],en=ee[1],er=(0,a.useState)(null),ea=er[0],ei=er[1];return(0,a.useEffect)(function(){if(X&&Y){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();en({width:t.width,height:t.height,left:t.left,top:t.top}),ei(e)}}},[X,Y]),(0,a.useEffect)(function(){if(t.current){var e;o(Array.from((null===(e=t.current.parentElement)||void 0===e?void 0:e.children)||[]).filter(function(e){return e!==t.current}))}},[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{ref:function(e){e&&(q(e),t.current=e)},style:{position:"absolute",top:"".concat(x,"px"),left:"".concat(f,"px"),width:"".concat(m,"px"),height:"".concat(h,"px"),transform:"rotate(".concat(y,"deg)"),zIndex:R},className:"relative",children:(0,v.jsx)(_.Z,{transition:Q,targetRef:t,enabled:Y,nodeId:V,onTransitionStart:function(){$(!0)},onTransitionEnd:function(){$(!1)},children:(0,v.jsx)("div",{style:U(U({position:"relative",width:"100%",height:"100%",opacity:g,padding:"".concat(b[0],"px ").concat(b[1],"px ").concat(b[2],"px ").concat(b[3],"px"),borderRadius:"".concat(j[0],"px ").concat(j[1],"px ").concat(j[2],"px ").concat(j[3],"px")},M),{},{boxShadow:S?"".concat(A.offsetX,"px ").concat(A.offsetY,"px ").concat(A.blur,"px ").concat(A.spread,"px ").concat(A.color):"none",backgroundColor:O}),children:"advanced"===Z?(0,v.jsx)(L.Z,{mapCoordinates:T,borderRadius:j,mapView:l,onToggleMapView:function(e){return d(e)},listingTitle:P,listingDescription:D,galleryImageUrl:I},T.lat):(0,v.jsx)(F.Z,{address:E,borderRadius:j,mapView:l,onToggleMapView:function(e){return d(e)}})})})}),X&&Y&&t.current&&!l&&!J&&(0,v.jsx)(s.Z,{target:t.current,container:ea,otherElements:r,containerBounds:et,currentProps:{top:x,left:f,width:m,height:h,rotation:y,flipX:!1,flipY:!1,locked:z},onUpdateProps:function(e){W(function(t){Object.assign(t,e)})}})]})};q.craft={displayName:"Bản đồ n\xe2ng cao",props:K,related:{toolbar:function(){var e=(0,i.Zo)(function(e){return{mapType:e.data.props.mapType}}).mapType;return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(f.Z2,{defaultOpen:!0,title:"Loại bản đồ",children:(0,v.jsx)(M,{})}),(0,v.jsx)(f.Z2,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:"advanced"===e?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(h.$,{}),(0,v.jsx)(R,{}),(0,v.jsx)(j,{})]}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(m.B,{})})}),(0,v.jsxs)(f.Z2,{title:"M\xe0u sắc",children:[(0,v.jsx)(g.R,{isColor:!1,isBackground:!0}),(0,v.jsx)(x.n,{})]}),(0,v.jsxs)(f.Z2,{title:"Khoảng đệm",children:[(0,v.jsx)(c.I,{}),(0,v.jsx)(l.J,{})]}),(0,v.jsx)(f.Z2,{title:"Đường viền",children:(0,v.jsx)(d.j,{})}),(0,v.jsx)(f.Z2,{title:"Đổ b\xf3ng",children:(0,v.jsx)(u.O,{})}),(0,v.jsx)(f.Z2,{title:"Hiệu ứng chuyển động",children:(0,v.jsx)(p.C,{})})]})}},rules:{canDrag:!0,canResize:!0,canDelete:!0,canMoveIn:!1}}},36282:function(e,t,n){"use strict";n.d(t,{z:function(){return W}});var r=n(59499),a=n(19848),i=n.n(a),o=n(67623),s=n(67294),c=n(61512),l=n.n(c),d=n(59353),u=n(85970),x=n(27812),p=n(86125),f=n(24435),h=n(83622),m=n(55241),g=n(30080),b=n(85893),v=function(){var e=(0,o.Zo)(function(e){return{propValue:{fontWeight:e.data.props.fontWeight,fontStyle:e.data.props.fontStyle,textDecoration:e.data.props.textDecoration,textTransform:e.data.props.textTransform,letterSpacing:e.data.props.letterSpacing||0,lineHeight:e.data.props.lineHeight||1}}}),t=e.actions.setProp,n=e.propValue,r=function(e,n){t(function(t){if("fontWeight"===e&&(t.fontWeight=t.fontWeight===n?"normal":n),"fontStyle"===e&&(t.fontStyle=t.fontStyle===n?"normal":n),"textDecoration"===e){var r=t.textDecoration?t.textDecoration.split(" "):[];r.includes(n)?(t.textDecoration=r.filter(function(e){return e!==n}).join(" "),""===t.textDecoration&&(t.textDecoration="none")):r.includes("none")?t.textDecoration=r.filter(function(e){return"none"!==e}).concat(n).join(" "):t.textDecoration=[].concat((0,x.Z)(r),[n]).join(" ")}"textTransform"===e&&(t.textTransform="uppercase"===t.textTransform?"none":"uppercase")})},a=function(e){var t;return null===(t=n.textDecoration)||void 0===t?void 0:t.split(" ").includes(e)},s=function(e){t(function(t){t.letterSpacing=e},500)},c=function(e){t(function(t){t.lineHeight=e},500)},l=(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-1",children:"Gi\xe3n c\xe1ch chữ"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(p.Z,{min:0,max:100,step:1,style:{flex:1},value:n.letterSpacing,onChange:s}),(0,b.jsx)(f.Z,{min:0,max:100,step:1,value:n.letterSpacing,onChange:s,style:{marginLeft:"10px",width:"70px"}})]})]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("label",{className:"text-sm font-medium mb-1",children:"Khoảng c\xe1ch d\xf2ng"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(p.Z,{min:.5,max:2.5,step:.01,style:{flex:1},value:"normal"===n.lineHeight?1.2:n.lineHeight,onChange:c}),(0,b.jsx)(f.Z,{min:.5,max:2.5,step:.01,value:"normal"===n.lineHeight?1.2:n.lineHeight,onChange:c,style:{marginLeft:"10px",width:"70px"}})]})]})]});return(0,b.jsxs)("div",{className:"jsx-3457556350 text-style-setting flex space-x-1 justify-center items-center mb-4",children:[(0,b.jsx)(h.ZP,{onClick:function(){return r("fontWeight","bold")},style:{fontWeight:"bold",border:"none",backgroundColor:"bold"===n.fontWeight?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"B"}),(0,b.jsx)(h.ZP,{onClick:function(){return r("fontStyle","italic")},style:{fontStyle:"italic",border:"none",backgroundColor:"italic"===n.fontStyle?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"I"}),(0,b.jsx)(h.ZP,{onClick:function(){return r("textDecoration","line-through")},style:{textDecoration:"line-through",border:"none",backgroundColor:a("line-through")?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"S"}),(0,b.jsx)(h.ZP,{onClick:function(){return r("textDecoration","underline")},style:{textDecoration:"underline",border:"none",backgroundColor:a("underline")?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"U"}),(0,b.jsx)(h.ZP,{onClick:function(){return r("textTransform","uppercase")},style:{border:"none",backgroundColor:"uppercase"===n.textTransform?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"Aa"}),(0,b.jsx)(m.Z,{content:l,trigger:"click",placement:"bottom",styles:{root:{width:250}},children:(0,b.jsx)(h.ZP,{style:{border:"none",backgroundColor:"transparent",fontSize:"18px",width:35,padding:10},icon:(0,b.jsx)(g.sCN,{size:22})})}),(0,b.jsx)(i(),{id:"3457556350",children:['.text-style-setting button{font-family:"Times New Roman",Times,serif;}']})]})},j=n(76071),y=n(93773),w=function(){var e=(0,o.Zo)(function(e){return{propValue:e.data.props.textAlign||"left"}}),t=e.actions.setProp,n=e.propValue,r=function(e){t(function(t){t.textAlign=e})};return(0,b.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Căn chỉnh"}),(0,b.jsxs)(h.ZP.Group,{children:[(0,b.jsx)(h.ZP,{type:"left"===n?"primary":"default",onClick:function(){return r("left")},icon:(0,b.jsx)(g.eq2,{})}),(0,b.jsx)(h.ZP,{type:"center"===n?"primary":"default",onClick:function(){return r("center")},icon:(0,b.jsx)(g.wWG,{})}),(0,b.jsx)(h.ZP,{type:"right"===n?"primary":"default",onClick:function(){return r("right")},icon:(0,b.jsx)(g.rmK,{})}),(0,b.jsx)(h.ZP,{type:"justify"===n?"primary":"default",onClick:function(){return r("justify")},icon:(0,b.jsx)(g.RRJ,{})})]})]})},k=n(15720),N=n(99621),C=n(63054),S=n(56084),A=n(35959),Z=n(42179),T=n(85518),E=n(25593),O=n(13721),P=E.Z.Text,D=function(){var e=(0,o.Zo)(function(e){return{text:e.data.props.text||""}}),t=e.actions.setProp,n=e.text,r=(0,s.useState)(0),a=r[0],i=r[1],c=(0,s.useState)(""),l=c[0],d=c[1];(0,s.useEffect)(function(){var e=document.createElement("div");e.innerHTML=n,i((e.textContent||"").length),d(n)},[n]);var u=function(e){if(e.length<=1e3){var n=e.replace(/\n/g,"<br>").replace(/\r/g,"");t(function(e){e.text=n}),d(e),i(e.length)}};return(0,b.jsxs)("div",{className:"space-y-2 px-1 py-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(O.__,{htmlFor:"text-content",value:"Nội dung văn bản",className:"text-sm font-medium text-gray-700"}),(0,b.jsxs)(P,{className:"text-xs text-gray-500",children:[a,"/",1e3]})]}),(0,b.jsx)(O.gx,{id:"text-content",value:l.replace(/<br>/g,"\n"),onChange:function(e){return u(e.target.value)},placeholder:"Nhập nội dung văn bản của bạn...",rows:4,maxLength:1e3,className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 resize-none",helperText:(0,b.jsx)(P,{className:"text-xs text-gray-500 mt-1",children:"Nhấn Enter để xuống d\xf2ng"})})]})},I=n(2453),R=n(38289),z=n(83062),B=n(29158),M=n(48689),L=n(58638),F=n(33299),_=function(){var e,t=(0,F.useSession)().data,n=(0,o.Zo)(function(e){return{hyperlink:e.data.props.hyperlink||""}}),r=n.actions.setProp,a=n.hyperlink,i=(0,s.useState)(a),c=i[0],l=i[1],d=(0,s.useState)(!0),u=d[0],x=d[1];(0,s.useEffect)(function(){l(a)},[a]);var p=function(e){if(!e.trim())return!0;try{var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}},f=(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.plan)==="free",m=!c.trim(),g=c!==a;return(0,b.jsxs)("div",{className:"space-y-3",children:[f&&(0,b.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,b.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,b.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng n\xe2ng cao:"})," Th\xeam hyperlink chỉ d\xe0nh cho g\xf3i Basic trở l\xean.",(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=hyperlink-setting","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.Z,{className:"text-blue-500"}),(0,b.jsx)("label",{className:"text-sm font-medium ".concat(f?"text-gray-500":""),children:"Hyperlink (T\xf9y chọn)"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Z,{placeholder:"https://example.com",value:c,onChange:function(e){if(!f){var t=e.target.value;l(t),x(p(t))}},status:u?"":"error",prefix:(0,b.jsx)(B.Z,{}),disabled:f,suffix:!m&&!f&&(0,b.jsx)(z.Z,{title:"X\xf3a link",children:(0,b.jsx)(h.ZP,{type:"text",size:"small",icon:(0,b.jsx)(M.Z,{}),onClick:function(){f||(l(""),x(!0),r(function(e){e.hyperlink=""}),I.ZP.success("Đ\xe3 x\xf3a hyperlink"))},className:"text-red-500 hover:text-red-700"})})}),!u&&(0,b.jsx)("div",{className:"text-xs text-red-500",children:"URL kh\xf4ng hợp lệ. Vui l\xf2ng nhập URL bắt đầu bằng http:// hoặc https://"}),u&&c.trim()&&(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Link sẽ mở trong tab mới khi click"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[g&&!f&&(0,b.jsx)(h.ZP,{type:"primary",size:"small",onClick:function(){if(f){I.ZP.warning("T\xednh năng hyperlink chỉ d\xe0nh cho g\xf3i Basic trở l\xean");return}if(!u){I.ZP.error("Vui l\xf2ng nhập URL hợp lệ (bắt đầu bằng http:// hoặc https://)");return}r(function(e){e.hyperlink=c.trim()}),I.ZP.success("Đ\xe3 cập nhật hyperlink")},disabled:!u,children:"Lưu"}),a&&u&&!f&&(0,b.jsx)(h.ZP,{type:"default",size:"small",icon:(0,b.jsx)(L.Z,{}),onClick:function(){a&&u&&window.open(a,"_blank")},children:"Kiểm tra"})]})]})},H=n(26294),U=n(99101),K=n(57581);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var W=function(e){var t,n=e.fontSize,a=e.textAlign,c=e.fontWeight,d=e.color,u=e.backgroundColor,x=e.shadow,p=e.text,f=e.padding,h=e.top,m=e.left,g=e.width,v=e.fontFamily,j=e.letterSpacing,y=e.lineHeight,w=e.opacity,k=e.textTransform,N=e.textDecoration,C=e.fontStyle,S=e.borderRadius,A=e.rotation,T=e.borderPosition,E=e.borderSize,O=e.borderStyle,P=e.borderColor,D=e.hasShadow,I=e.boxShadow,R=e.zIndex,z=e.locked,B=e.transition,M=void 0===B?Z.b:B,L=e.hyperlink,F=(0,o.Zo)(function(e){return{active:e.events.selected,id:e.id}}),_=F.connectors.connect,W=F.actions.setProp,X=F.id,V=F.active,Y=(0,o.jE)(function(e){return{enabled:e.options.enabled}}).enabled,Q=M||Z.b,G=(0,s.useRef)(null),J=(0,s.useState)([]),$=J[0],ee=J[1],et=(0,s.useState)({width:0,height:0,left:0,top:0}),en=et[0],er=et[1],ea=(0,s.useState)(null),ei=ea[0],eo=ea[1],es=(0,s.useState)(!1),ec=es[0],el=es[1];(0,s.useEffect)(function(){v&&"Arial"!==v&&(0,H.af)(v)},[v]),(0,s.useEffect)(function(){if(V&&Y){var e=document.querySelector("#root-page-container");e&&ee(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==X}))}},[V,Y,X]),(0,s.useEffect)(function(){if(V&&Y){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();er({width:t.width,height:t.height,left:t.left,top:t.top}),eo(e)}}},[V,Y]);var ed=(0,s.useRef)(!1),eu=(0,s.useState)(!1),ex=(eu[0],eu[1]),ep=(0,s.useState)(!1),ef=ep[0],eh=ep[1];(0,s.useRef)(null);var em=function(e){!Y&&L&&L.trim()&&(e.preventDefault(),e.stopPropagation(),window.open(L,"_blank"))};(0,s.useEffect)(function(){!1===V&&(ed.current=!1,ex(!1),eh(!1))},[V]);var eg=g||en.width,eb=(0,s.useState)(!!g),ev=eb[0],ej=eb[1],ey=(0,s.useRef)(null);(0,s.useEffect)(function(){if(!ev&&ey.current&&V){var e=ey.current.scrollWidth;Math.abs((g||0)-e)>10&&ew({width:e})}},[p,n,v,f,V]);var ew=function(e){e.width&&ej(!0),W(function(t){Object.assign(t,e)})},ek=function(){switch(T){case"all":return{border:"".concat(E,"px ").concat(O," ").concat(P)};case"top":return{borderTop:"".concat(E,"px ").concat(O," ").concat(P)};case"bottom":return{borderBottom:"".concat(E,"px ").concat(O," ").concat(P)};case"right":return{borderRight:"".concat(E,"px ").concat(O," ").concat(P)};case"left":return{borderLeft:"".concat(E,"px ").concat(O," ").concat(P)};case"top-bottom":return{borderTop:"".concat(E,"px ").concat(O," ").concat(P),borderBottom:"".concat(E,"px ").concat(O," ").concat(P)};case"right-left":return{borderRight:"".concat(E,"px ").concat(O," ").concat(P),borderLeft:"".concat(E,"px ").concat(O," ").concat(P)};case"upper-left":return{borderTop:"".concat(E,"px ").concat(O," ").concat(P),borderLeft:"".concat(E,"px ").concat(O," ").concat(P)};case"upper-right":return{borderTop:"".concat(E,"px ").concat(O," ").concat(P),borderRight:"".concat(E,"px ").concat(O," ").concat(P)};case"lower-left":return{borderBottom:"".concat(E,"px ").concat(O," ").concat(P),borderLeft:"".concat(E,"px ").concat(O," ").concat(P)};case"lower-right":return{borderBottom:"".concat(E,"px ").concat(O," ").concat(P),borderRight:"".concat(E,"px ").concat(O," ").concat(P)};default:return{}}}(),eN=v?(0,H.Rd)(v):"Arial";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{"data-node-id":X,ref:function(e){e&&(_(e),G.current=e)},style:{position:"absolute",top:"".concat(h,"px"),left:"".concat(m,"px"),width:"".concat(g||eg,"px"),height:"auto",zIndex:R,cursor:Y?ef?"text":"move":L&&L.trim()?"pointer":"default",transform:"rotate(".concat(A,"deg)")},onDoubleClick:function(e){Y&&(e.stopPropagation(),eh(!0),ex(!0),ed.current=!0,setTimeout(function(){if(ey.current){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(ey.current),null==e||e.removeAllRanges(),null==e||e.addRange(t)}},10))},onClick:em,onTouchEnd:em,className:i().dynamic([["794344833",[E||0,E||0]]])+" "+"text-box-component ".concat(ef?"text-box-editing":""),children:(0,b.jsx)(K.Z,{transition:Q,targetRef:G,enabled:Y,nodeId:X,onTransitionStart:function(){el(!0)},onTransitionEnd:function(){el(!1)},children:(0,b.jsx)("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({position:"relative",width:"100%",height:"100%",padding:"".concat(f[0],"px ").concat(f[1],"px ").concat(f[2],"px ").concat(f[3],"px"),borderRadius:"".concat(S[0],"px \n            ").concat(S[1],"px \n            ").concat(S[2],"px \n            ").concat(S[3],"px"),boxShadow:D?"".concat(I.offsetX,"px ").concat(I.offsetY,"px ").concat(I.blur,"px ").concat(I.spread,"px ").concat(I.color):"none",backgroundColor:u,display:"flex",alignItems:"center",justifyContent:"center"===a?"center":"right"===a?"flex-end":"flex-start",boxSizing:"border-box",opacity:w},ek),className:i().dynamic([["794344833",[E||0,E||0]]]),children:(0,b.jsx)(l(),{html:p,disabled:!Y||!ef,onFocus:function(){ef&&ex(!0)},onBlur:function(){ed.current=!1,eh(!1)},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=document.createElement("div");n.innerHTML=t;var r=n.textContent||n.innerText||"";W(function(e){return e.text=r},500)},onChange:function(e){W(function(t){return t.text=e.target.value},500)},tagName:"div",innerRef:ey,style:{height:"auto",width:"100%",minWidth:20,color:d,fontSize:"".concat(n,"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((x||0)/100,")"),fontWeight:c,fontFamily:eN,textAlign:a,lineHeight:y,letterSpacing:"".concat(j,"px"),textTransform:k,textDecoration:N,fontStyle:C,pointerEvents:ef?"auto":"none",overflow:"hidden",wordBreak:"break-word"}})})})}),V&&Y&&G.current&&!ef&&!ec&&(0,b.jsx)(U.Z,{target:G.current,container:ei,otherElements:$,containerBounds:en,currentProps:{top:h,left:m,width:g||eg,height:null===(t=ey.current)||void 0===t?void 0:t.scrollHeight,rotation:A,flipX:!1,flipY:!1,locked:z},onUpdateProps:ew,resizeDirections:["w","e"],keepRatio:!1}),(0,b.jsx)(i(),{id:"794344833",dynamic:[E||0,E||0],children:[".text-box-component.__jsx-style-dynamic-selector{height:auto !important;position:relative;}",'.text-box-editing.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px solid var(--color-primary);position:absolute;pointer-events:none;display:block;inset:-'.concat(E||0,"px;z-index:1;}"),'.text-box-component.component-hovered.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px dashed var(--color-primary);position:absolute;pointer-events:none;inset:-'.concat(E||0,"px;display:block;}")]})]})};W.craft={displayName:"Text Box",props:{fontSize:26,textAlign:"center",fontWeight:"500",fontFamily:"Arial",lineHeight:"normal",letterSpacing:"0",textTransform:"none",textDecoration:"none",color:"#000000",backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,text:"Text",top:10,left:10,width:200,height:50,fontStyle:"normal",borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,locked:!1,hyperlink:""},related:{toolbar:function(){var e=T.tq||T.Em;return(0,b.jsxs)(s.Fragment,{children:[e&&(0,b.jsx)(D,{}),!e&&(0,b.jsx)("div",{className:"text-sm text-gray-600 mb-2 italic",children:"K\xedch đ\xfap v\xe0o văn bản để chỉnh sửa"}),(0,b.jsxs)(d.Z2,{defaultOpen:!0,title:"Kiểu chữ",props:["fontSize","fontWeight","textAlign","fontFamily","lineHeight","letterSpacing","textTransform","textDecoration","fontStyle"],children:[(0,b.jsx)(v,{}),(0,b.jsx)(w,{}),(0,b.jsx)(u.B,{}),(0,b.jsx)(j.v,{}),(0,b.jsx)(y.R,{colorTitle:"M\xe0u chữ"}),(0,b.jsx)(A.n,{})]}),(0,b.jsxs)(d.Z2,{title:"Khoảng đệm",props:["padding"],children:[(0,b.jsx)(k.I,{}),(0,b.jsx)(N.J,{})]}),(0,b.jsx)(d.Z2,{title:"Đường viền",children:(0,b.jsx)(C.j,{})}),(0,b.jsx)(d.Z2,{title:"Đổ b\xf3ng",children:(0,b.jsx)(S.O,{})}),(0,b.jsx)(d.Z2,{title:"Li\xean kết",props:["hyperlink"],children:(0,b.jsx)(_,{})}),(0,b.jsx)(d.Z2,{title:"Hiệu ứng chuyển động",children:(0,b.jsx)(Z.C,{})})]})}}}},62214:function(e,t,n){"use strict";n.d(t,{zj:function(){return P},s_:function(){return eb}});var r,a,i=n(59499),o=n(71383),s=n(67294),c=n(41610),l=n(67623),d=n(54335),u=n(85893);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={top:10,left:10,width:100,height:100,margin:[0,0,0,0]},h=d.zo.div(r||(r=(0,o.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  span {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: #fff;\n    border-radius: 100%;\n    display: block;\n    box-shadow: 0px 0px 12px -1px rgba(0, 0, 0, 0.25);\n    z-index: 99999;\n    pointer-events: none;\n    border: 2px solid #36a9e0;\n    &:nth-child(1) {\n      left: -5px;\n      top: -5px;\n    }\n    &:nth-child(2) {\n      right: -5px;\n      top: -5px;\n      display: block;\n    }\n    &:nth-child(3) {\n      left: -5px;\n      bottom: -5px;\n    }\n    &:nth-child(4) {\n      bottom: -5px;\n      right: -5px;\n      display: block;\n    }\n  }\n"]))),m=function(e){var t=e=p(p({},f),e),n=t.top,r=t.left,a=t.height,i=t.width,o=(t.margin,t.children),d=(0,l.Zo)(function(e){return{active:e.events.selected}}),x=d.connectors,m=x.connect,g=(x.drag,d.actions.setProp),b=d.active,v=(0,s.useRef)(!1),j=(0,s.useRef)(null);return(0,u.jsx)("div",{ref:m,onMouseDown:function(e){if(!v.current){e.preventDefault();var t=e.clientX-r,a=e.clientY-n,i=function(e){var n=e.clientX-t,r=e.clientY-a;g(function(e){e.top=r,e.left=n},500)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)})}},style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),cursor:v.current?"default":"move"},children:(0,u.jsxs)(c.Resizable,{size:{width:i,height:a},onResizeStart:function(){v.current=!0},onResize:function(e,t,a,i){g(function(e){var t=Math.max(50,parseFloat(a.style.width)),n=Math.max(50,parseFloat(a.style.height));e.width=t,e.height=n},500);var o=t.toLowerCase().includes("left"),s=t.toLowerCase().includes("top");if(o||s){j.current||(j.current=i);var c=i.width-j.current.width,l=i.height-j.current.height;g(function(e){o&&(e.left=r-c),s&&(e.top=n-l)},500),j.current=i}},onResizeStop:function(){v.current=!1,j.current=null},minWidth:50,minHeight:50,enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{display:"flex",alignItems:"center",justifyContent:"center",background:"#ccc",border:"1px solid #ccc",boxSizing:"border-box"},children:[o,b&&(0,u.jsxs)(h,{children:[(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{})]})]})})};m.craft={displayName:"Drag Box",props:f,rules:{canDrag:function(){return!0}}};var g=n(36282),b=n(4730),v=n(19848),j=n.n(v),y=n(729),w=n(86745),k=n(76975),N=n(83701),C=n(46256),S=n(85518),A=function(){var e=S.tq||S.Em,t=(0,y.U)(),n=t.icon,r=t.iconColor,a=t.setIcon,i=t.setIconColor,o=t.setCurrentMusic,c=(0,w.Dk)().setActiveKey,l=(0,C.TN)().pageData;return(0,s.useEffect)(function(){if(l){var e=l.audioIcon,t=l.audioIconColor,n=l.audioKey,r=l.audioTitle,s=l.audioDuration;n&&o({title:r,duration:s,fileKey:n}),a(e),i(t)}},[l]),(0,u.jsx)(N.Z,{setting:!0,onClick:function(){e||c(k.Ey.MUSIC)},audioIcon:n,audioIconColor:r})},Z=function(e){var t=e.value,n=e.onHeightChange,r=e.min,a=void 0===r?1:r,i=e.step,o=e.className,c=(0,s.useState)(Number(t)||a),l=c[0],d=c[1];return(0,s.useEffect)(function(){d(Number(t)||a)},[t,a]),(0,u.jsx)("input",{type:"number",name:"app-height-input",id:"app-height-input",value:l,onChange:function(e){d(Math.max(a,parseInt(e.target.value)||a))},onKeyDown:function(e){"Enter"===e.key&&n(l)},onBlur:function(){n(l)},className:void 0===o?"w-20 h-6 px-2 text-center text-sm border-0 bg-transparent focus:outline-none focus:ring-0":o,min:a,step:void 0===i?1:i})},T=["editorViewportWidth"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=function(e){var t=e.editorViewportWidth,n=(0,b.Z)(e,T),r=n.children,a=n.width,i=n.height,o=n.background,d=(0,l.Zo)(),x=(d.id,d.connectors),p=x.connect,f=x.drag,h=d.actions.setProp,m=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,s.useEffect)(function(){t&&h(function(e){e.width=t})},[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{id:"root-page-container",ref:function(e){return p(f(e))},style:O(O({},o?o.startsWith("http://")||o.startsWith("https://")?{backgroundColor:"transparent",backgroundImage:"url(".concat(o,")"),backgroundSize:"cover"}:o.includes("gradient")?{backgroundColor:"transparent",backgroundImage:o,backgroundSize:"cover"}:{backgroundColor:o,backgroundImage:"none",backgroundSize:"cover"}:{backgroundColor:"#fff",backgroundImage:"none",backgroundSize:"cover"}),{},{width:t||a,height:i,position:"relative"}),className:"jsx-2177353859",children:(0,u.jsxs)(c.Resizable,{size:{width:t||a,height:i},onResize:function(e,t,n,r){h(function(e){var t=Math.max(50,parseFloat(n.style.height));e.height=t},200)},minWidth:50,minHeight:50,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},style:{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},children:[m&&(0,u.jsx)(A,{}),(0,u.jsx)("div",{className:"jsx-2177353859 w-full h-full",children:r})]})}),m&&(0,u.jsx)("div",{id:"root-page-container-resize-handle",className:"jsx-2177353859 mt-4 z-[99999999]",children:(0,u.jsxs)("div",{className:"jsx-2177353859 flex items-center gap-2 bg-white/90 backdrop-blur-sm rounded-full shadow-md border border-gray-200/50 px-2 py-1",children:[(0,u.jsx)("button",{onClick:function(){var e=Math.max(100,Number(i)-10);h(function(t){t.height=e})},title:"Giảm chiều d\xe0i",className:"jsx-2177353859 w-6 h-6 flex items-center justify-center bg-gray-100/80 hover:bg-gray-200/80 rounded-full transition-all duration-200 hover:scale-105",children:(0,u.jsx)("span",{className:"jsx-2177353859 text-gray-600 text-lg font-medium mb-1",children:"−"})}),(0,u.jsxs)("div",{className:"jsx-2177353859 flex items-center",children:[(0,u.jsx)(Z,{value:i,onHeightChange:function(e){h(function(t){t.height=e})},min:1,step:1}),(0,u.jsx)("span",{className:"jsx-2177353859 text-xs text-gray-500 font-medium",children:"px"})]}),(0,u.jsx)("button",{onClick:function(){var e=Number(i)+10;h(function(t){t.height=e})},title:"Tăng chiều d\xe0i",className:"jsx-2177353859 w-6 h-6 flex items-center justify-center bg-gray-100/80 hover:bg-gray-200/80 rounded-full transition-all duration-200 hover:scale-105",children:(0,u.jsx)("span",{className:"jsx-2177353859 text-gray-600 text-lg font-medium mb-1",children:"+"})})]})}),(0,u.jsx)(j(),{id:"2177353859",children:['#main-scroll-container #root-page-container::before{content:"";position:absolute;left:50%;bottom:3px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:50px;height:4px;background:rgba(0,0,0,0.1);border-radius:2px;-webkit-transition:all 0.2s;transition:all 0.2s;}',"#main-scroll-container #root-page-container:hover::before{background:rgba(0,0,0,0.3);}"]})]})};P.craft={displayName:"Container",rules:{canDrag:function(){return!0}},props:{width:500,height:1e3,background:"#fff"}};var D=n(82673),I=n(59353),R=n(93773),z=n(15720),B=n(99621),M=n(63054),L=n(56084),F=n(35959),_=n(66748),H=n(84249),U=function(e){var t=e.enabled,n=e.isResizing,r=e.left,a=e.top,i=e.setProp,o=e.throttleRate,s=void 0===o?500:o,c=e.isFocusText,l=e.isActive,d=e.setFocusing;return{handleDragMouseDown:function(e){if(t&&!n.current){e.preventDefault();var o=e.clientX-r,c=e.clientY-a,l=function(e){var t=e.clientX-o,n=e.clientY-c;i(function(e){e.top=n,e.left=t},s)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e)})}},handleTouchDragStart:function(e){if(t&&!n.current){var o=e.touches[0].clientX-r,c=e.touches[0].clientY-a,l=document.getElementById("main-scroll-container");l&&(l.style.overflow="hidden");var d=function(e){var t=e.touches[0].clientX-o,n=e.touches[0].clientY-c;i(function(e){e.top=n,e.left=t},s)};document.addEventListener("touchmove",d),document.addEventListener("touchend",function e(){l&&(l.style.overflow=""),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",e)})}},handleTextMouseDown:function(e){if(t&&!(null!=c&&c.current)){e.preventDefault(),c&&(c.current=!0);var n=e.clientX-r,o=e.clientY-a,u=function(e){var t=e.clientX-n,r=e.clientY-o;i(function(e){e.top=r,e.left=t},s),c&&(c.current=!1)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",function e(){l&&null!=c&&c.current&&d&&d(!0),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)})}}}},K=function(e){var t=e.enabled,n=e.left,r=e.top,a=e.setProp,i=e.throttleRate,o=void 0===i?500:i,c=e.MIN_SIZE,l=void 0===c?20:c,d=(0,s.useState)(!1),u=d[0],x=d[1],p=(0,s.useRef)(!1),f=(0,s.useRef)(null);return{isResizing:p,isCornerResize:u,handleResizeStart:function(e,t){p.current=!0;var n=document.getElementById("main-scroll-container");n&&(n.style.overflow="hidden"),["topLeft","topRight","bottomLeft","bottomRight"].includes(t)?x(!0):x(!1)},handleResizing:function(e,i,s,c){if(t){a(function(e){var t=Math.max(l,parseFloat(s.style.width)),n=Math.max(l,parseFloat(s.style.height));e.width=t,e.height=n},o);var d=i.toLowerCase().includes("left"),u=i.toLowerCase().includes("top");if(d||u){f.current||(f.current=c);var x=c.width-f.current.width,p=c.height-f.current.height;a(function(e){d&&(e.left=n-x),u&&(e.top=r-p)},o),f.current=c}}},handleResizeStop:function(){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow=""),p.current=!1,f.current=null,x(!1)}}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var X={top:10,left:10,width:100,height:100,color:"#ccc",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0},V=d.zo.div(a||(a=(0,o.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  span {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: #fff;\n    border-radius: 100%;\n    display: block;\n    box-shadow: 0px 0px 12px -1px rgba(0, 0, 0, 0.25);\n    z-index: 99999;\n    pointer-events: none;\n    border: 2px solid #36a9e0;\n    &:nth-child(1) {\n      left: -5px;\n      top: -5px;\n    }\n    &:nth-child(2) {\n      right: -5px;\n      top: -5px;\n      display: block;\n    }\n    &:nth-child(3) {\n      left: -5px;\n      bottom: -5px;\n    }\n    &:nth-child(4) {\n      bottom: -5px;\n      right: -5px;\n      display: block;\n    }\n  }\n"]))),Y=function(e){var t=e=W(W({},X),e),n=t.top,r=t.left,a=t.height,i=t.width,o=t.opacity,s=t.color,d=t.shadow,x=t.padding,p=t.borderRadius,f=t.rotation,h=t.flipX,m=t.flipY,g=t.borderPosition,b=t.borderSize,v=t.borderStyle,y=t.borderColor,w=t.hasShadow,N=t.boxShadow,C=t.imgKey,S=t.zIndex,A=(0,l.Zo)(function(e){return{active:e.events.selected}}),Z=A.connectors.connect,T=A.actions.setProp,E=A.active,O=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled,P=K({enabled:O,left:r,top:n,setProp:T,throttleRate:500,MIN_SIZE:20}),D=P.isResizing,I=P.isCornerResize,R=P.handleResizeStart,z=P.handleResizing,B=P.handleResizeStop,M=U({enabled:O,isResizing:D,left:r,top:n,setProp:T,throttleRate:500}),L=M.handleTouchDragStart,F=M.handleDragMouseDown,_=function(){switch(g){case"all":return{border:"".concat(b,"px ").concat(v," ").concat(y)};case"top":return{borderTop:"".concat(b,"px ").concat(v," ").concat(y)};case"bottom":return{borderBottom:"".concat(b,"px ").concat(v," ").concat(y)};case"right":return{borderRight:"".concat(b,"px ").concat(v," ").concat(y)};case"left":return{borderLeft:"".concat(b,"px ").concat(v," ").concat(y)};case"top-bottom":return{borderTop:"".concat(b,"px ").concat(v," ").concat(y),borderBottom:"".concat(b,"px ").concat(v," ").concat(y)};case"right-left":return{borderRight:"".concat(b,"px ").concat(v," ").concat(y),borderLeft:"".concat(b,"px ").concat(v," ").concat(y)};case"upper-left":return{borderTop:"".concat(b,"px ").concat(v," ").concat(y),borderLeft:"".concat(b,"px ").concat(v," ").concat(y)};case"upper-right":return{borderTop:"".concat(b,"px ").concat(v," ").concat(y),borderRight:"".concat(b,"px ").concat(v," ").concat(y)};case"lower-left":return{borderBottom:"".concat(b,"px ").concat(v," ").concat(y),borderLeft:"".concat(b,"px ").concat(v," ").concat(y)};case"lower-right":return{borderBottom:"".concat(b,"px ").concat(v," ").concat(y),borderRight:"".concat(b,"px ").concat(v," ").concat(y)};default:return{}}}();return(0,u.jsxs)("div",{ref:Z,onMouseDown:F,onTouchStart:L,style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),zIndex:S,cursor:O?D?"default":"move":"default"},className:j().dynamic([["1102248890",[s]]]),children:[(0,u.jsxs)(c.Resizable,{size:{width:i,height:a},lockAspectRatio:I,onResizeStart:R,onResize:z,onResizeStop:B,minWidth:k.yL,minHeight:k.yL,enable:{top:O,right:O,bottom:O,left:O,topRight:O,bottomRight:O,bottomLeft:O,topLeft:O},style:W(W({display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},_),{},{padding:"".concat(x[0],"px ").concat(x[1],"px ").concat(x[2],"px ").concat(x[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((d||0)/100,")"),opacity:o,borderRadius:"".concat(p[0],"px \n          ").concat(p[1],"px \n          ").concat(p[2],"px \n          ").concat(p[3],"px"),transform:"rotate(".concat(f,"deg) scale(").concat(h?-1:1,", ").concat(m?-1:1,")"),boxShadow:w?"".concat(N.offsetX,"px ").concat(N.offsetY,"px ").concat(N.blur,"px ").concat(N.spread,"px ").concat(N.color):"none"}),children:[(0,u.jsx)("div",{style:{width:i,height:a,maskImage:"url(".concat((0,H.eQ)(C),")")},className:j().dynamic([["1102248890",[s]]])+" shape-component"}),E&&(0,u.jsxs)(V,{children:[(0,u.jsx)("span",{className:j().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:j().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:j().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:j().dynamic([["1102248890",[s]]])})]})]}),(0,u.jsx)(j(),{id:"1102248890",dynamic:[s],children:[".shape-component.__jsx-style-dynamic-selector{opacity:1;z-index:151;border-radius:0px;background-color:".concat(s,";border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}")]})]})};Y.craft={displayName:"Shape Item",props:X,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(_.e,{type:"shape"}),(0,u.jsxs)(I.Z2,{title:"M\xe0u sắc",defaultOpen:!0,children:[(0,u.jsx)(R.R,{isColor:!0,isBackground:!1,colorTitle:"M\xe0u sắc"}),(0,u.jsx)(F.n,{})]}),(0,u.jsxs)(I.Z2,{title:"Khoảng đệm",children:[(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{flipable:!0})]}),(0,u.jsx)(I.Z2,{title:"Đường viền",children:(0,u.jsx)(M.j,{})}),(0,u.jsx)(I.Z2,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.O,{})})]})}}};var Q=n(42055),G=n(47474),J=n(21583),$=n(99101),ee=n(57225),et=n(42179),en=n(19259),er=n(57581);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eo={top:10,left:10,width:k.Yx.mapWidth,height:k.Yx.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},mapCoordinates:k.he,zIndex:0,locked:!1,listingTitle:"Cinelove Wedding",listingDescription:"Wishing you a lifetime of love and happiness ♥",galleryImageUrl:"/images/red-background-valentine.webp",transition:et.b},es=function(e){var t=(0,s.useRef)(null),n=(0,s.useState)([]),r=n[0],a=n[1],i=(0,s.useState)(!1),o=i[0],c=i[1],d=e=ei(ei({},eo),e),x=d.top,p=d.left,f=d.height,h=d.width,m=d.opacity,g=d.shadow,b=d.padding,v=d.borderRadius,j=d.rotation,y=d.borderPosition,w=d.borderSize,k=d.borderStyle,N=d.borderColor,C=d.hasShadow,S=d.boxShadow,A=d.mapCoordinates,Z=d.zIndex,T=d.locked,E=d.listingTitle,O=d.listingDescription,P=d.galleryImageUrl,D=d.transition,I=(0,l.Zo)(function(e){return{active:e.events.selected,id:e.id}}),R=I.connectors.connect,z=I.actions.setProp,B=I.active,M=I.id,L=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled,F=D||et.b,_=(0,s.useState)(!1),H=_[0],U=_[1];(0,s.useEffect)(function(){if(B&&L){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==M}))}},[B,L,M]);var K=(0,s.useState)({width:0,height:0,left:0,top:0}),q=K[0],W=K[1],X=(0,s.useState)(null),V=X[0],Y=X[1];(0,s.useEffect)(function(){if(B&&L){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();W({width:t.width,height:t.height,left:t.left,top:t.top}),Y(e)}}},[B,L]);var Q=function(){switch(y){case"all":return{border:"".concat(w,"px ").concat(k," ").concat(N)};case"top":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N)};case"bottom":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"left":return{borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"top-bottom":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right-left":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-left":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-right":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-left":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-right":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};default:return{}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":M,ref:function(e){e&&(R(e),t.current=e)},style:ei(ei({position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(f,"px"),zIndex:Z,cursor:L?o?"default":"move":"default",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},Q),{},{padding:"".concat(b[0],"px ").concat(b[1],"px ").concat(b[2],"px ").concat(b[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((g||0)/100,")"),opacity:m,borderRadius:"".concat(v[0],"px \n          ").concat(v[1],"px \n          ").concat(v[2],"px \n          ").concat(v[3],"px"),transform:"rotate(".concat(j,"deg)"),boxShadow:C?"".concat(S.offsetX,"px ").concat(S.offsetY,"px ").concat(S.blur,"px ").concat(S.spread,"px ").concat(S.color):"none"}),children:(0,u.jsx)(er.Z,{transition:F,targetRef:t,enabled:L,nodeId:M,onTransitionStart:function(){U(!0)},onTransitionEnd:function(){U(!1)},children:(0,u.jsx)(ee.Z,{mapCoordinates:A,borderRadius:v,mapView:o,onToggleMapView:function(e){return c(e)},listingTitle:E,listingDescription:O,galleryImageUrl:P},A.lat)})}),B&&L&&t.current&&!o&&!H&&(0,u.jsx)($.Z,{target:t.current,container:V,otherElements:r,containerBounds:q,currentProps:{top:x,left:p,width:h,height:f,rotation:j,flipX:!1,flipY:!1,locked:T},onUpdateProps:function(e){z(function(t){Object.assign(t,e)})}})]})};es.craft={displayName:"Bản đồ",props:eo,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)(I.Z2,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:[(0,u.jsx)(en.$,{}),(0,u.jsx)(F.n,{})]}),(0,u.jsxs)(I.Z2,{title:"Khoảng đệm",children:[(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{})]}),(0,u.jsx)(I.Z2,{title:"Đường viền",children:(0,u.jsx)(M.j,{})}),(0,u.jsx)(I.Z2,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.O,{})}),(0,u.jsx)(I.Z2,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(et.C,{})})]})}}};var ec=n(96812),el=n(32152),ed=n(58115);function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ex(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ep={top:10,left:10,width:k.Yx.mapWidth,height:k.Yx.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},address:"52 Miếu Đầm, Mễ Tr\xec, Nam Từ Li\xeam, H\xe0 Nội",zIndex:0,locked:!1,backgroundColor:"transparent",transition:et.b},ef=function(e){var t=(0,s.useRef)(null),n=(0,s.useState)([]),r=n[0],a=n[1],i=(0,s.useState)(!1),o=i[0],c=i[1],d=e=ex(ex({},ep),e),x=d.top,p=d.left,f=d.height,h=d.width,m=d.opacity,g=d.shadow,b=d.padding,v=d.borderRadius,j=d.rotation,y=d.borderPosition,w=d.borderSize,k=d.borderStyle,N=d.borderColor,C=d.hasShadow,S=d.boxShadow,A=d.address,Z=d.zIndex,T=d.locked,E=d.backgroundColor,O=d.transition,P=(0,l.Zo)(function(e){return{active:e.events.selected,id:e.id}}),D=P.connectors.connect,I=P.actions.setProp,R=P.active,z=P.id,B=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled,M=O||et.b,L=(0,s.useState)(!1),F=L[0],_=L[1],H=(0,s.useState)(!1),U=H[0],K=H[1],q=(0,s.useState)(!0),W=q[0],X=q[1];(0,s.useEffect)(function(){X(!1)},[]);var V=(0,ed.oN)(M,U);(0,s.useEffect)(function(){if(M.effectEnabled&&B&&!W){K(!0),_(!1);var e=setTimeout(function(){_(!0),setTimeout(function(){K(!1)},(M.effectDuration+M.effectDelay)*1e3+100)},50);return function(){return clearTimeout(e)}}},[M.effectEnabled,M.effectType,M.effectDuration,M.effectDelay,M.effectEasing]),(0,s.useEffect)(function(){if(M.effectEnabled){var e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(_(!0),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return t.current&&e.observe(t.current),function(){t.current&&e.unobserve(t.current)}}},[M.effectEnabled]),(0,s.useEffect)(function(){if(R&&B){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==z}))}},[R,B,z]);var Y=(0,s.useState)({width:0,height:0,left:0,top:0}),Q=Y[0],G=Y[1],J=(0,s.useState)(null),ee=J[0],en=J[1];(0,s.useEffect)(function(){if(R&&B){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();G({width:t.width,height:t.height,left:t.left,top:t.top}),en(e)}}},[R,B]);var er=function(){switch(y){case"all":return{border:"".concat(w,"px ").concat(k," ").concat(N)};case"top":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N)};case"bottom":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"left":return{borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"top-bottom":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right-left":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-left":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-right":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-left":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-right":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};default:return{}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":z,ref:function(e){e&&(D(e),t.current=e)},style:ex(ex({position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(f,"px"),zIndex:Z,cursor:B?o?"default":"move":"default",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:E},er),{},{padding:"".concat(b[0],"px ").concat(b[1],"px ").concat(b[2],"px ").concat(b[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((g||0)/100,")"),opacity:m,borderRadius:"".concat(v[0],"px \n          ").concat(v[1],"px \n          ").concat(v[2],"px \n          ").concat(v[3],"px"),transform:"rotate(".concat(j,"deg)"),boxShadow:C?"".concat(S.offsetX,"px ").concat(S.offsetY,"px ").concat(S.blur,"px ").concat(S.spread,"px ").concat(S.color):"none"}),children:(0,u.jsx)("div",{style:(0,ed.FO)(M,F),children:(0,u.jsx)(ec.Z,{address:A,borderRadius:v,mapView:o,onToggleMapView:function(e){return c(e)}})},V)}),R&&B&&t.current&&!o&&!U&&(0,u.jsx)($.Z,{target:t.current,container:ee,otherElements:r,containerBounds:Q,currentProps:{top:x,left:p,width:h,height:f,rotation:j,flipX:!1,flipY:!1,locked:T},onUpdateProps:function(e){I(function(t){Object.assign(t,e)})}})]})};ef.craft={displayName:"Bản đồ",props:ep,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(I.Z2,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:(0,u.jsx)(el.B,{})}),(0,u.jsxs)(I.Z2,{title:"Khoảng đệm",children:[(0,u.jsx)(R.R,{isColor:!1,isBackground:!0}),(0,u.jsx)(F.n,{}),(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{})]}),(0,u.jsx)(I.Z2,{title:"Đường viền",children:(0,u.jsx)(M.j,{})}),(0,u.jsx)(I.Z2,{title:"Đổ b\xf3ng",children:(0,u.jsx)(L.O,{})}),(0,u.jsx)(I.Z2,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(et.C,{})})]})}}};var eh=n(59570),em=n(7599),eg=n(88947),eb={DragBox:m,AppContainer:P,TextBox:g.z,MaterialBox:D.r,ShapeBox:Y,PhotoBox:Q.A,PluginCalendar:G.q,PluginCountDown:J.D,PluginMap:es,PluginSimpleMap:ef,UnifiedMap:eh.o,PluginPhoneButton:em.u,PluginForm:eg.N}},32152:function(e,t,n){"use strict";n.d(t,{B:function(){return x}}),n(67294);var r=n(67623),a=n(99859),i=n(38289),o=n(52091),s=n(85518),c=n(25675),l=n.n(c),d={src:"/_next/static/media/3d-map.a4fed189.jpg",height:333,width:500,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABgEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAApARX/8QAGxAAAgEFAAAAAAAAAAAAAAAAAQIAAxESItH/2gAIAQEAAT8ACqtdktqDiOz/xAAXEQADAQAAAAAAAAAAAAAAAAABAiEA/9oACAECAQE/ACqyDf/EABYRAQEBAAAAAAAAAAAAAAAAAAEhAP/aAAgBAwEBPwAW3f/Z",blurWidth:8,blurHeight:5},u=n(85893),x=function(){var e=(0,r.Zo)(function(e){return{address:e.data.props.address}}),t=e.actions.setProp,n=e.address,c=s.tq||s.Em;return(0,u.jsxs)("div",{className:"mt-4 flex flex-col justify-around items-center",children:[!c&&(0,u.jsx)(l(),{unoptimized:!0,src:d,style:{borderRadius:5,marginBottom:15},alt:"Map thumbnail",width:250,height:160}),(0,u.jsx)(a.Z,{layout:"vertical",style:{width:"100%"},children:(0,u.jsx)(a.Z.Item,{label:"Địa chỉ",children:(0,u.jsx)(i.Z,{value:n,onChange:function(e){t(function(t){return t.address=e.target.value})},placeholder:"Nhập địa chỉ (VD: 52 Miếu Đầm, Mễ Tr\xec, Nam Từ Li\xeam, H\xe0 Nội)",prefix:(0,u.jsx)(o.Nh4,{style:{color:"#ff8fa3",marginRight:8}})})})})]})}},77893:function(e,t,n){"use strict";var r=n(19848),a=n.n(r);n(67294);var i=n(78045),o=n(729),s=n(7764),c=n(8967),l=n(85253),d=n(85893);t.Z=function(){var e=(0,o.U)(),t=e.icon,n=e.iconColor,r=e.setIcon,u=e.setIconColor,x=function(e){r(e)};return(0,d.jsxs)("div",{className:"jsx-753478186 music-setting",children:[(0,d.jsx)("h2",{className:"jsx-753478186",children:"Nhạc nền"}),(0,d.jsx)(c.Z,{}),(0,d.jsxs)("div",{className:"jsx-753478186 setting-section",children:[(0,d.jsx)("h3",{className:"jsx-753478186",children:"Chọn biểu tượng"}),(0,d.jsx)(i.ZP.Group,{value:t,onChange:function(e){return x(e.target.value)},children:[{value:"audio-1",label:"\uD83C\uDFB5"},{value:"audio-2",label:"\uD83C\uDFBC"},{value:"audio-3",label:"\uD83D\uDCBF"},{value:"audio-4",label:"\uD83C\uDFB6"},{value:"audio-5",label:"\uD83C\uDFB5"},{value:"audio-6",label:"\uD83C\uDFB5"}].map(function(e){return(0,d.jsx)(i.ZP.Button,{value:e.value,children:(0,d.jsx)("img",{src:"".concat(s.Z.CDN_URL,"/assets/").concat(e.value,".png"),alt:e.label,width:"24",height:"24",className:"jsx-753478186 icon-audio mix-blend"})},e.value)})})]}),(0,d.jsxs)("div",{className:"jsx-753478186 setting-section",children:[(0,d.jsx)("h3",{className:"jsx-753478186",children:"M\xe0u biểu tượng"}),(0,d.jsx)(l.Z,{value:n,onChange:function(e){if(e.rgba&&e.rgba.a<1){var t=e.rgba,n=t.r,r=t.g,a=t.b,i=t.a;u("rgba(".concat(n,", ").concat(r,", ").concat(a,", ").concat(i,")"))}else u(e.hex)}})]}),(0,d.jsx)(a(),{id:"753478186",children:[".music-setting.jsx-753478186{padding:10px;}",".setting-section.jsx-753478186{margin-bottom:24px;}",".mix-blend.jsx-753478186{mix-blend-mode:difference;opacity:0.3;}","h2.jsx-753478186{font-size:18px;font-weight:500;}","h3.jsx-753478186{font-size:14px;margin-bottom:12px;color:#666;}",".music-setting .ant-radio-group{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".music-setting .ant-radio-button-wrapper{height:35px;width:35px;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:4px !important;border:1px solid #d9d9d9 !important;margin-right:0;background:#f4f5f6 !important;}",".music-setting .ant-radio-button-wrapper:not(:first-child)::before{display:none !important;}",".music-setting .ant-radio-button-wrapper-checked{border-color:#1890ff !important;color:#1890ff !important;background:#e6f4ff !important;}",".music-setting .ant-radio-button-wrapper:hover{color:#1890ff;background:#e6f4ff !important;}"]})]})}},63054:function(e,t,n){"use strict";n.d(t,{j:function(){return h}});var r=n(27812),a=n(67294),i=n(81567),o=n(24435),s=n(83062),c=n(83622),l=n(67623),d=n(61121),u=n(87771),x=n(85253),p=n(85893),f=i.Z.Option,h=function(){var e=(0,l.Zo)(function(e){return{propValue:{borderColor:e.data.props.borderColor||"black",borderSize:e.data.props.borderSize||0,borderStyle:e.data.props.borderStyle||"solid",borderPosition:e.data.props.borderPosition||"all",borderRadius:e.data.props.borderRadius||[0,0,0,0]}}}),t=e.actions.setProp,n=e.propValue,h=(0,a.useState)(!0),m=h[0],g=h[1],b=function(e){t(function(t){e.rgba&&e.rgba.a<1?t.borderColor=v(e.rgba):t.borderColor=e.hex})},v=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""},j=function(e,n){t(function(t){var a=(0,r.Z)(t.borderRadius);m?a.fill(e):a[n]=e,t.borderRadius=a})};return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("label",{className:"text-sm font-medium mr-4",children:"Size:"}),(0,p.jsx)(o.Z,{min:0,max:20,step:1,value:n.borderSize,onChange:function(e){t(function(t){t.borderSize=e})},style:{width:"60px"}})]}),(0,p.jsx)("div",{className:"flex items-center",children:(0,p.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,p.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u:"}),(0,p.jsx)(x.Z,{value:n.borderColor,onChange:function(e){return b(e)}})]})})]}),(0,p.jsxs)("div",{className:"flex items-center mb-4",children:[(0,p.jsx)("label",{className:"text-sm font-medium mr-4",children:"Kiểu:"}),(0,p.jsxs)(i.Z,{value:n.borderStyle,onChange:function(e){t(function(t){t.borderStyle=e})},style:{flex:1},children:[(0,p.jsx)(f,{value:"solid",children:"N\xe9t liền"}),(0,p.jsx)(f,{value:"dashed",children:"N\xe9t đứt"}),(0,p.jsx)(f,{value:"dotted",children:"Chấm tr\xf2n"}),(0,p.jsx)(f,{value:"double",children:"Viền đ\xf4i"})]})]}),(0,p.jsxs)("div",{className:"flex items-center mb-4",children:[(0,p.jsx)("label",{className:"text-sm font-medium mr-4",children:"Vị tr\xed:"}),(0,p.jsxs)(i.Z,{value:n.borderPosition,onChange:function(e){t(function(t){t.borderPosition=e})},style:{flex:1},children:[(0,p.jsx)(f,{value:"all",children:"To\xe0n bộ"}),(0,p.jsx)(f,{value:"top",children:"Tr\xean"}),(0,p.jsx)(f,{value:"bottom",children:"Dưới"}),(0,p.jsx)(f,{value:"right",children:"Phải"}),(0,p.jsx)(f,{value:"left",children:"Tr\xe1i"}),(0,p.jsx)(f,{value:"top-bottom",children:"Tr\xean dưới"}),(0,p.jsx)(f,{value:"right-left",children:"Phải tr\xe1i"}),(0,p.jsx)(f,{value:"upper-left",children:"Tr\xean tr\xe1i"}),(0,p.jsx)(f,{value:"upper-right",children:"Tr\xean phải"}),(0,p.jsx)(f,{value:"lower-left",children:"Dưới tr\xe1i"}),(0,p.jsx)(f,{value:"lower-right",children:"Dưới phải"})]})]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsx)("label",{className:"text-sm font-medium",children:"Bo g\xf3c"}),(0,p.jsx)(s.Z,{title:"".concat(m?"Unlink":"Link"),children:(0,p.jsx)(c.ZP,{type:"text",icon:m?(0,p.jsx)(d.Wlb,{size:18}):(0,p.jsx)(d.nL$,{size:18}),onClick:function(){g(function(e){return!e})}})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)(u.kzc,{size:24}),(0,p.jsx)(o.Z,{min:0,value:n.borderRadius[0],onChange:function(e){return j(e,0)},style:{width:"60px"}})]}),(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)(o.Z,{min:0,value:n.borderRadius[1],onChange:function(e){return j(e,1)},style:{width:"60px"}}),(0,p.jsx)(u.tVN,{size:24})]}),(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)(u.uDm,{size:24}),(0,p.jsx)(o.Z,{min:0,value:n.borderRadius[3],onChange:function(e){return j(e,3)},style:{width:"60px"}})]}),(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)(o.Z,{min:0,value:n.borderRadius[2],onChange:function(e){return j(e,2)},style:{width:"60px"}}),(0,p.jsx)(u.Ie6,{size:24})]})]})]})]})}},56084:function(e,t,n){"use strict";n.d(t,{O:function(){return u}}),n(67294);var r=n(67623),a=n(72269),i=n(24435),o=n(86125),s=n(55241),c=n(83622),l=n(24198),d=n(85893),u=function(){var e=(0,r.Zo)(function(e){return{propValue:{hasShadow:e.data.props.hasShadow||!1,boxShadow:e.data.props.boxShadow||{offsetX:10,offsetY:10,blur:5,spread:0,color:"rgba(0, 0, 0, 0.5)",opacity:.5}}}}),t=e.actions.setProp,n=e.propValue,u=function(e,n){t(function(t){t.boxShadow[e]=n})};return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Đổ b\xf3ng "}),(0,d.jsx)(a.Z,{checked:n.hasShadow,onChange:function(e){t(function(t){t.hasShadow=e})}})]}),n.hasShadow&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Horizontal Length"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetX,onChange:function(e){return u("offsetX",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetX,onChange:function(e){return u("offsetX",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Vertical Length"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetY,onChange:function(e){return u("offsetY",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetY,onChange:function(e){return u("offsetY",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Blur Radius"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Z,{min:0,max:100,step:1,value:n.boxShadow.blur,onChange:function(e){return u("blur",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.Z,{min:0,max:100,step:1,value:n.boxShadow.blur,onChange:function(e){return u("blur",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Spread Radius"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Z,{min:-100,max:100,step:1,value:n.boxShadow.spread,onChange:function(e){return u("spread",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(o.Z,{min:-100,max:100,step:1,value:n.boxShadow.spread,onChange:function(e){return u("spread",e)}})]}),(0,d.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm",children:"Shadow Color"}),(0,d.jsx)(s.Z,{content:(0,d.jsx)(l.xS,{color:n.boxShadow.color,onChangeComplete:function(e){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t(function(e){e.boxShadow.color=n})}}),trigger:"click",children:(0,d.jsx)(c.ZP,{style:{backgroundColor:n.boxShadow.color,border:"1px solid #ccc",width:"40px",height:"30px"}})})]})]})]})}},93773:function(e,t,n){"use strict";n.d(t,{R:function(){return o}}),n(67294);var r=n(67623),a=n(85253),i=n(85893),o=function(e){var t=e.isColor,n=e.isBackground,o=e.colorTitle,s=e.defaultColor,c=void 0===s?"#000000":s,l=(0,r.Zo)(function(e){return{propValue:{color:e.data.props.color||c,backgroundColor:e.data.props.backgroundColor||"#ffffff"}}}),d=l.actions.setProp,u=l.propValue,x=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,i.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(void 0===t||t)&&(0,i.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:void 0===o?"M\xe0u sắc":o}),(0,i.jsx)(a.Z,{value:u.color,onChange:function(e){d(function(t){e.rgba&&e.rgba.a<1?t.color=x(e.rgba):t.color=e.hex})}})]}),(void 0===n||n)&&(0,i.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,i.jsx)(a.Z,{value:"transparent"!==u.backgroundColor?u.backgroundColor:"#ffffff",onChange:function(e){d(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=x(e.rgba):t.backgroundColor=e.hex})}})]})]})}},12157:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var r=n(19848),a=n.n(r),i=n(67294),o=n(67623),s=n(9198),c=n.n(s),l=n(57806),d=n(85893);(0,s.registerLocale)("vi",l.vi);var u=function(){var e=(0,o.Zo)(function(e){return{selectedDate:e.data.props.selectedDate}}),t=e.actions.setProp,n=e.selectedDate,r=(0,i.useState)(new Date(n)),s=r[0],l=r[1];return(0,d.jsxs)("div",{className:"jsx-2177057735 flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"jsx-2177057735 text-sm font-medium w-24",children:"Chọn ng\xe0y"}),(0,d.jsx)(c(),{className:"custom-datepicker",locale:"vi",selected:s,onChange:function(e){(e instanceof Date||null===e)&&(l(e),t(function(t){t.selectedDate=e}))},dateFormat:"dd/MM/yyyy",popperPlacement:"bottom-start"}),(0,d.jsx)(a(),{id:"2177057735",children:[".custom-datepicker{border:1px solid #ccc;border-radius:4px;padding:4px 8px;width:100%;}",".react-datepicker-popper{width:-webkit-max-content;width:-moz-max-content;width:max-content;}"]})]})}},76071:function(e,t,n){"use strict";n.d(t,{v:function(){return b}});var r=n(16835),a=n(50029),i=n(19848),o=n.n(i),s=n(87794),c=n.n(s),l=n(81567),d=n(67623),u=n(67294),x=n(7764),p=n(87066),f=n(26294),h=n(85893),m=l.Z.Option,g={id:"Arial",name:"Arial",category:"Default"},b=function(){var e=(0,u.useState)([]),t=e[0],n=e[1],i=(0,u.useState)(!0),s=i[0],b=i[1],v=(0,u.useState)(null),j=v[0],y=v[1],w=(0,u.useState)(!1),k=w[0],N=w[1],C=(0,d.Zo)(function(e){return{fontFamily:e.data.props.fontFamily}}),S=C.actions.setProp,A=C.fontFamily;(0,u.useEffect)(function(){var e;(e=(0,a.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.default.get("".concat(x.Z.API_URL,"/api/resources/fonts"));case 3:n(e.sent.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),y("Failed to load fonts"),console.error("Error fetching fonts:",e.t0);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,7,11,14]])})),function(){return e.apply(this,arguments)})()},[]);var Z=t.reduce(function(e,t){return e[t.category]||(e[t.category]=[]),e[t.category].push(t),e},{});return(0,h.jsxs)("div",{className:"jsx-3336003523 flex justify-between items-center my-4",children:[(0,h.jsx)("label",{className:"jsx-3336003523 text-sm font-medium",children:"Font"}),(0,h.jsxs)(l.Z,{value:A?(0,f.fb)(A):void 0,className:"w-3/4",onChange:function(e){if(N(!0),t.find(function(t){return t.name===e})){var n;(n=(0,f.gs)(e),new Promise(function(e,r){if(document.getElementById("font-face-".concat(n))){e();return}var a=t.find(function(e){return(0,f.gs)(e.name)===n});if(!a){r(Error("Font with id ".concat(n," not found")));return}var i="".concat(x.Z.CDN_URL,"/fonts/webfonts/").concat(n,"/").concat(n,".woff2"),o=document.createElement("style");o.id="font-face-".concat(n),o.textContent='\n      @font-face {\n        font-family: "'.concat(a.name,'";\n        src: url("').concat(i,'") format("woff2");\n        font-weight: normal;\n        font-style: normal;\n        font-display: swap;\n      }\n    '),new FontFace(a.name,"url(".concat(i,")"),{display:"swap"}).load().then(function(t){document.fonts.add(t),document.head.appendChild(o),e()}).catch(function(e){console.error("Failed to load font ".concat(a.name,":"),e),r(e)})})).then(function(){S(function(t){t.fontFamily='"'.concat(e,'"')},500),N(!1)}).catch(function(e){console.error("Failed to load font:",e),N(!1)})}else S(function(t){t.fontFamily='"'.concat(e,'"')},500),N(!1)},placeholder:"Select a font",loading:s,optionLabelProp:"label",disabled:k,children:[(0,h.jsx)(l.Z.OptGroup,{label:"Default",children:(0,h.jsx)(m,{value:g.name,label:(0,h.jsx)("div",{className:"jsx-3336003523 h-6 flex items-center",children:(0,h.jsx)("span",{className:"jsx-3336003523 font-sans",children:g.name})}),children:(0,h.jsx)("div",{className:"jsx-3336003523 py-1 px-2 hover:bg-gray-50",children:(0,h.jsx)("span",{className:"jsx-3336003523 font-sans text-base",children:g.name})})},g.id)},"Default"),Object.entries(Z).map(function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,h.jsx)(l.Z.OptGroup,{label:n,children:a.map(function(e){return(0,h.jsx)(m,{value:e.name,label:(0,h.jsx)("div",{className:"jsx-3336003523 h-6 flex items-center",children:(0,h.jsx)("img",{src:"".concat(x.Z.CDN_URL,"/").concat(e.thumbnail),alt:e.name,loading:"lazy",className:"jsx-3336003523 h-4 object-contain"})}),children:(0,h.jsx)("div",{className:"jsx-3336003523 py-1 px-2 hover:bg-gray-50",children:(0,h.jsx)("img",{src:"".concat(x.Z.CDN_URL,"/").concat(e.thumbnail),alt:e.name,loading:"lazy",className:"jsx-3336003523 h-6 w-auto object-contain"})})},e.id)})},n)})]}),j&&(0,h.jsx)("div",{className:"jsx-3336003523 text-red-500 text-sm mt-2",children:j}),(0,h.jsx)(o(),{id:"3336003523",children:[".ant-select-item{padding:4px !important;}",".ant-select-selection-item{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-align-items:center !important;-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;padding:0 8px !important;}"]})]})}},85970:function(e,t,n){"use strict";n.d(t,{B:function(){return x}});var r=n(19848),a=n.n(r);n(67294);var i=n(67623),o=n(81567),s=n(83622),c=n(52745),l=n(24969),d=n(85893),u=o.Z.Option,x=function(){var e=(0,i.Zo)(function(e){return{fontSize:e.data.props.fontSize}}),t=e.actions.setProp,n=e.fontSize;return(0,d.jsxs)("div",{className:"jsx-3821075601 font-size-container flex items-center justify-between my-4",children:[(0,d.jsx)("label",{className:"jsx-3821075601 text-sm font-medium mb-1",children:"Font size"}),(0,d.jsxs)("div",{className:"jsx-3821075601 flex",children:[(0,d.jsx)(s.ZP,{icon:(0,d.jsx)(c.Z,{}),onClick:function(){var e=parseInt(n)-1;t(function(t){t.fontSize=e},1e3)},style:{borderRadius:"4px 0 0 4px",width:30,display:"flex",justifyContent:"center",alignItems:"center"}}),(0,d.jsx)(o.Z,{value:n,style:{width:65},className:"font-size-input",onChange:function(e){t(function(t){t.fontSize=e},1e3)},children:[10,12,14,16,18,20,22,24,26,30,36,48,64,72].map(function(e){return(0,d.jsx)(u,{className:"font-size-input-item",value:e,children:e},e)})}),(0,d.jsx)(s.ZP,{icon:(0,d.jsx)(l.Z,{}),onClick:function(){var e=parseInt(n)+1;t(function(t){t.fontSize=e},1e3)},style:{borderRadius:" 0 4px 4px 0",width:30,display:"flex",justifyContent:"center",alignItems:"center"}})]}),(0,d.jsx)(a(),{id:"3821075601",children:[".font-size-input .ant-select-selector{border-radius:0px !important;}",".font-size-container .ant-btn.ant-btn-icon-only .anticon{font-size:15px;}",".font-size-container .ant-select-selection-item,.font-size-container .ant-select-item-option-content{font-size:14px;}"]})]})}},66748:function(e,t,n){"use strict";n.d(t,{e:function(){return g}});var r=n(19848),a=n.n(r),i=n(76975),o=n(86745),s=n(77917),c=n(84249),l=n(67623),d=n(22567),u=n(29104),x=n(4393),p=n(83622),f=n(67294),h=n(85518),m=n(85893),g=function(e){var t=e.type,n=h.tq||h.Em,r=(0,l.Zo)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,height:e.data.props.height,width:e.data.props.width}}),g=r.id,b=r.imgKey,v=r.width,j=r.height,y=(0,s.M)(100,v,j),w=y.scaleWidth,k=y.scaleHeight,N=(0,c.eQ)(b),C=(0,m.jsx)("div",{className:"shape-component",style:{width:w,height:k,maskImage:"url(".concat(N,")"),backgroundColor:"rgb(204, 204, 204)",maskSize:"100% 100%",maskRepeat:"no-repeat",overflow:"visible"}}),S=(0,m.jsx)(u.Z,{src:N,alt:"Material ",width:100,height:100,style:{height:"100%",objectFit:"contain",objectPosition:"center"}}),A={height:"shape"===t?k:100,width:"shape"===t?w:100},Z=(0,o.Hj)(),T=Z.setReplacing,E=Z.setReplaceType,O=Z.setSelectedNodeId,P=Z.isReplacing,D=Z.resetReplaceItem,I=(0,o.Dk)().setActiveKey;return(0,f.useEffect)(function(){return function(){P&&(D(),I(null))}},[P]),(0,m.jsxs)("div",{className:"jsx-335414158 my-4 flex justify-around items-center",children:[!n&&(0,m.jsxs)("div",{className:"jsx-335414158 flex justify-center flex-col gap-2 items-center",children:[(0,m.jsx)(x.Z,{hoverable:!0,bordered:!0,style:{width:A.width+20,height:A.height+20,padding:10},cover:"shape"===t?C:S}),(0,m.jsxs)(p.ZP,{color:"primary",type:"primary",size:"small",onClick:function(){var e=i.Ey.MATERIAL;T(!0),E(t),I(e),O(g)},className:"flex items-center gap-2 text-sm",children:[(0,m.jsx)(d.JO,{icon:"solar:gallery-wide-bold",className:"w-5 h-5"}),"Thay đổi"]})]}),(0,m.jsx)(a(),{id:"335414158",children:[".shape-component.jsx-335414158{opacity:1;z-index:151;border-radius:0px;background-color:rgb(204,204,204);border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}",".button-container.jsx-335414158{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:16px;}",".custom-button.jsx-335414158{background-color:#ff8fa3;color:#ffffff;border:none;border-radius:8px;width:100px;height:35px;font-size:14px;text-align:center;cursor:pointer;box-shadow:0px 2px 4px rgba(0,0,0,0.1);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".custom-button.jsx-335414158:hover{background-color:#fd9cad;box-shadow:0px 4px 6px rgba(0,0,0,0.15);}",".custom-button.jsx-335414158:active{background-color:#fd9cad;-webkit-transform:scale(0.98);-ms-transform:scale(0.98);transform:scale(0.98);}"]})]})}},19259:function(e,t,n){"use strict";n.d(t,{$:function(){return m}});var r=n(67294),a=n(2453),i=n(17788),o=n(83622),s=n(52091),c=n(85893),l=function(e){var t=e.label,n=e.onClick,r=e.icon,a=e.backgroundColor,i=e.textColor,o=e.borderRadius,s=e.fontSize,l=e.padding,d=e.fullWidth;return(0,c.jsxs)("button",{onClick:n,className:"bg-primary",style:{backgroundColor:a,color:void 0===i?"#fff":i,border:"none",borderRadius:void 0===o?"8px":o,fontSize:void 0===s?"16px":s,padding:void 0===l?"12px 20px":l,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",gap:"8px",width:d?"100%":"auto"},children:[r&&(0,c.jsx)("span",{children:r}),t]})},d=n(43504),u=n(67623),x=function(){var e=(0,u.Zo)(function(e){return{mapCoordinates:e.data.props.mapCoordinates,listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription,galleryImageUrl:e.data.props.galleryImageUrl}}),t=e.actions.setProp,n=e.mapCoordinates,x=e.listingTitle,p=e.listingDescription,f=e.galleryImageUrl,h=(0,r.useState)(!1),m=h[0],g=h[1],b=(0,r.useState)(null),v=b[0],j=b[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l,{label:"Chọn vị tr\xed",onClick:function(){return g(!0)},icon:(0,c.jsx)(s.Nh4,{}),backgroundColor:"#ff8fa3",textColor:"#fff",borderRadius:"6px",fontSize:"18px",padding:"7px 30px"}),(0,c.jsx)(i.Z,{title:"Chọn vị tr\xed tr\xean bản đồ",open:m,footer:[(0,c.jsx)(o.ZP,{onClick:function(){return g(!1)},children:"Hủy"},"cancel"),(0,c.jsx)(o.ZP,{type:"primary",onClick:function(){g(!1),v&&t(function(e){e.mapCoordinates=v})},children:"X\xe1c nhận"},"confirm")],onCancel:function(){return g(!1)},width:800,styles:{body:{height:600}},children:(0,c.jsx)(d.Z,{defaultZoom:5,enableSearch:!0,onSelectPlace:function(e){try{if(!e)return;var t=e.geometry.location.lat(),n=e.geometry.location.lng();j({lat:t,lng:n})}catch(e){a.ZP.error("Lỗi khi chọn vị tr\xed tr\xean bản đồ")}},defaultCenter:n,listingTitle:x,listingDescription:p,galleryImageUrl:f})})]})},p=n(50618),f=n(94184),h=n.n(f),m=function(){var e=(0,u.Zo)(function(e){return{galleryImageUrl:e.data.props.galleryImageUrl||"/images/red-background-valentine.webp",listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription}}),t=e.listingTitle,n=e.listingDescription,a=e.galleryImageUrl,i=(0,r.useState)(!1),o=i[0],s=i[1],l=(0,r.useState)(!1),d=l[0],f=l[1];return(0,c.jsx)("div",{className:"my-4 flex justify-around items-center",children:(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"mb-3 mt-3 flex justify-center advanced-marker-wrapper",children:(0,c.jsx)("div",{style:{position:"relative",transformOrigin:"center"},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},className:h()("real-estate-marker",{clicked:o,hovered:d}),onClick:function(){return s(!o)},children:(0,c.jsx)(p.g,{galleryImageUrl:a,listingTitle:t,listingDescription:n,clicked:o,showCloseButton:!1,className:"preview-pin"})})}),(0,c.jsx)("span",{className:"text-xs text-gray-500 text-center block mb-2 italic",children:"Di chuột hoặc chạm v\xe0o để xem"})]}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"20px"},children:(0,c.jsx)(x,{})})]})})}},15720:function(e,t,n){"use strict";n.d(t,{I:function(){return p}});var r=n(27812),a=n(19848),i=n.n(a),o=n(67294),s=n(67623),c=n(83062),l=n(83622),d=n(24435),u=n(61121),x=n(85893),p=function(){var e=(0,s.Zo)(function(e){return{propValue:{padding:e.data.props.padding||[0,0,0,0]}}}),t=e.actions.setProp,n=e.propValue,a=(0,o.useState)(!0),p=a[0],f=a[1],h=(0,o.useState)(null),m=h[0],g=h[1],b=function(e,n){t(function(t){var a=(0,r.Z)(t.padding);p?a.fill(e):a[n]=e,t.padding=a})},v=function(e){g(e)},j=function(){g(null)};return(0,x.jsxs)("div",{className:"jsx-1460817636 flex flex-col mb-4",children:[(0,x.jsxs)("div",{className:"jsx-1460817636 flex items-center justify-between mb-2",children:[(0,x.jsx)("label",{className:"jsx-1460817636 text-sm font-medium",children:"Khoảng đệm (Padding)"}),(0,x.jsx)(c.Z,{title:"".concat(p?"Unlink":"Link"),children:(0,x.jsx)(l.ZP,{type:"text",icon:p?(0,x.jsx)(u.Wlb,{size:18}):(0,x.jsx)(u.nL$,{size:18}),onClick:function(){f(function(e){return!e})}})})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto auto auto",gridTemplateColumns:"auto auto auto",justifyContent:"center",alignItems:"center",gap:"10px"},className:"jsx-1460817636 padding-container",children:[(0,x.jsx)("div",{style:{gridRow:"1",gridColumn:"2",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[0],onChange:function(e){return b(e||0,0)},onFocus:function(){return v("top")},onBlur:j,style:{width:"60px"}})}),(0,x.jsx)("div",{style:{gridRow:"2",gridColumn:"1",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[3],onChange:function(e){return b(e||0,3)},onFocus:function(){return v("left")},onBlur:j,style:{width:"60px"}})}),(0,x.jsx)("div",{style:{gridRow:"2",gridColumn:"2",backgroundColor:"#e0e0e0",width:"100px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",border:p&&null!==m?"10px solid #ccc":"1px solid #ccc",position:"relative"},className:"jsx-1460817636 "+"center-block ".concat(p?"":"not-linked"," ").concat("top"===m?"highlight-top":"right"===m?"highlight-right":"bottom"===m?"highlight-bottom":"left"===m?"highlight-left":""),children:"Block"}),(0,x.jsx)("div",{style:{gridRow:"2",gridColumn:"3",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[1],onChange:function(e){return b(e||0,1)},onFocus:function(){return v("right")},onBlur:j,style:{width:"60px"}})}),(0,x.jsx)("div",{style:{gridRow:"3",gridColumn:"2",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[2],onChange:function(e){return b(e||0,2)},onFocus:function(){return v("bottom")},onBlur:j,style:{width:"60px"}})})]}),(0,x.jsx)(i(),{id:"1460817636",children:[".center-block.not-linked.jsx-1460817636{position:relative;}",'.center-block.not-linked.jsx-1460817636::before{content:"";position:absolute;width:100%;height:10px;background-color:transparent;}','.center-block.not-linked.jsx-1460817636::after{content:"";position:absolute;width:10px;height:100%;background-color:transparent;}',".not-linked.highlight-top.jsx-1460817636::before{top:0px;background-color:#ccc;}",".not-linked.highlight-bottom.jsx-1460817636::before{bottom:0px;background-color:#ccc;}",".not-linked.highlight-left.jsx-1460817636::after{left:0px;background-color:#ccc;}",".not-linked.highlight-right.jsx-1460817636::after{right:0px;background-color:#ccc;}"]})]})}},88199:function(e,t,n){"use strict";n.d(t,{Z:function(){return en}});var r=n(27812),a=n(50029),i=n(59499),o=n(16835),s=n(87794),c=n.n(s),l=n(67294),d=n(25593),u=n(99859),x=n(2453),p=n(17788),f=n(78957),h=n(81567),m=n(83622),g=n(72269),b=n(47221),v=n(83062),j=n(38289),y=n(2058),w=n(33299),k=n(54811),N=n(64789),C=n(86548),S=n(48689),A=n(88484),Z=n(84249),T=n(63909),E=n(90072),O=n(46256),P=n(23616),D=n(97533),I=n(18036),R=n(74330),z=n(32983),B=n(71230),M=n(15746),L=n(99611),F=n(25675),_=n.n(F),H=n(52804),U=n(49184),K=n(42016),q=n(85893),W=d.Z.Text,X=[{label:"3:2",value:1.5,description:"Tỷ lệ v\xe0ng, phổ biến trong nhiếp ảnh",width:1200,height:800},{label:"16:9",value:16/9,description:"Widescreen, tối ưu cho Facebook, Zalo, Messenger",width:1200,height:675},{label:"4:3",value:4/3,description:"Truyền thống, ph\xf9 hợp cho ảnh ch\xe2n dung",width:1200,height:900}],V=function(e){var t,n=e.visible,r=e.imageSrc,i=e.onComplete,o=e.onCancel,s=(0,l.useRef)(null),d=(0,l.useState)(X[0].value),u=d[0],f=d[1],h=(0,l.useState)(!1),m=h[0],g=h[1],b=(0,l.useState)(X[0]),v=b[0],j=b[1],y=function(e){var t;j(e),f(e.value),null!==(t=s.current)&&void 0!==t&&t.cropper&&s.current.cropper.setAspectRatio(e.value)},w=(t=(0,a.Z)(c().mark(function e(){var t,n,r,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=s.current)&&void 0!==t&&t.cropper){e.next=3;break}return x.ZP.error("Vui l\xf2ng chọn v\xf9ng cắt ảnh"),e.abrupt("return");case 3:return g(!0),e.prev=4,n=s.current.cropper.getData(!0),r="crop=".concat(n.x,",").concat(n.y,",").concat(n.width,",").concat(n.height,"&resize=").concat(800,"x"),a="".concat(r),e.next=11,i(a);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Error processing image:",e.t0),x.ZP.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh");case 17:return e.prev=17,g(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[4,13,17,20]])})),function(){return t.apply(this,arguments)});return(0,q.jsx)(p.Z,{title:(0,q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,q.jsx)("span",{className:"text-blue-600 text-lg",children:"✂️"}),(0,q.jsx)("span",{className:"font-semibold",children:"Cắt ảnh thumbnail"})]}),open:n,onOk:w,onCancel:o,okText:"Lưu thay đổi",cancelText:"Hủy bỏ",width:800,okButtonProps:{loading:m,disabled:m,className:"bg-blue-500 hover:bg-blue-600"},cancelButtonProps:{disabled:m,className:"border-gray-300 text-gray-600 hover:border-gray-400"},children:(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg border border-purple-200 hidden md:block",children:(0,q.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,q.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,q.jsx)("span",{className:"text-purple-600 text-lg",children:"\uD83D\uDCA1"})}),(0,q.jsxs)("div",{className:"flex-1",children:[(0,q.jsx)(W,{className:"text-sm font-medium text-purple-800 mb-2 block",children:"Hướng dẫn sử dụng"}),(0,q.jsxs)("div",{className:"space-y-2 text-xs text-purple-700",children:[(0,q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,q.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,q.jsx)("span",{children:"Thumbnail sẽ được cắt theo tỉ lệ đ\xe3 chọn để tối ưu hiển thị"})]}),(0,q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,q.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,q.jsx)("span",{children:"K\xe9o v\xe0 điều chỉnh khung h\xecnh để chọn v\xf9ng ảnh mong muốn"})]})]})]})]})}),(0,q.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 rounded-lg border border-blue-100",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,q.jsx)(W,{className:"text-sm font-medium text-gray-700",children:"\uD83D\uDCD0 Tỉ lệ khung h\xecnh"}),(0,q.jsx)("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full",children:v.label})]}),(0,q.jsx)("div",{className:"grid grid-cols-3 gap-2",children:X.map(function(e){return(0,q.jsxs)("div",{className:"relative cursor-pointer rounded-md border transition-all duration-200 hover:shadow-sm ".concat(v.value===e.value?"border-blue-500 bg-blue-500 text-white shadow-md":"border-gray-200 bg-white hover:border-blue-300"),onClick:function(){return y(e)},children:[(0,q.jsxs)("div",{className:"p-2 text-center",children:[(0,q.jsx)("div",{className:"text-base font-semibold mb-0.5 ".concat(v.value===e.value?"text-white":"text-gray-800"),children:e.label}),(0,q.jsxs)("div",{className:"text-xs ".concat(v.value===e.value?"text-blue-100":"text-gray-500"),children:[e.width,"\xd7",e.height]})]}),v.value===e.value&&(0,q.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center border border-white",children:(0,q.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,q.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},e.value)})})]}),r&&(0,q.jsx)("div",{className:"flex justify-center",children:(0,q.jsx)("div",{className:"crop-wrapper",children:(0,q.jsx)(K.f,{ref:s,src:r,style:{width:"100%",height:"50vh",maxHeight:"500px"},aspectRatio:u,responsive:!0,guides:!0,preview:".img-preview",viewMode:1,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCropArea:1,rotatable:!1,scalable:!1,zoomable:!1,zoomOnTouch:!1,zoomOnWheel:!1})})})]})})},Y=n(7764),Q=d.Z.Text,G=function(e){var t,n,i,s=e.viewAs,d=(0,E.X2)(),f=d.settings,h=d.setTitle,g=d.setThumbnail,b=(0,l.useState)(!1),v=b[0],y=b[1],w=(0,l.useState)(!1),k=w[0],N=w[1],S=(0,l.useState)(!1),A=S[0],T=S[1],O=(0,l.useState)(null),P=O[0],D=O[1],I=(0,l.useState)([]),F=I[0],K=I[1],W=(0,l.useState)(!1),X=W[0],G=W[1],J=(0,l.useRef)({}),$=u.Z.useForm(),ee=(0,o.Z)($,1)[0],et=(0,H.$)(function(e){return e.refreshTrigger});(0,l.useEffect)(function(){ee.setFieldsValue({title:f.title||""})},[f.title,ee]);var en=function(){y(!0)},er=function(){y(!1)},ea=(t=(0,a.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.validateFields();case 3:h(e.sent.title),y(!1),x.ZP.success("Đ\xe3 cập nhật c\xe0i đặt trang"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error saving settings:",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return t.apply(this,arguments)}),ei=function(){N(!1)},eo=(n=(0,a.Z)(c().mark(function e(t){var n,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:try{n="".concat(P.url,"?").concat(t),r=(0,Z.cb)(n),g(r),x.ZP.success("Đ\xe3 cập nhật thumbnail cho trang"),T(!1),D(null)}catch(e){console.error("Error processing cropped image:",e),x.ZP.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh đ\xe3 cắt")}case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),es=function(e){D(e),T(!0),ei()},ec=(i=(0,a.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(G(!0),e.prev=1,!s){e.next=8;break}return e.next=5,(0,U.oJ)(s);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,(0,U.ZQ)();case 10:t=e.sent;case 11:K(el(t)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),x.ZP.error("Failed to load photos");case 19:return e.prev=19,G(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[1,15,19,22]])})),function(){return i.apply(this,arguments)}),el=function(e){return(0,r.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){k&&ec()},[et,k]);var ed=(F.reduce(function(e,t){return e+(t.fileSize||0)},0)/1073741824).toFixed(4),eu=f.thumbnailKey?(0,Z.eQ)(f.thumbnailKey):"".concat(Y.Z.CDN_URL,"/images/cinelove-default-thumbnail.jpg"),ex=f.title||"Chưa c\xf3 ti\xeau đề";return(0,q.jsxs)("div",{className:"page-title-thumbnail-setting",children:[(0,q.jsxs)("div",{className:"mb-6",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,q.jsx)(Q,{strong:!0,className:"text-base",children:"Bản xem trước"}),(0,q.jsx)(m.ZP,{type:"primary",icon:(0,q.jsx)(C.Z,{}),onClick:en,size:"small",children:"Chỉnh sửa"})]}),(0,q.jsxs)("div",{className:"border mt-2 border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow",onClick:en,children:[(0,q.jsx)("div",{className:"relative w-full h-auto bg-gray-100",children:(0,q.jsx)("img",{src:eu,alt:"Page thumbnail",className:"object-cover w-full h-full"})}),(0,q.jsx)("div",{className:"p-2",children:(0,q.jsx)(Q,{strong:!0,className:"text-lg block mb-1 line-clamp-2",children:ex})})]}),(0,q.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Đ\xe2y l\xe0 c\xe1ch trang của bạn sẽ hiển thị khi được chia sẻ tr\xean Facebook, Zalo, Messenger hoặc c\xe1c mạng x\xe3 hội kh\xe1c."})]}),(0,q.jsx)(p.Z,{title:"C\xe0i đặt ti\xeau đề v\xe0 h\xecnh đại diện",open:v,onCancel:er,footer:[(0,q.jsx)(m.ZP,{onClick:er,children:"Hủy"},"back"),(0,q.jsx)(m.ZP,{type:"primary",onClick:ea,children:"Lưu thay đổi"},"submit")],width:600,children:(0,q.jsxs)(u.Z,{form:ee,layout:"vertical",className:"mt-4",children:[(0,q.jsx)(u.Z.Item,{name:"title",label:"Ti\xeau đề trang",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề trang"}],children:(0,q.jsx)(j.Z,{placeholder:"VD: Cine & Love Wedding",maxLength:100,showCount:!0})}),(0,q.jsx)(u.Z.Item,{label:"H\xecnh đại diện",children:(0,q.jsxs)("div",{className:"space-y-3",children:[(0,q.jsxs)("div",{className:"flex items-center justify-center flex-col space-x-3",children:[(0,q.jsx)("div",{className:"h-48 relative border border-gray-200 rounded-md overflow-hidden flex-shrink-0 m-auto",children:(0,q.jsx)("img",{src:eu,alt:"Current thumbnail",className:"object-cover w-full h-full"})}),(0,q.jsx)("div",{className:"flex-1",children:(0,q.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Tỉ lệ khuyến nghị: 16:9"})})]}),(0,q.jsx)(m.ZP,{type:"default",icon:(0,q.jsx)(L.Z,{}),onClick:function(){ec(),N(!0)},className:"w-full",children:"Chọn h\xecnh đại diện kh\xe1c"}),(0,q.jsx)("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Ảnh sẽ được cắt theo tỉ lệ được chọn (4:3, 16:9, 3:2) để tối ưu hiển thị"})]})})]})}),(0,q.jsx)(p.Z,{title:(0,q.jsxs)("div",{children:[(0,q.jsx)("div",{children:"Chọn h\xecnh đại diện"}),(0,q.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Sau khi chọn, ảnh sẽ được cắt theo tỉ lệ mong muốn (4:3, 16:9, 3:2)"})]}),open:k,onCancel:ei,footer:[(0,q.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Tổng ",F.length," ảnh (",ed," GB)"]},"info"),(0,q.jsx)(m.ZP,{onClick:ei,children:"Hủy"},"back")],width:600,styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:X?(0,q.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,q.jsx)(R.Z,{tip:"Đang tải..."})}):0===F.length?(0,q.jsx)(z.Z,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,q.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,q.jsx)(B.Z,{gutter:[16,16],style:{marginBottom:"16px"},children:F.map(function(e){return(0,q.jsx)(M.Z,{xs:12,sm:8,md:6,lg:6,xl:6,children:(0,q.jsx)("div",{className:"user-upload-item cursor-pointer",onClick:function(){return es({fileKey:e.fileKey,url:(0,Z.eQ)(e.fileKey)})},children:(0,q.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 hover:scale-[1.02]",children:(0,q.jsx)(_(),{unoptimized:!0,src:(0,Z.VM)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){return J.current[e.fileId]=t}})})})},e.fileId)})})})}),P&&(0,q.jsx)(V,{visible:A,imageSrc:P.url,onComplete:eo,onCancel:function(){T(!1),D(null)}})]})};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee=d.Z.Text,et=["C\xf4 d\xe2u","Ch\xfa rể","Ban tổ chức","Người nhận"],en=function(e){var t,n,s,d,R,z,B=e.onChange,M=e.viewAs,L=(0,E.X2)(),F=L.settings,_=L.setShowBottomToolbar,H=L.setStatus,U=L.setQRBankAccounts,K=L.setHideWatermark,W=L.setCategoryId,X=L.setBottomToolbarComponent,V=(0,w.useSession)().data,Y=(null==V?void 0:null===(d=V.user)||void 0===d?void 0:d.plan)||"free",Q=(0,O.TN)().pageData,J=(0,l.useState)(!1),en=J[0],er=J[1],ea=(0,l.useState)(null),ei=ea[0],eo=ea[1],es=(0,l.useState)([]),ec=es[0],el=es[1],ed=u.Z.useForm(),eu=(0,o.Z)(ed,1)[0],ex=(0,l.useState)(""),ep=ex[0],ef=ex[1],eh=(0,l.useState)(!1),em=eh[0],eg=eh[1];(0,l.useEffect)(function(){F.qrBankAccounts&&el(F.qrBankAccounts.map(function(e){return $($({},e),{},{id:e.id||Date.now().toString()})}))},[F.qrBankAccounts]);var eb=function(e,t){if("free"===Y){if("showBottomToolbar"===e&&!0!==t){x.ZP.warning("T\xf9y chỉnh thanh c\xf4ng cụ dưới chỉ d\xe0nh cho g\xf3i Basic+");return}if("hideWatermark"===e&&!0===t){x.ZP.warning("X\xf3a watermark chỉ d\xe0nh cho g\xf3i Basic+");return}if("qrBankAccounts"===e&&t&&t.length>0){x.ZP.warning("T\xednh năng QR Bank chỉ d\xe0nh cho g\xf3i Basic+");return}}var n=$({},F);"showBottomToolbar"===e?_((n="boolean"==typeof t?$($({},F),{},{showBottomToolbar:{enabled:t,components:{comments:t,gifts:t,likes:t,qrCode:t}}}):$($({},F),{},(0,i.Z)({},e,t))).showBottomToolbar):(n=$($({},F),{},(0,i.Z)({},e,t)),"status"===e?H(t):"qrBankAccounts"===e?U(t):"hideWatermark"===e?K(t):"categoryId"===e&&W(t)),B&&B(n)},ev=function(e,t){X(e,t);var n=(0,P.q)(F.showBottomToolbar),r=$($({},F),{},{showBottomToolbar:$($({},n),{},{components:$($({},n.components),{},(0,i.Z)({},e,t))})});B&&B(r)},ej=function(e){if("free"===Y){x.ZP.warning("T\xednh năng QR Bank chỉ d\xe0nh cho g\xf3i Basic+");return}if(!e&&ec.length>=2){x.ZP.warning("Bạn đ\xe3 đạt giới hạn tối đa 2 t\xe0i khoản QR Bank");return}if(e){eo(e);var t=ec.find(function(t){return t.id===e});t&&(eu.setFieldsValue({name:t.name,accountNumber:t.accountNumber,bank:t.bank,displayName:t.displayName}),t.qrCode?ef(t.qrCode):ef(""))}else eo(null),eu.resetFields(),ef(""),eu.setFieldsValue({displayName:et[0]});er(!0)},ey=(t=(0,a.Z)(c().mark(function e(t){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type.startsWith("image/")){e.next=4;break}return x.ZP.error("Vui l\xf2ng chỉ tải l\xean h\xecnh ảnh!"),e.abrupt("return",!1);case 4:return e.prev=4,eg(!0),(n=new FormData).append("file",t),e.next=10,T.Z.post("/file-upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 10:ef(e.sent.data.fileKey),x.ZP.success("Tải l\xean m\xe3 QR th\xe0nh c\xf4ng"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error("Error uploading QR image:",e.t0),x.ZP.error("Lỗi khi tải l\xean m\xe3 QR");case 20:return e.prev=20,eg(!1),e.finish(20);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,null,[[4,16,20,23]])})),function(e){return t.apply(this,arguments)}),ew=(n=(0,a.Z)(c().mark(function e(){var t,n,a,i,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eu.validateFields();case 3:n=(t=e.sent).displayName,"custom"===t.displayName&&t.customDisplayName&&(n=t.customDisplayName),a=(0,r.Z)(ec),i={name:t.name,accountNumber:t.accountNumber,bank:t.bank,qrCode:ep,displayName:n,id:ei||Date.now().toString()},ei?(o=a.findIndex(function(e){return e.id===ei}))>=0&&(a[o]=i):a.push(i),el(a),eb("qrBankAccounts",a),er(!1),x.ZP.success("Đ\xe3 lưu th\xf4ng tin t\xe0i khoản ".concat(n)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error saving QR bank account:",e.t0),x.ZP.error("C\xf3 lỗi xảy ra khi lưu th\xf4ng tin t\xe0i khoản");case 19:case"end":return e.stop()}},e,null,[[0,15]])})),function(){return n.apply(this,arguments)}),ek=function(e){var t=ec.find(function(t){return t.id===e});t&&p.Z.confirm({title:"X\xe1c nhận x\xf3a",content:"Bạn c\xf3 chắc chắn muốn x\xf3a th\xf4ng tin t\xe0i khoản ".concat(t.displayName,"?"),okText:"X\xf3a",okType:"danger",cancelText:"Hủy",onOk:function(){var t=ec.filter(function(t){return t.id!==e});el(t),eb("qrBankAccounts",t),x.ZP.success("Đ\xe3 x\xf3a th\xf4ng tin t\xe0i khoản")}})},eN=(0,l.useState)([]),eC=eN[0],eS=eN[1],eA=(0,l.useState)(!1),eZ=eA[0],eT=eA[1];(0,l.useEffect)(function(){eE()},[]);var eE=(s=(0,a.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return eT(!0),e.prev=1,e.next=4,(0,D.tG)();case 4:(t=e.sent).success?eS(t.categories):x.ZP.error("Kh\xf4ng thể tải danh s\xe1ch danh mục"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching categories:",e.t0),x.ZP.error("C\xf3 lỗi xảy ra khi tải danh s\xe1ch danh mục");case 12:return e.prev=12,eT(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])})),function(){return s.apply(this,arguments)});return(0,q.jsxs)("div",{className:"page-setting",children:[(0,q.jsxs)(f.Z,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)(ee,{strong:!0,children:"Danh mục"})," ",(0,q.jsx)("span",{className:"text-red-500",children:"*"}),(0,q.jsx)(h.Z,{placeholder:"Chọn danh mục",loading:eZ,style:{width:"100%",marginTop:"8px"},value:F.categoryId,onChange:function(e){return eb("categoryId",e)},children:eC.map(function(e){return(0,q.jsx)(h.Z.Option,{value:e.id,children:e.name},e.id)})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)(ee,{strong:!0,children:"Trạng th\xe1i"}),(0,q.jsxs)(h.Z,{value:F.status||"published",onChange:function(e){return eb("status",e)},style:{width:"100%",marginTop:"8px"},children:[(0,q.jsx)(h.Z.Option,{value:"draft",children:"Nh\xe1p"}),(0,q.jsx)(h.Z.Option,{value:"published",children:"C\xf4ng khai"})]}),(0,q.jsx)("div",{className:"text-xs mt-1 block text-gray-500",children:'Chỉ khi ở trạng th\xe1i "C\xf4ng khai", trang mới c\xf3 thể xem được từ URL của trang.'})]}),(0,q.jsx)(G,{viewAs:M}),"free"===Y?(0,q.jsxs)("div",{className:"border border-blue-200 rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50",children:[(0,q.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsxs)(ee,{strong:!0,className:"text-lg",children:["T\xednh năng n\xe2ng cao"," ",(0,q.jsx)(k.Z,{style:{color:"#1677ff",fontSize:"18px",marginLeft:"6px"}})]}),(0,q.jsx)("div",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium ml-3",children:"Basic+"})]})}),(0,q.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"N\xe2ng cấp l\xean g\xf3i Basic+ để sử dụng c\xe1c t\xednh năng cao cấp sau:"}),(0,q.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,q.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,q.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,q.jsxs)("div",{className:"flex-1",children:[(0,q.jsx)(ee,{strong:!0,className:"text-base",children:"X\xf3a watermark"}),(0,q.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:'X\xf3a d\xf2ng "Made by Cinelove" để tạo trang web ho\xe0n to\xe0n ri\xeang tư'}),(0,q.jsxs)("div",{className:"mt-2 text-sm text-gray-500 italic",children:['"Made by',(0,q.jsx)("a",{href:"https://cinelove.me",className:"ml-1 font-semibold",children:"Cinelove"}),'"']})]})]}),(0,q.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,q.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,q.jsxs)("div",{className:"flex-1",children:[(0,q.jsx)(ee,{strong:!0,className:"text-base",children:"T\xf9y chỉnh thanh c\xf4ng cụ dưới"}),(0,q.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Bật/tắt hiển thị thanh c\xf4ng cụ (lời ch\xfac, tặng qu\xe0, th\xedch...)"}),(0,q.jsx)("div",{className:"mt-2 border border-gray-200 rounded-md overflow-hidden opacity-60",children:(0,q.jsx)("img",{src:"/images/bottomToolbar.png",alt:"Thanh c\xf4ng cụ dưới",className:"w-full object-cover",style:{maxHeight:"50px"}})})]})]}),(0,q.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,q.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,q.jsxs)("div",{className:"flex-1",children:[(0,q.jsx)(ee,{strong:!0,className:"text-base",children:"QR Bank"}),(0,q.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng để kh\xe1ch mời c\xf3 thể chuyển khoản trực tiếp"})]})]})]}),(0,q.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2",children:[(0,q.jsxs)(ee,{type:"secondary",className:"text-xs",children:["G\xf3i hiện tại:"," ",(0,q.jsx)("span",{className:"font-semibold",children:Y.toUpperCase()})]}),(0,q.jsx)(m.ZP,{type:"primary",size:"large",onClick:function(){window.open("/pricing-plans?upgradeSource=advanced-features-page-setting","_blank")},className:"h-10",children:"N\xe2ng cấp l\xean Basic+"})]})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)(ee,{strong:!0,style:{position:"relative"},children:["X\xf3a watermark"," ",(0,q.jsx)(k.Z,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,q.jsx)(g.Z,{checked:null!==(R=F.hideWatermark)&&void 0!==R&&R,onChange:function(e){return eb("hideWatermark",e)}})]}),(0,q.jsxs)("div",{className:"mt-2 text-sm text-gray-600",style:{opacity:F.hideWatermark?.4:1,pointerEvents:F.hideWatermark?"none":"auto"},children:['"Made by',(0,q.jsx)("a",{href:"https://cinelove.me",className:"ml-1 font-semibold",children:"Cinelove"}),'"']})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)(ee,{strong:!0,style:{position:"relative"},children:["Hiển thị thanh c\xf4ng cụ"," ",(0,q.jsx)(k.Z,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,q.jsx)(g.Z,{checked:(0,P.he)(F.showBottomToolbar),onChange:function(e){return eb("showBottomToolbar",e)}})]}),(0,q.jsx)("div",{className:"text-sm mt-1 block text-gray-500",children:"Bao gồm phần gửi lời ch\xfac, tặng qu\xe0, th\xedch,..."}),(0,q.jsx)("div",{className:"mt-2 border border-gray-200 rounded-md overflow-hidden",children:(0,q.jsx)("img",{src:"/images/bottomToolbar.png",alt:"Thanh c\xf4ng cụ dưới",className:"w-full object-cover",style:{maxHeight:"60px"}})}),(0,P.he)(F.showBottomToolbar)&&(0,q.jsx)(b.Z,{size:"small",className:"mt-4",items:[{key:"1",label:(0,q.jsx)("div",{className:"font-semibold",children:"T\xf9y chọn thanh c\xf4ng cụ"}),children:(0,q.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,q.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full ".concat((0,P.Y0)(F.showBottomToolbar,E.fs.COMMENTS)?"":"opacity-50")}),(0,q.jsx)("div",{className:(0,P.Y0)(F.showBottomToolbar,E.fs.COMMENTS)?"":"opacity-50",children:"Lời ch\xfac"})]}),(0,q.jsx)(g.Z,{size:"small",checked:(0,P.Y0)(F.showBottomToolbar,E.fs.COMMENTS),onChange:function(e){return ev(E.fs.COMMENTS,e)}})]}),(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,q.jsx)("div",{className:"w-3 h-3 bg-pink-500 rounded-full ".concat((0,P.Y0)(F.showBottomToolbar,E.fs.GIFTS)?"":"opacity-50")}),(0,q.jsx)("div",{className:(0,P.Y0)(F.showBottomToolbar,E.fs.GIFTS)?"":"opacity-50",children:"Tặng qu\xe0"})]}),(0,q.jsx)(g.Z,{size:"small",checked:(0,P.Y0)(F.showBottomToolbar,E.fs.GIFTS),onChange:function(e){return ev(E.fs.GIFTS,e)}})]}),(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,q.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full ".concat((0,P.Y0)(F.showBottomToolbar,E.fs.LIKES)?"":"opacity-50")}),(0,q.jsx)("div",{className:(0,P.Y0)(F.showBottomToolbar,E.fs.LIKES)?"":"opacity-50",children:"Th\xedch"})]}),(0,q.jsx)(g.Z,{size:"small",checked:(0,P.Y0)(F.showBottomToolbar,E.fs.LIKES),onChange:function(e){return ev(E.fs.LIKES,e)}})]}),(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,q.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full ".concat((0,P.Y0)(F.showBottomToolbar,E.fs.QR_CODE)?"":"opacity-50")}),(0,q.jsx)("div",{className:(0,P.Y0)(F.showBottomToolbar,E.fs.QR_CODE)?"":"opacity-50",children:"QR Bank"})]}),(0,q.jsx)(g.Z,{size:"small",checked:(0,P.Y0)(F.showBottomToolbar,E.fs.QR_CODE),onChange:function(e){return ev(E.fs.QR_CODE,e)}})]}),(0,q.jsx)("div",{className:"text-sm mt-2 block text-gray-500",children:"Chọn c\xe1c phần muốn hiển thị trong thanh c\xf4ng cụ"})]})}]})]}),(0,P.he)(F.showBottomToolbar)&&(0,P.Y0)(F.showBottomToolbar,E.fs.QR_CODE)&&(0,q.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsxs)(ee,{strong:!0,style:{position:"relative"},children:["QR Bank"," ",(0,q.jsx)(k.Z,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,q.jsx)(v.Z,{title:ec.length>=2?"Chỉ c\xf3 thể th\xeam tối đa 2 t\xe0i khoản QR Bank":null,children:(0,q.jsx)(m.ZP,{type:"primary",size:"small",icon:(0,q.jsx)(N.Z,{}),onClick:function(){return ej()},disabled:ec.length>=2,children:"Th\xeam t\xe0i khoản"})})]}),(0,q.jsx)("div",{className:"text-sm mt-1 block text-gray-500",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng để kh\xe1ch mời c\xf3 thể chuyển tiền mừng (tối đa 2 t\xe0i khoản)"}),ec.length>0?(0,q.jsx)("div",{className:"mt-3 grid grid-cols-1 gap-3",children:ec.map(function(e){return(0,q.jsx)("div",{className:"border border-gray-200 rounded-md p-3 hover:shadow-sm transition-shadow",children:(0,q.jsxs)("div",{className:"flex justify-between items-start",children:[(0,q.jsxs)("div",{className:"flex items-start space-x-3",children:[e.qrCode&&(0,q.jsx)("div",{className:"w-16 h-16 relative border border-gray-200 rounded-md overflow-hidden",children:(0,q.jsx)("img",{src:(0,Z.eQ)(e.qrCode),alt:"QR Code",className:"w-full h-full object-contain"})}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)(ee,{strong:!0,className:"text-base",children:e.displayName}),(0,q.jsxs)(ee,{type:"secondary",className:"text-xs ml-2",children:["(",e.bank,")"]})]}),(0,q.jsx)(ee,{className:"text-sm block mt-1",children:e.name}),(0,q.jsx)(ee,{className:"text-sm font-mono mt-1",children:e.accountNumber})]})]}),(0,q.jsxs)("div",{className:"flex space-x-1",children:[(0,q.jsx)(m.ZP,{type:"text",size:"small",icon:(0,q.jsx)(C.Z,{}),onClick:function(){return ej(e.id)}}),(0,q.jsx)(m.ZP,{type:"text",size:"small",danger:!0,icon:(0,q.jsx)(S.Z,{}),onClick:function(){return ek(e.id)}})]})]})},e.id)})}):(0,q.jsx)("div",{className:"mt-3 border border-dashed border-gray-200 rounded-md p-4 text-center",children:(0,q.jsx)(ee,{type:"secondary",children:"Chưa c\xf3 th\xf4ng tin t\xe0i khoản"})})]})]}),(null==Q?void 0:Q.createdAt)&&(null==Q?void 0:Q.expirationDate)&&(0,q.jsxs)("div",{className:"mt-4",children:[(0,q.jsx)(ee,{strong:!0,children:"Thời hạn trang"}),(0,q.jsx)(I.h,{pageData:{createdAt:Q.createdAt,expirationDate:Q.expirationDate},userPlan:(null==V?void 0:null===(z=V.user)||void 0===z?void 0:z.plan)||"free",showPlanInfo:!1,className:"bg-white p-4 rounded-lg border"})]})]}),(0,q.jsx)(p.Z,{title:ei?"Cập nhật th\xf4ng tin t\xe0i khoản":"Th\xeam t\xe0i khoản mới",open:en,onCancel:function(){return er(!1)},footer:[(0,q.jsx)(m.ZP,{onClick:function(){return er(!1)},children:"Hủy"},"back"),(0,q.jsx)(m.ZP,{type:"primary",loading:em,onClick:ew,children:"Lưu"},"submit")],children:(0,q.jsxs)(u.Z,{form:eu,layout:"vertical",className:"mt-4",children:[(0,q.jsx)(u.Z.Item,{name:"displayName",label:"T\xean hiển thị",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean hiển thị"}],children:(0,q.jsxs)(h.Z,{placeholder:"Chọn hoặc nhập t\xean hiển thị",children:[et.map(function(e){return(0,q.jsx)(h.Z.Option,{value:e,children:e},e)}),(0,q.jsx)(h.Z.Option,{value:"custom",children:"T\xf9y chỉnh..."})]})}),(0,q.jsx)(u.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.displayName!==t.displayName},children:function(e){return"custom"===(0,e.getFieldValue)("displayName")?(0,q.jsx)(u.Z.Item,{name:"customDisplayName",label:"T\xean hiển thị t\xf9y chỉnh",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean hiển thị t\xf9y chỉnh"}],children:(0,q.jsx)(j.Z,{placeholder:"Nhập t\xean hiển thị"})}):null}}),(0,q.jsx)(u.Z.Item,{name:"name",label:"T\xean người nhận",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean người nhận"}],children:(0,q.jsx)(j.Z,{placeholder:"Nguyễn Văn A"})}),(0,q.jsx)(u.Z.Item,{name:"bank",label:"T\xean ng\xe2n h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean ng\xe2n h\xe0ng"}],children:(0,q.jsx)(j.Z,{placeholder:"Vietcombank"})}),(0,q.jsx)(u.Z.Item,{name:"accountNumber",label:"Số t\xe0i khoản",rules:[{required:!0,message:"Vui l\xf2ng nhập số t\xe0i khoản"}],children:(0,q.jsx)(j.Z,{placeholder:"1234567890"})}),(0,q.jsx)(u.Z.Item,{label:"M\xe3 QR chuyển khoản",required:!0,help:"Vui l\xf2ng tải l\xean h\xecnh ảnh m\xe3 QR của t\xe0i khoản ng\xe2n h\xe0ng",children:(0,q.jsx)("div",{className:"flex flex-col items-center",children:ep?(0,q.jsxs)("div",{className:"mb-3 relative w-40 h-40 border border-gray-200 rounded-md overflow-hidden",children:[(0,q.jsx)("img",{src:(0,Z.eQ)(ep),alt:"QR Code Preview",className:"w-full h-full object-contain"}),(0,q.jsx)("div",{className:"absolute top-1 right-1 flex",children:(0,q.jsx)(m.ZP,{type:"text",danger:!0,icon:(0,q.jsx)(S.Z,{}),className:"bg-white/70 hover:bg-white",onClick:function(){if(!ep){x.ZP.error("Kh\xf4ng thể x\xe1c định m\xe3 tệp tin");return}var e,t,n=null===(t=ep.split("/").pop())||void 0===t?void 0:t.split(".")[0];p.Z.confirm({title:"X\xf3a ảnh QR",content:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh QR n\xe0y v\xe0 tải ảnh mới kh\xf4ng?",okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:(e=(0,a.Z)(c().mark(function e(){var t,a,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.Z.delete("/file-upload/".concat(n));case 3:ef(""),ei&&(a=(t=(0,r.Z)(ec)).findIndex(function(e){return e.id===ei}))>=0&&(i=$($({},t[a]),{},{qrCode:""}),t[a]=i,el(t),eb("qrBankAccounts",t)),x.ZP.success("Đ\xe3 x\xf3a ảnh QR th\xe0nh c\xf4ng"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error deleting QR image:",e.t0),x.ZP.error("Lỗi khi x\xf3a ảnh QR");case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return e.apply(this,arguments)})})}})})]}):(0,q.jsx)(y.Z,{name:"qrCode",accept:"image/*",showUploadList:!1,beforeUpload:ey,className:"mb-3",children:(0,q.jsx)(m.ZP,{icon:(0,q.jsx)(A.Z,{}),loading:em,children:em?"Đang tải...":"Tải l\xean m\xe3 QR"})})})})]})})]})}},99621:function(e,t,n){"use strict";n.d(t,{J:function(){return o}}),n(67294);var r=n(72269),a=n(67623),i=n(85893),o=function(e){var t=e.flipable,n=(0,a.Zo)(function(e){return{propValue:{rotation:e.data.props.rotation||0,flipX:e.data.props.flipX||!1,flipY:e.data.props.flipY||!1}}}),o=n.actions.setProp,s=n.propValue,c=function(e){return function(t){o(function(n){"X"===e?n.flipX=t:n.flipY=t})}};return(0,i.jsx)("div",{children:void 0!==t&&t&&(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("label",{className:"text-sm font-medium mr-2",children:"Lật ngang:"}),(0,i.jsx)(r.Z,{checked:s.flipX,onChange:c("X")})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("label",{className:"text-sm font-medium mr-2",children:"Lật dọc:"}),(0,i.jsx)(r.Z,{checked:s.flipY,onChange:c("Y")})]})]})})}},42179:function(e,t,n){"use strict";n.d(t,{C:function(){return x},b:function(){return u}});var r=n(59499);n(67294);var a=n(67623),i=n(72269),o=n(81567),s=n(86125),c=n(33299),l=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u={effectType:"fade-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out",effectEnabled:!1},x=function(){var e,t=(0,c.useSession)().data,n=(0,a.Zo)(function(e){return{transition:e.data.props.transition||u}}),x=n.actions.setProp,p=n.transition||u,f=function(e){e.transition||(e.transition=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u))},h=(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.plan)==="free";return(0,l.jsxs)("div",{className:"space-y-4",children:[h&&(0,l.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,l.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,l.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng n\xe2ng cao:"})," Hiệu ứng chuyển động chỉ d\xe0nh cho g\xf3i Basic trở l\xean.",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=transition-setting","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("label",{className:"text-sm font-medium ".concat(h?"text-gray-500":""),children:"Bật hiệu ứng"}),(0,l.jsx)(i.Z,{checked:p.effectEnabled,onChange:function(e){x(function(t){f(t),t.transition.effectEnabled=e})},disabled:h})]}),p.effectEnabled&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:"Loại hiệu ứng"}),(0,l.jsx)(o.Z,{value:p.effectType,onChange:function(e){x(function(t){f(t),t.transition.effectType=e})},style:{width:"100%"},options:[{value:"none",label:"Kh\xf4ng c\xf3"},{value:"fade-in",label:"Fade In"},{value:"slide-up",label:"Slide Up"},{value:"slide-down",label:"Slide Down"},{value:"slide-left",label:"Slide Left"},{value:"slide-right",label:"Slide Right"},{value:"scale-in",label:"Scale In"},{value:"scale-out",label:"Scale Out"},{value:"rotate-in",label:"Rotate In"},{value:"bounce-in",label:"Bounce In"},{value:"flip-in",label:"Flip In"},{value:"zoom-in",label:"Zoom In"}],disabled:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:["Thời gian: ",p.effectDuration,"s"]}),(0,l.jsx)(s.Z,{value:p.effectDuration,onChange:function(e){x(function(t){f(t),t.transition.effectDuration=e})},min:.1,max:5,step:.1,disabled:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:["Độ trễ: ",p.effectDelay,"s"]}),(0,l.jsx)(s.Z,{value:p.effectDelay,onChange:function(e){x(function(t){f(t),t.transition.effectDelay=e})},min:0,max:3,step:.1,disabled:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:"Kiểu chuyển động"}),(0,l.jsx)(o.Z,{value:p.effectEasing,onChange:function(e){x(function(t){f(t),t.transition.effectEasing=e})},style:{width:"100%"},options:[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"},{value:"cubic-bezier(0.4, 0, 0.2, 1)",label:"Smooth"},{value:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",label:"Bounce"},{value:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",label:"Elastic"}],disabled:h})]})]})]})}},35959:function(e,t,n){"use strict";n.d(t,{n:function(){return s}}),n(67294);var r=n(67623),a=n(24435),i=n(86125),o=n(85893),s=function(){var e=(0,r.Zo)(function(e){return{propValue:{opacity:e.data.props.opacity||1}}}),t=e.actions.setProp,n=e.propValue,s=function(e){t(function(t){t.opacity=e},500)};return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("label",{className:"text-sm font-medium",children:"Trong suốt"}),(0,o.jsx)(a.Z,{min:0,max:1,step:.01,value:n.opacity,onChange:s,style:{width:"70px"}})]}),(0,o.jsx)(i.Z,{min:0,max:1,step:.01,value:n.opacity,onChange:s})]})}},76975:function(e,t,n){"use strict";n.d(t,{Ey:function(){return c},GI:function(){return r},QP:function(){return a},Yx:function(){return i},he:function(){return o},qp:function(){return l},yL:function(){return s}});var r={TYPE_ONE:"ONE",TYPE_TWO:"TWO",NO_STYLE:"NONE"},a={calendarText:"rgb(153, 153, 153)",calendarTheme:"rgb(243, 150, 161)",calendarBackground:"transparent",countdownBackground:"transparent",countdownText:"#fff",countdownTheme:"#000"},i={initPluginWidth:300,calendarWidth:300,calendarHeight:280,countdownWidth:280,countdownHeight:70,mapWidth:320,mapHeight:250,phoneButtonWidth:130,phoneButtonHeight:40,formWidth:300,formHeight:320},o={lat:21.0228148,lng:105.7957638},s=10,c={PLUGIN:"toolbox-plugin",TEXT:"toolbox-text",PHOTO:"toolbox-photo",MATERIAL:"toolbox-material",BACKGROUND:"toolbox-background",MUSIC:"toolbox-music",TEMPLATE:"toolbox-template",EFFECT:"toolbox-effect"},l=200},17901:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(11163),a=n(67294),i=function(){var e=(0,r.useRouter)(),t=(0,a.useState)(),n=t[0],i=t[1];return(0,a.useEffect)(function(){if(e.isReady){var t=e.query.template_id;"new-blank"===t?i(void 0):i(t)}},[e.isReady,e.query.template_id]),n}},24679:function(e,t,n){"use strict";var r=n(67294),a=n(13721),i=n(45423),o=n(41863),s=n(46943),c=n(49989),l=n(22567),d=n(70162),u=n(3473),x=n(33299),p=n(85893);t.Z=function(){var e,t,n=(0,x.useSession)().data,f=(null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.role)==="admin"||(null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.role)==="editor";return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"flex",children:(0,p.jsxs)(a.YE,{className:"fixed menu-sidebar bg-white dark:bg-darkgray z-[10]",children:[(0,p.jsx)("div",{className:"mb-7 px-4 brand-logo",children:(0,p.jsx)(d.Z,{})}),(0,p.jsx)(c.Z,{className:"h-[calc(100vh_-_100px)]",children:(0,p.jsx)(a.YE.Items,{className:"px-4",children:(0,p.jsxs)(a.YE.ItemGroup,{className:"sidebar-nav",children:[u.TZ.map(function(e,t){var n;return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("h5",{className:"text-link text-xs caption",children:(0,p.jsx)("span",{className:"hide-menu",children:e.heading})}),(0,p.jsx)(l.JO,{icon:"solar:menu-dots-bold",className:"text-ld block mx-auto mt-6 leading-6 dark:text-opacity-60 hide-icon",height:18}),null===(n=e.children)||void 0===n?void 0:n.map(function(e,t){return(0,p.jsx)(r.Fragment,{children:e.children?(0,p.jsx)("div",{className:"collpase-items",children:(0,p.jsx)(o.Z,{item:e})}):"DesignNavItem"===e.customComponent?(0,p.jsx)(s.Z,{item:e}):(0,p.jsx)(i.Z,{item:e})},e.id&&t)})]},t)}),f&&u.Zq.map(function(e,t){var n;return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("h5",{className:"text-link text-xs caption mt-6",children:(0,p.jsx)("span",{className:"hide-menu",children:e.heading})}),(0,p.jsx)(l.JO,{icon:"solar:menu-dots-bold",className:"text-ld block mx-auto mt-6 leading-6 dark:text-opacity-60 hide-icon",height:18}),null===(n=e.children)||void 0===n?void 0:n.map(function(e,t){return(0,p.jsx)(r.Fragment,{children:e.children?(0,p.jsx)("div",{className:"collpase-items",children:(0,p.jsx)(o.Z,{item:e})}):(0,p.jsx)(i.Z,{item:e})},e.id&&t)})]},"admin-".concat(t))})]})})})]})})})}},41863:function(e,t,n){"use strict";var r=n(13721),a=n(67294),i=n(45423),o=n(22567),s=n(19042),c=n(98388),l=n(39332),d=n(85893);t.Z=function e(t){var n=t.item,u=(0,l.usePathname)(),x=n.children.find(function(e){return e.url===u});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(r.YE.Collapse,{label:n.name,open:!!x,icon:function(){return(0,d.jsx)(o.JO,{icon:n.icon,height:18})},className:"".concat(x?"!text-primary bg-lightprimary ":""," collapse-menu"),renderChevronIcon:function(e,t){var n=s.kzR;return(0,d.jsx)(n,{"aria-hidden":!0,className:"".concat((0,c.m6)(e.label.icon.open[t?"on":"off"])," drop-icon")})},children:n.children&&(0,d.jsx)(r.YE.ItemGroup,{className:"sidebar-dropdown",children:n.children.map(function(t){return(0,d.jsx)(a.Fragment,{children:t.children?(0,d.jsx)(e,{item:t}):(0,d.jsx)(i.Z,{item:t})},t.id)})})})})}},46943:function(e,t,n){"use strict";n(67294);var r=n(13721),a=n(22567),i=n(82185),o=n(85893);t.Z=function(e){var t=e.item,n=(0,i.G)().openDesignModal;return(0,o.jsx)(r.YE.Item,{href:"#",onClick:function(e){e.preventDefault(),n()},className:"text-link bg-transparent group/link cursor-pointer",children:(0,o.jsxs)("span",{className:"flex gap-3 align-center items-center truncate",children:[t.icon?(0,o.jsx)(a.JO,{icon:t.icon,className:"".concat(t.color),height:18}):(0,o.jsx)("span",{className:"h-[6px] w-[6px] bg-darklink dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary"}),(0,o.jsx)("span",{className:"max-w-36 overflow-hidden hide-menu",children:t.name})]})})}},45423:function(e,t,n){"use strict";var r=n(19848),a=n.n(r);n(67294);var i=n(13721),o=n(22567),s=n(41664),c=n.n(s),l=n(39332),d=n(85893);t.Z=function(e){var t=e.item,n=(0,l.usePathname)();return(0,d.jsxs)(i.YE.Item,{href:t.url,as:c(),className:"".concat(t.url==n?"!text-white bg-primary shadow-active sidebar-active":"text-link bg-transparent group/link "," "),children:[(0,d.jsxs)("span",{className:"jsx-1120437888 flex gap-3 align-center items-center truncate",children:[t.icon?(0,d.jsx)(o.JO,{icon:t.icon,className:"".concat(t.color),height:18}):(0,d.jsx)("span",{className:"jsx-1120437888 "+"".concat(t.url==n?"dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary !bg-primary h-[6px] w-[6px]":"h-[6px] w-[6px] bg-darklink dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary"," ")}),(0,d.jsx)("span",{className:"jsx-1120437888 max-w-36 overflow-hidden hide-menu",children:t.name})]}),(0,d.jsx)(a(),{id:"1120437888",children:[".sidebar-active:hover{background-color:#69b1ff !important;}"]})]})}},3473:function(e,t,n){"use strict";n.d(t,{TZ:function(){return i},Zq:function(){return a},sY:function(){return o}});var r=n(96486),a=[{heading:"ADMIN",children:[{name:"Quản l\xfd thiết kế",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/admin/templates"},{name:"Tạo Trang Cho Người D\xf9ng",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/admin/edit-as"}]}],i=[{heading:"HOME",children:[{name:"Tổng quan",icon:"solar:widget-add-line-duotone",id:(0,r.uniqueId)(),url:"/dashboard"},{name:"G\xf3i dịch vụ của t\xf4i",icon:"solar:crown-line-duotone",id:(0,r.uniqueId)(),url:"/dashboard/my-plan"},{name:"Tạo thiết kế",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/editor/new-blank",customComponent:"DesignNavItem"}]},{heading:"THIẾT KẾ CỦA T\xd4I",children:[{name:"Thiệp online",icon:"solar:clipboard-heart-linear",id:(0,r.uniqueId)(),url:"/pages"},{name:"Website kh\xe1c",icon:"solar:emoji-funny-square-outline",id:(0,r.uniqueId)(),url:"/dashboard/my-custom-web"}]},{heading:"QU\xc0 TẶNG & LỜI CH\xdaC",children:[{name:"Lời ch\xfac",icon:"solar:chat-dots-outline",id:(0,r.uniqueId)(),url:"/dashboard/blessing-box"},{name:"Qu\xe0 tặng",icon:"solar:gift-outline",id:(0,r.uniqueId)(),url:"/dashboard/gifts-overview"}]},{heading:"T\xc0I KHOẢN",children:[{name:"Th\xf4ng tin c\xe1 nh\xe2n",icon:"solar:shield-user-outline",id:(0,r.uniqueId)(),url:"/dashboard/profile"}]},{heading:"HỖ TRỢ",children:[{name:"Đ\xf3ng g\xf3p \xfd kiến",icon:"solar:mailbox-linear",id:(0,r.uniqueId)(),url:"/dashboard/feedback"}]}],o=[{heading:"CHƯA X\xc1C THỰC",children:[{name:"Sảnh chờ",icon:"solar:home-smile-broken",id:(0,r.uniqueId)(),url:"/dashboard/waiting-room"}]}]},80600:function(e,t,n){"use strict";n.d(t,{B9:function(){return x},em:function(){return d},ne:function(){return u}});var r,a,i,o=n(50029),s=n(87794),c=n.n(s),l=n(63909),d=(r=(0,o.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/admin/file-upload");case 3:return t=e.sent,e.abrupt("return",t.data.files||[]);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching admin assets:",e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return r.apply(this,arguments)}),u=(a=(0,o.Z)(c().mark(function e(t){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/admin/file-upload/template/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.files||[]);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching template assets:",e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return a.apply(this,arguments)}),x=(i=(0,o.Z)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.delete("/admin/file-upload/".concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return i.apply(this,arguments)})},97533:function(e,t,n){"use strict";n.d(t,{tG:function(){return l}});var r,a=n(50029),i=n(87794),o=n.n(i);n(8226);var s=n(87066),c=n(7764),l=(r=(0,a.Z)(o().mark(function e(){var t,n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(c.Z.API_URL,"/categories"),e.next=4,s.default.get(t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error fetching all categories:",e.t0),e.abrupt("return",{success:!1,categories:[],message:"Kh\xf4ng thể tải danh s\xe1ch danh mục"});case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return r.apply(this,arguments)})},49184:function(e,t,n){"use strict";n.d(t,{JJ:function(){return p},Vi:function(){return f},ZQ:function(){return u},oJ:function(){return x}});var r,a,i,o,s=n(50029),c=n(87794),l=n.n(c),d=n(63909),u=(r=(0,s.Z)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("/file-upload/user/images");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),x=(a=(0,s.Z)(l().mark(function e(t){var n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.get("/file-upload/user/images-of-user/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),p=(i=(0,s.Z)(l().mark(function e(t){var n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.delete("/file-upload/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),f=(o=(0,s.Z)(l().mark(function e(t,n){var r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.delete("/file-upload/user/images/".concat(t,"?user_id=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)})},49846:function(e,t,n){"use strict";n.d(t,{$:function(){return u},k:function(){return x}});var r,a,i=n(50029),o=n(87794),s=n.n(o),c=n(87066),l=n(7764),d=n(63909),u=(r=(0,i.Z)(s().mark(function e(t,n,r){var a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.default.post("".concat(l.Z.API_URL,"/pages/").concat(t,"/rsvp"),{name:n,willAttend:r});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error submitting RSVP:",e.t0),e.abrupt("return",{success:!1,message:"Failed to submit RSVP"});case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,n){return r.apply(this,arguments)}),x=(a=(0,i.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.get("/pages/".concat(t,"/rsvp"));case 3:return n=e.sent,e.abrupt("return",{success:!0,totalResponses:n.data.totalResponses||0,attending:n.data.attending||0,notAttending:n.data.notAttending||0,attendees:n.data.attendees||[]});case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching authenticated RSVP stats:",e.t0),e.abrupt("return",{success:!1,totalResponses:0,attending:0,notAttending:0,attendees:[],message:"Failed to fetch RSVP stats"});case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return a.apply(this,arguments)})},34392:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(59499),a=n(31993);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={title:"",thumbnail:"",longThumbnail:"",status:"draft",showBottomToolbar:!0,categoryId:"",description:"",tags:[],slug:""},c=(0,a.U)(function(e){return{settings:o({},s),setTitle:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{title:t})}})},setThumbnail:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{thumbnail:t})}})},setLongThumbnail:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{longThumbnail:t})}})},setStatus:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{status:t})}})},setShowBottomToolbar:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{showBottomToolbar:t})}})},setCategoryId:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{categoryId:t})}})},setDescription:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{description:t})}})},setTags:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{tags:t})}})},setSlug:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{slug:t})}})},resetSettings:function(){return e({settings:o({},s)})}}})},90072:function(e,t,n){"use strict";n.d(t,{Kq:function(){return s},X2:function(){return d},fs:function(){return c}});var r=n(59499),a=n(31993);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={enabled:!0,components:{comments:!0,gifts:!0,likes:!0,qrCode:!0}},c={COMMENTS:"comments",GIFTS:"gifts",LIKES:"likes",QR_CODE:"qrCode"},l={title:"",description:"",thumbnailKey:"",status:"published",showBottomToolbar:s,qrBankAccounts:[],hideWatermark:!1,categoryId:null,openingEffect:null},d=(0,a.U)(function(e){return{settings:o({},l),setTitle:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{title:t})}})},setThumbnail:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{thumbnailKey:t})}})},setDescription:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{description:t})}})},setStatus:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{status:t})}})},setShowBottomToolbar:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{showBottomToolbar:t})}})},setBottomToolbarComponent:function(t,n){return e(function(e){var a=e.settings.showBottomToolbar;return"boolean"==typeof a?{settings:o(o({},e.settings),{},{showBottomToolbar:{enabled:a,components:(0,r.Z)({comments:!0,gifts:!0,likes:!0,qrCode:!0},t,n)}})}:{settings:o(o({},e.settings),{},{showBottomToolbar:o(o({},a),{},{components:o(o({},a.components),{},(0,r.Z)({},t,n))})})}})},setQRBankAccounts:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{qrBankAccounts:t})}})},setHideWatermark:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{hideWatermark:t})}})},setCategoryId:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{categoryId:t})}})},setOpeningEffect:function(t){return e(function(e){return{settings:o(o({},e.settings),{},{openingEffect:t})}})},resetSettings:function(){return e({settings:o({},l)})}}})},52804:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r=(0,n(31993).U)(function(e){return{refreshTrigger:0,triggerRefresh:function(){return e(function(e){return{refreshTrigger:e.refreshTrigger+1}})}}})},23616:function(e,t,n){"use strict";n.d(t,{Y0:function(){return o},he:function(){return i},q:function(){return a}});var r=n(90072),a=function(e){return"boolean"==typeof e?{enabled:e,components:{comments:e,gifts:e,likes:e,qrCode:e}}:e||r.Kq},i=function(e){if("boolean"==typeof e)return e;var t,n=null==e?void 0:e.components,a=null==n?void 0:n[r.fs.GIFTS],i=null==n?void 0:n[r.fs.QR_CODE],o=null==n?void 0:n[r.fs.LIKES],s=null==n?void 0:n[r.fs.COMMENTS];return(!1!==a||!1!==i||!1!==o||!1!==s)&&(null===(t=null==e?void 0:e.enabled)||void 0===t||t)},o=function(e,t){return a(e).components[t]}},84413:function(e,t,n){"use strict";n.d(t,{o:function(){return a},s:function(){return r}});var r=function(e){for(var t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(t,n+1,0).getDate(),i=new Date(t,n,1).getDay(),o=0===i?6:i-1,s=[],c=0;c<o;c++)s.push({type:"empty",date:null,isSelected:!1});for(var l=1;l<=a;l++)s.push({type:"day",date:l,isSelected:r===l});return s},a=function(e,t){if(e&&t)return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes()).toISOString()}},77917:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var r=function(e,t,n){var r=Math.min(e/t,e/n);return{scaleWidth:t*r,scaleHeight:n*r}}},26294:function(e,t,n){"use strict";n.d(t,{Rd:function(){return c},af:function(){return s},fb:function(){return i},gs:function(){return o}});var r=n(7764),a=new Set,i=function(e){return e.replace(/['"]/g,"")},o=function(e){return e.replace(/\s+/g,"-").replace(/[^\w\-]/g,"").toLowerCase()},s=function(e){var t=i(e);if(!a.has(t)&&"arial"!==t.toLowerCase()){var n=o(e),s=document.createElement("link");s.rel="stylesheet",s.href="".concat(r.Z.CDN_URL,"/fonts/webfonts/").concat(n,"/font.css"),document.head.appendChild(s),a.add(t)}},c=function(e){var t=i(e);return'"'.concat(t,'"')}},9142:function(e,t,n){"use strict";n.d(t,{K5:function(){return o},gF:function(){return d},iB:function(){return u}});var r=n(7764),a=["Mai Anh","Erik","Ho\xe0ng Dũng","T\xf9ng","Linh","Hương","Minh","Thu H\xe0","Đức","Phương","Huy","Thảo","Quang","Hồng Nhung","Tuấn Anh","Ngọc Anh","Ho\xe0ng","Lan Anh","Việt Anh","Thanh","Hải","Ngọc","Duy","Thủy","Trung","Mai","H\xe0","Nam","Hiền","Trang"],i=["https://cdn.cinelove.me/samples/avatar/imageedit_1_7897091579.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_2_3325688966.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_4_7098373898.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_5_2425649771.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_6_7060799572.jpg"],o=function(e){return"".concat(r.Z.CDN_URL,"/gifts/thumb/").concat(e,".png")},s=["❤️ \uD83D\uDC95 Ch\xfac hai bạn trăm năm hạnh ph\xfac!","\uD83C\uDF89 May your love story be beautiful and endless!","\uD83D\uDC91 Mong rằng t\xecnh y\xeau của hai bạn m\xe3i đẹp như ng\xe0y h\xf4m nay!","\uD83D\uDC96 M\xe3i m\xe3i hạnh ph\xfac b\xean nhau!","\uD83C\uDF1F Ch\xfac mừng hạnh ph\xfac lứa đ\xf4i!","\uD83D\uDC90 Ch\xfac hai bạn trăm năm h\xf2a hợp, hạnh ph\xfac!","✨ Đồng t\xe2m đồng l\xf2ng, x\xe2y đắp tổ ấm thịnh vượng!","\uD83C\uDF8A Ch\xfac hai bạn lu\xf4n vui vẻ, thấu hiểu v\xe0 n\xe2ng đỡ nhau!","\uD83D\uDC9D Mong t\xecnh y\xeau của hai bạn m\xe3i vĩnh cửu!","\uD83E\uDD42 Một h\xe0nh tr\xecnh hạnh ph\xfac đang chờ đ\xf3n hai bạn!","\uD83D\uDC8D Ch\xfac cho t\xecnh y\xeau của hai bạn mỗi ng\xe0y một lớn mạnh!","\uD83D\uDD4A️ T\xe2n h\xf4n hạnh ph\xfac, trăm năm b\xean nhau!"],c=["\uD83C\uDF82 Ch\xfac mừng sinh nhật! Tuổi mới nhiều niềm vui!","\uD83C\uDF81 Happy Birthday! Wishing you health and happiness!","\uD83C\uDF88 Sinh nhật vui vẻ, tuổi mới th\xe0nh c\xf4ng rực rỡ!","✨ Ch\xfac mừng ng\xe0y đặc biệt của bạn!","\uD83C\uDF08 Tuổi mới ph\xe1t t\xe0i, ph\xe1t lộc!","\uD83C\uDF1F Ch\xfac bạn một năm tr\xe0n đầy may mắn v\xe0 hạnh ph\xfac!","\uD83E\uDD42 Mừng tuổi mới, th\xeam nhiều niềm vui v\xe0 th\xe0nh c\xf4ng!","\uD83C\uDF8A Ch\xfac mừng sinh nhật! Ch\xfac bạn lu\xf4n xinh đẹp v\xe0 hạnh ph\xfac!","\uD83C\uDFAF Tuổi mới, đạt được mọi mục ti\xeau bạn đặt ra!","\uD83C\uDF3A Ch\xfac bạn c\xf3 sinh nhật ngọt ng\xe0o v\xe0 tr\xe0n đầy niềm vui!","\uD83C\uDF89 Tuổi mới th\xe0nh c\xf4ng rực rỡ, gặp nhiều may mắn!","\uD83D\uDCAB Ch\xfac mừng sinh nhật! Mong mọi điều tốt đẹp đến với bạn!"],l=["❤️ \uD83D\uDC95 Wishing you a lifetime of happiness!","\uD83C\uDF89 Ch\xfac bạn mọi điều tốt đẹp nhất!","\uD83D\uDC91 Gửi đến bạn những lời ch\xfac tốt đẹp nhất!","\uD83D\uDC96 Mong bạn lu\xf4n vui vẻ v\xe0 hạnh ph\xfac!","\uD83C\uDF1F Ch\xfac mừng bạn!","\uD83D\uDC90 Gửi đến bạn những lời ch\xfac tốt l\xe0nh!","✨ Hạnh ph\xfac v\xe0 thịnh vượng!","\uD83C\uDF8A Ch\xfac bạn c\xf3 những khoảnh khắc tuyệt vời!","\uD83D\uDC9D Những điều tốt đẹp nhất sẽ đến với bạn!","\uD83E\uDD42 Here's to a beautiful journey ahead!"],d=function(e){var t;return t="thiep-cuoi"===e?s:"thiep-sinh-nhat"===e?c:l,{success:!0,messages:Array.from({length:5},function(){return{senderName:a[Math.floor(Math.random()*a.length)],content:t[Math.floor(Math.random()*t.length)],createdAt:new Date().toISOString()}})}},u=function(e){return{success:!0,gifts:e.sort(function(){return Math.random()-.5}).slice(0,5).map(function(e,t){return{giftCode:e.code,id:"sample-".concat(t+1),senderName:a[Math.floor(Math.random()*a.length)],senderAvatar:i[Math.floor(Math.random()*i.length)],giftType:"animated"}})}}},58115:function(e,t,n){"use strict";n.d(t,{oN:function(){return c},FO:function(){return l}});var r=n(59499);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o=function(e){var t=e.effectEnabled,n=e.effectType,r=e.effectDuration,a=e.effectDelay,i=e.effectEasing;return t&&"none"!==n?{transition:"all ".concat(r,"s ").concat(i," ").concat(a,"s")}:{}},s=function(e){var t=e.effectEnabled,n=e.effectType;if(!t||"none"===n)return"none";var r="";switch(n){case"fade-in":default:r="none";break;case"slide-up":r="translateY(50px)";break;case"slide-down":r="translateY(-50px)";break;case"slide-left":r="translateX(50px)";break;case"slide-right":r="translateX(-50px)";break;case"scale-in":r="scale(0.5)";break;case"scale-out":r="scale(1.5)";break;case"rotate-in":r="rotate(-180deg)";break;case"bounce-in":r="scale(0.3)";break;case"flip-in":r="perspective(400px) rotateY(90deg)";break;case"zoom-in":r="scale(0.1)"}return r},c=function(e,t){var n=e.effectType,r=e.effectDuration,a=e.effectDelay,i=e.effectEasing;return"".concat(n,"-").concat(r,"-").concat(a,"-").concat(i,"-").concat(t)},l=function(e,t){return i(i({},o(e)),{},{transform:t?"none":s(e),opacity:e.effectEnabled&&"none"!==e.effectType&&!t?0:1,width:"100%",height:"100%"})};n(84249),n(87794),n(21379),n(42611),n(26294),n(9142),n(89892),n(10094),n(50215)},89892:function(e,t,n){"use strict";n.d(t,{ZL:function(){return c},lL:function(){return d},oq:function(){return x},sU:function(){return u},w2:function(){return l}});var r=n(59499),a=n(46425);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return a.f0[e.toLowerCase()]||0},c=function(e,t){var n=s(e.name),r=s(t);return t.toLowerCase()===e.name.toLowerCase()?{text:"G\xf3i hiện tại",disabled:!0,type:"default",className:"bg-gray-100 text-gray-500 cursor-not-allowed",showButton:!0}:n<r?{text:"",disabled:!0,type:"default",className:"",showButton:!1}:{text:e.ctaText,disabled:!1,type:e.featured?"primary":e.popular?"primary":"default",className:e.featured?"premium-button":e.popular?"basic-button":"",showButton:!0}},l=function(e){var t=e.toLowerCase();return a.XX.map(function(e){var n,r=e.plans[t],a=e.text;return"limited"===r&&null!==(n=e.limitDetails)&&void 0!==n&&n[t]&&(a="".concat(e.text,": ").concat(e.limitDetails[t])),o(o({},e),{},{available:!0===r||"limited"===r,displayText:a})})},d=function(e,t){var n=a.XX.find(function(t){return t.id===e});if(!n)return!1;var r=t.toLowerCase(),i=n.plans[r];return!0===i||"limited"===i},u=function(e,t){var n,r=a.XX.find(function(t){return t.id===e});if(!r)return"";var i=t.toLowerCase();return(null===(n=r.limitDetails)||void 0===n?void 0:n[i])||""},x=function(e,t){var n=a.XX.find(function(t){return t.id===e});return!!n&&!!n.temporaryCanUse&&!d(e,t)}},50215:function(e,t,n){"use strict";n.d(t,{l:function(){return i},z:function(){return a}});var r={COMPLETED:"completed",PENDING:"pending",PROCESSING:"processing",REJECTED:"rejected",CANCELLED:"cancelled"},a=function(e){switch(e){case r.COMPLETED:return"text-green-500";case r.PENDING:return"text-yellow-500";case r.PROCESSING:return"text-blue-500";case r.REJECTED:return"text-red-500";case r.CANCELLED:default:return"text-gray-500"}},i=function(e){switch(e){case r.COMPLETED:return"Ho\xe0n th\xe0nh";case r.PENDING:return"Đang chờ";case r.PROCESSING:return"Đang xử l\xfd";case r.REJECTED:return"Từ chối";case r.CANCELLED:return"Đ\xe3 hủy";default:return"Kh\xf4ng x\xe1c định"}}},88683:function(e){e.exports={presetPreviewCard:"transitionEffects_presetPreviewCard__ZTgca",selected:"transitionEffects_selected__TqKz8",lineClamp2:"transitionEffects_lineClamp2__4VhtW",transitionAll:"transitionEffects_transitionAll__DxZIk",hoverShadowMd:"transitionEffects_hoverShadowMd__kUVdz",hoverBgGray50:"transitionEffects_hoverBgGray50__lPfPo",gridCols2:"transitionEffects_gridCols2__TB8wY",gap3:"transitionEffects_gap3__BDQuM",cursorPointer:"transitionEffects_cursorPointer__pn2Aj",duration200:"transitionEffects_duration200__Ah0UZ",ring2:"transitionEffects_ring2___LwKT",ringBlue500:"transitionEffects_ringBlue500__T4y_i",bgBlue50:"transitionEffects_bgBlue50__BVrFf"}}}]);