(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4304],{84186:function(e,t,n){"use strict";n(67294);var r=n(85893);t.Z=function(e){var t=e.snowflakeEffect;if(!t||!t.enabled)return null;var n=function(e){switch(e){case"snowflakes":default:return"❅";case"hearts":return"❤️";case"flowers":return"\uD83C\uDF38";case"stars":return"⭐";case"confetti":return"\uD83C\uDF89";case"butterflies":return"\uD83E\uDD8B";case"mix":return"\uD83D\uDC95"}}(t.type),a="mix"===t.type?["❅","❤️","\uD83E\uDD0D","❅","❤️","\uD83E\uDD0D","❅","❤️","\uD83E\uDD0D","❅","❤️","\uD83E\uDD0D"]:Array(12).fill(n);return(0,r.jsx)("div",{className:"snowflakes","aria-hidden":"true",children:Array.from({length:12},function(e,t){return(0,r.jsx)("div",{className:"snowflake",children:(0,r.jsx)("div",{className:"inner",children:a[t]})},t)})})}},85253:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(67294),a=n(55241),o=n(67623),i=n(5152),s=n.n(i),c=n(36238),l=n(85893),d=s()(function(){return n.e(1061).then(n.bind(n,61061)).then(function(e){return e.Sketch})},{ssr:!1,loadableGenerated:{webpack:function(){return[null]}}}),u=function(e){var t=e.value,n=e.onChange,i=e.showPresets,s=void 0===i||i,u=(0,r.useState)([]),x=u[0],p=u[1],f=(0,o.jE)().query;(0,r.useEffect)(function(){s&&p(function(){var e=f.serialize();if(!e)return[];var t="string"==typeof e?JSON.parse(e):e,n=new Set;return Object.values(t).forEach(function(e){if(e.props){var t;e.props.color&&"transparent"!==e.props.color&&"string"==typeof e.props.color&&e.props.color.startsWith("#")&&n.add(e.props.color),e.props.backgroundColor&&"transparent"!==e.props.backgroundColor&&"string"==typeof e.props.backgroundColor&&e.props.backgroundColor.startsWith("#")&&n.add(e.props.backgroundColor),e.props.borderColor&&""!==e.props.borderColor&&"transparent"!==e.props.borderColor&&"string"==typeof e.props.borderColor&&e.props.borderColor.startsWith("#")&&n.add(e.props.borderColor),null!==(t=e.props.boxShadow)&&void 0!==t&&t.color&&"transparent"!==e.props.boxShadow.color&&"string"==typeof e.props.boxShadow.color&&e.props.boxShadow.color.startsWith("#")&&n.add(e.props.boxShadow.color)}}),Array.from(n).slice(0,18)}())},[f,s]);var h=(0,l.jsx)(d,{color:t.startsWith("rgba")?(0,c.QU)(t):t,onChange:function(e){n({hex:e.hex,rgba:e.rgba})},presetColors:s?x:void 0});return(0,l.jsx)(a.Z,{content:h,trigger:"click",placement:"bottomRight",styles:{body:{padding:0}},children:(0,l.jsx)("div",{className:"w-6 h-6 rounded border border-gray-300 cursor-pointer",style:{backgroundColor:t}})})}},57581:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(59499),a=n(67294),o=n(58115),i=n(42179),s=function(e){var t=e.transition,n=e.enabled,r=e.targetRef,s=t||i.b,c=(0,a.useState)(!1),l=c[0],d=c[1],u=(0,a.useState)(!1),x=u[0],p=u[1],f=(0,a.useState)(!0),h=f[0],m=f[1];(0,a.useEffect)(function(){m(!1)},[]);var g=(0,o.oN)(s,x);return(0,a.useEffect)(function(){if(s.effectEnabled&&n&&!h){p(!0),d(!1);var e=setTimeout(function(){d(!0),setTimeout(function(){p(!1)},(s.effectDuration+s.effectDelay)*1e3+100)},50);return function(){return clearTimeout(e)}}},[s.effectEnabled,s.effectType,s.effectDuration,s.effectDelay,s.effectEasing,n]),(0,a.useEffect)(function(){if(s.effectEnabled){var e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(d(!0),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return r.current&&e.observe(r.current),function(){r.current&&e.unobserve(r.current)}}},[s.effectEnabled,r]),{isVisible:l,effectChanged:x,effectKey:g}},c=n(85893);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){var t=e.transition,n=e.children,r=e.style,i=e.targetRef,l=e.enabled,u=e.onTransitionStart,x=e.onTransitionEnd,p=e.nodeId,f=s({transition:t,enabled:l,targetRef:i}),h=f.isVisible,m=f.effectChanged,g=f.effectKey,b=p?"".concat(p,"-").concat(g):g,j=d(d({},void 0===r?{}:r),(0,o.FO)(t,h));return(0,a.useEffect)(function(){m&&u&&u()},[m,u]),(0,a.useEffect)(function(){!m&&h&&x&&x()},[m,h,x]),(0,c.jsx)("div",{"data-transition-key":b,"data-node-id":p,style:j,children:n},b)}},67789:function(e,t,n){"use strict";var r=n(59499),a=n(19848),o=n.n(a),i=n(67294),s=n(52091),c=n(78633),l=n(67623),d=n(84249),u=n(86745),x=n(76975),p=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.ZP=function(){var e=(0,l.jE)(function(e){return{nodes:e.nodes}}),t=e.nodes,n=e.actions,a=(0,u.Dk)(),h=a.activeKey,m=a.setActiveKey,g=(0,u.Hj)(),b=g.setReplacing,j=g.setReplaceType,y=g.setSelectedNodeId,v=g.setMultipleReplace,w=(0,i.useState)([]),k=w[0],N=w[1];(0,i.useEffect)(function(){var e;N(((e=t)?Object.keys(e).filter(function(t){var n,r,a=e[t];return(null==a?void 0:null===(n=a.data)||void 0===n?void 0:null===(r=n.props)||void 0===r?void 0:r.isReplaceable)===!0}).map(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:t},e[t])}):[]).map(function(e){var t,n,r,a,o;return{id:e.id,props:(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.props)||{},displayName:(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.displayName)||"",name:(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.name)||"",imgKey:(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(o=a.props)||void 0===o?void 0:o.imgKey)||""}}))},[t]);var C=(0,i.useState)(!0),O=C[0],S=C[1],T=(0,i.useState)(!1),Z=T[0],E=T[1],D=(0,i.useState)(!0),P=D[0],R=D[1],I=(0,i.useRef)(null),A=function(){var e=I.current;if(e){E(e.scrollLeft>10);var t=e.scrollWidth-e.clientWidth;R(!(10>Math.abs(e.scrollLeft-t)))}};(0,i.useEffect)(function(){var e=I.current;return e&&(e.addEventListener("scroll",A),A(),window.addEventListener("resize",A)),function(){e&&(e.removeEventListener("scroll",A),window.removeEventListener("resize",A))}},[]);var z=function(e){var t=I.current;if(t){var n=t.scrollLeft;t.scrollTo({left:"left"===e?n-300:n+300,behavior:"smooth"})}},B=function(e){v(!0),h!==x.Ey.PHOTO&&m(x.Ey.PHOTO),b(!0),j("photo"),y(e.id),n.selectNode(e.id);var t=document.querySelector('[data-node-id="'.concat(e.id,'"]'));t&&t.scrollIntoView({behavior:"smooth",block:"center"})};return 0===k.length?null:(0,p.jsxs)("div",{style:{zIndex:999999},className:"jsx-2703593113",children:[(0,p.jsxs)("div",{id:"main-center-replace",style:{left:h?"420px":"120px"},className:"jsx-2703593113 "+((O?"active":"")||""),children:[(0,p.jsxs)("div",{onClick:function(){S(!O)},className:"jsx-2703593113 switch-btn",children:[(0,p.jsx)("span",{className:"jsx-2703593113",children:"Thay ảnh nhanh"}),(0,p.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAbJJREFUOE+t1LtOwzAUBuD/gEgRVQczMDGx8gS8ABcxUIYWJKYOTUg33qA7I0ObZKioYEAZuAiJywPwDmxMHZBQihAqSdUauWpCcN0kSHiK7OTLb5+TEP55UOjZtr06GAw+TdN8+cs7HMdZ7vf7+Vqt9iyeG4Htdjvf6/XeAAREtKnr+lMWtNlsrhHRA4AZxthiuVwOooSWZd0C2AbwkQWNYQUAN4Zh7EQJxUWr1Zr3ff+KiDbS0DjGOX/I5XLFSqXy9QvMikrJHjVN2wmxCTBEgyC4BrAuJ03DlOA0dDgc8nEBxJlNJAuLGBVFrqo403jS8XoiFiWs1+sznU7nlHPudbvdI9d1B4qkYupXslKpNMsYOwZQsG27GoG6ri8AeAWQB3Dhed6BhJ4AmNM07TAswBg7B7AH4N3zvCXXdX/60DCMTc75FYCcjMrHIWE+ERUty7qfKEoWNAlTVrlarW4R0aUq6Rg7A7APwOec7zqOcxffgbLKKlQ8xBhLxKb2oViQUQA8KVlqHypQMaXcZuqW4zfEkkJ1ZnIHTP1S4jeaprki+rDRaIx+okkjE5iGxNe/AdSZCySeFHCqAAAAAElFTkSuQmCC",alt:"",className:"jsx-2703593113 "+((O?"":"rotate")||"")})]}),(0,p.jsx)("div",{ref:I,className:"jsx-2703593113 scroll-block",children:k.map(function(e,t){return(0,p.jsxs)("div",{onClick:function(){return B(e)},className:"jsx-2703593113 img-replace",children:[(0,p.jsx)("img",{src:(0,d.eQ)(e.imgKey),alt:"Cinelove ".concat(e.displayName||""),className:"jsx-2703593113"}),(0,p.jsx)("div",{className:"jsx-2703593113 shade",children:(0,p.jsx)(c.jnY,{size:20,color:"#f5f5f5"})})]},t)})}),Z&&(0,p.jsx)("div",{onClick:function(){return z("left")},className:"jsx-2703593113 left-arrows",children:(0,p.jsx)(s._HU,{size:20})}),P&&(0,p.jsx)("div",{onClick:function(){return z("right")},className:"jsx-2703593113 right-arrows",children:(0,p.jsx)(s.H_v,{size:20})})]}),(0,p.jsx)(o(),{id:"2703593113",children:["#main-center-replace.jsx-2703593113{position:fixed;right:370px;left:310px;height:90px;bottom:-90px;background-color:#fff;z-index:100;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;box-shadow:0 0 2px 0 rgba(0,0,0,0.08), 0 4px 12px 0 rgba(0,0,0,0.04);}","#main-center-replace.active.jsx-2703593113{bottom:10px;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:10px;overflow-x:auto;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;-ms-overflow-style:none;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113{width:70px;height:70px;border-radius:4px;outline:1px solid #e4e4e4;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:none;-ms-flex:none;flex:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;position:relative;cursor:pointer;background-color:#f2f2f2;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113 img.jsx-2703593113{max-width:100%;max-height:100%;}","#main-center-replace.jsx-2703593113 .scroll-block.jsx-2703593113 .img-replace.jsx-2703593113 .shade.jsx-2703593113{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0.2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;top:0;left:0;}",".right-arrows.jsx-2703593113{right:10px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".left-arrows.jsx-2703593113{left:10px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".left-arrows.jsx-2703593113:hover,.right-arrows.jsx-2703593113:hover{background-color:#f5f5f5;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113{width:130px;height:36px;background:#fff;border-radius:4px;position:absolute;left:0;top:-46px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;box-shadow:0 0 2px 0 rgba(0,0,0,0.08), 0 4px 12px 0 rgba(0,0,0,0.04);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 img.rotate.jsx-2703593113{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 img.jsx-2703593113{width:10px;height:10px;margin-left:4px;}","#main-center-replace.jsx-2703593113 .switch-btn.jsx-2703593113 span.jsx-2703593113{font-size:14px;color:#333;}","#main-center-replace.jsx-2703593113 .left-arrows.jsx-2703593113{position:absolute;width:32px;height:32px;left:10px;top:29px;background-color:#fff;border-radius:50%;box-shadow:0 0 4px 0 rgba(0,0,0,0.1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;}","#main-center-replace.jsx-2703593113 .right-arrows.jsx-2703593113{position:absolute;width:32px;height:32px;right:10px;top:29px;background-color:#fff;border-radius:50%;box-shadow:0 0 4px 0 rgba(0,0,0,0.1);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;}"]})]})}},17018:function(e,t,n){"use strict";n(67294);var r=n(85893);t.Z=function(e){var t=e.icon,n=e.label,a=e.onClick;return(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-1 group flex-shrink-0",children:[(0,r.jsx)("button",{onClick:a,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-50 hover:bg-gray-100 active:scale-95 transition-all duration-200 ease-out group-hover:shadow-md",children:t}),(0,r.jsx)("span",{className:"text-xs text-gray-600 font-medium group-hover:text-blue-600 transition-colors duration-200 whitespace-nowrap",children:n})]})}},6255:function(e,t,n){"use strict";var r=n(27812),a=n(67294),o=n(67623),i=n(83062),s=n(35282),c=n(77680),l=n(85893);t.Z=function(){var e=(0,o.jE)(),t=e.connectors.create,n=e.actions,d=e.query,u=(0,a.useRef)(0),x=(0,a.useRef)(0),p=(0,a.useRef)(0),f=function(e){var t=document.getElementById("root-page-container"),o=document.getElementById("main-scroll-container");if(t&&o){var i=o.scrollTop,s=t.getBoundingClientRect().width,c=d.node("ROOT").get().data.nodes||[],l=0;c.length>0&&(l=Math.max.apply(Math,(0,r.Z)(c.map(function(e){return d.node(e).get().data.props.zIndex||0}))));var u=d.createNode(a.createElement(e,{top:Math.round(i+window.innerHeight/2-150),left:10,width:s-20,zIndex:0==l?0:l+1}));n.add(u,"ROOT"),n.selectNode(u.id)}};return(0,l.jsx)("div",{ref:function(e){return t(e,(0,l.jsx)(c.z,{}),{onCreate:function(e){var t=d.node("ROOT").get().data.nodes||[],a=0;t.length>0&&(a=Math.max.apply(Math,(0,r.Z)(t.map(function(e){return d.node(e).get().data.props.zIndex||0}))));var o=Object.keys(e.nodes)[0];n.setProp(o,function(e){e.top=u.current||0,e.left=10,e.width=p.current-20||0,e.zIndex=0==a?0:a+1}),n.selectNode(e.nodes[o].id)}})},children:(0,l.jsx)(i.Z,{title:"Th\xeam văn bản",placement:"right",styles:{root:{fontSize:"12px"}},children:(0,l.jsxs)("div",{className:"flex items-center flex-col justify-center gap-1",draggable:!0,onClick:function(){return f(c.z)},onDrag:function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=Math.round(Math.min(Math.max(r,0),n.width)),i=Math.round(Math.min(Math.max(a,0),n.height));u.current=i,x.current=o,p.current=n.width}},children:[(0,l.jsx)(s.wUc,{size:20}),(0,l.jsx)("span",{className:"text-xs",children:"Văn bản"})]})})})}},93326:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(19848),a=n.n(r),o=n(67294),i=n(92398),s=n(59499),c=n(5152),l=n.n(c),d=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=l()(function(){return n.e(1061).then(n.bind(n,61061)).then(function(e){return e.Sketch})},{ssr:!1,loadableGenerated:{webpack:function(){return[null]}}}),f=function(e){var t=e.onSelectColor,n=e.currentColor,r=void 0===n?"transparent":n,i=(0,o.useState)("#6F42A3"),s=i[0],c=i[1],l=r.toLowerCase();return(0,d.jsxs)("div",{className:"jsx-2717391082 color-background scroll-list",children:[(0,d.jsxs)("div",{className:"jsx-2717391082 current-colors",children:[(0,d.jsx)("h3",{className:"jsx-2717391082",children:"M\xe0u nền hiện tại"}),(0,d.jsx)("div",{className:"jsx-2717391082 current-color-item",children:(0,d.jsx)("div",{style:x(x({},r.includes("gradient")?{background:r}:{backgroundColor:"transparent"===r?"transparent":r,backgroundImage:"transparent"===r?"url(/images/transparent-color.png)":"none",backgroundSize:["transparent","white","#ffffff"].includes(l)?"cover":"100%"}),{},{border:"1px solid #d4d4d4"}),className:"jsx-2717391082 color-preview"})})]}),(0,d.jsxs)("div",{className:"jsx-2717391082 default-colors",children:[(0,d.jsx)("h3",{className:"jsx-2717391082",children:"M\xe0u nền mặc định"}),(0,d.jsxs)("div",{className:"jsx-2717391082 colors-section",children:[(0,d.jsx)("div",{className:"jsx-2717391082 section-title",children:"M\xe0u đơn"}),(0,d.jsx)("div",{className:"jsx-2717391082 color-grid plain-colors",children:[{id:"transparent",color:"transparent"},{id:"black",color:"#000000"},{id:"gray-dark",color:"#666666"},{id:"gray",color:"#999999"},{id:"gray-light",color:"#CCCCCC"},{id:"white",color:"#FFFFFF"},{id:"red",color:"#C0392B"},{id:"purple",color:"#8E44AD"},{id:"blue",color:"#2980B9"},{id:"teal",color:"#16A085"},{id:"green",color:"#27AE60"},{id:"orange",color:"#E67E22"},{id:"red-light",color:"#E74C3C"},{id:"purple-light",color:"#9B59B6"},{id:"blue-light",color:"#3498DB"},{id:"teal-light",color:"#1ABC9C"},{id:"green-light",color:"#2ECC71"},{id:"orange-light",color:"#F39C12"},{id:"pink-pastel",color:"#FFB6C1"},{id:"lavender-pastel",color:"#E6E6FA"},{id:"sky-pastel",color:"#87CEEB"},{id:"mint-pastel",color:"#98FF98"},{id:"lime-pastel",color:"#BFFF00"},{id:"peach-pastel",color:"#FFDAB9"},{id:"rose-pastel",color:"#FFD1DC"},{id:"baby-blue-pastel",color:"#BFE6FF"},{id:"sage-pastel",color:"#C1E1C1"},{id:"lilac-pastel",color:"#C8A2C8"},{id:"butter-pastel",color:"#FFF4BD"},{id:"coral-pastel",color:"#FFB59C"},{id:"blush-pastel",color:"#FFE4E1"},{id:"periwinkle-pastel",color:"#CCCCFF"},{id:"seafoam-pastel",color:"#98FF98"},{id:"mauve-pastel",color:"#E0B0FF"},{id:"cream-pastel",color:"#FFFDD0"},{id:"apricot-pastel",color:"#FFE5B4"}].map(function(e){return(0,d.jsx)("div",{onClick:function(){return t(e.color)},className:"jsx-2717391082 color-item",children:(0,d.jsx)("div",{style:{background:"transparent"===e.id?"url(/images/transparent-color.png)":e.color,backgroundSize:"transparent"===e.id?"cover":"100%",border:"1px solid #ddd"},className:"jsx-2717391082 color-preview"})},e.id)})})]}),(0,d.jsxs)("div",{className:"jsx-2717391082 colors-section",children:[(0,d.jsx)("div",{className:"jsx-2717391082 section-title",children:"M\xe0u nền gradient"}),(0,d.jsx)("div",{className:"jsx-2717391082 color-grid gradient-colors",children:[{id:"gradient-1",color:"linear-gradient(45deg, #FF6B6B, #FF8E53)"},{id:"gradient-2",color:"linear-gradient(45deg, #9B59B6, #3498DB)"},{id:"gradient-3",color:"linear-gradient(45deg, #4A90E2, #50E3C2)"},{id:"gradient-4",color:"linear-gradient(45deg, #43E97B, #38F9D7)"},{id:"gradient-5",color:"linear-gradient(45deg, #A8E6CF, #DCEDC1)"},{id:"gradient-6",color:"linear-gradient(45deg, #FFD3A5, #FD6585)"},{id:"gradient-7",color:"linear-gradient(45deg, #8E2DE2, #4A00E0)"},{id:"gradient-8",color:"linear-gradient(45deg, #F953C6, #B91D73)"},{id:"gradient-9",color:"linear-gradient(45deg, #00B4DB, #0083B0)"},{id:"gradient-10",color:"linear-gradient(45deg, #F7971E, #FFD200)"},{id:"gradient-11",color:"linear-gradient(45deg, #56CCF2, #2F80ED)"},{id:"gradient-12",color:"linear-gradient(45deg, #A770EF, #CF8BF3)"}].map(function(e){return(0,d.jsx)("div",{onClick:function(){return t(e.color)},className:"jsx-2717391082 color-item",children:(0,d.jsx)("div",{style:{background:e.color},className:"jsx-2717391082 color-preview"})},e.id)})})]})]}),(0,d.jsx)("div",{className:"jsx-2717391082 color-selector",children:(0,d.jsx)(p,{style:{width:"100%"},color:s,onChange:function(e){c(e.hexa),t(e.hexa)},presetColors:[]})}),(0,d.jsx)(a(),{id:"2717391082",children:[".color-background.jsx-2717391082{padding:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:24px;height:100%;overflow-y:auto;}","h3.jsx-2717391082{font-size:14px;color:#666;margin-bottom:12px;}",".current-colors.jsx-2717391082{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".current-color-item.jsx-2717391082{width:40px;height:40px;}",".color-list.jsx-2717391082{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;}",".color-grid.jsx-2717391082{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-top:16px;}",".colors-section.jsx-2717391082{margin-bottom:20px;}",".section-title.jsx-2717391082{font-size:14px;color:#666;margin-bottom:12px;}",".color-item.jsx-2717391082{aspect-ratio:1;cursor:pointer;border-radius:8px;overflow:hidden;}",".color-preview.jsx-2717391082{width:100%;height:100%;border-radius:8px;-webkit-transition:-webkit-transform 0.2s,border 0.2s;-webkit-transition:transform 0.2s,border 0.2s;transition:transform 0.2s,border 0.2s;}",".color-preview.jsx-2717391082:hover{border:1px solid #4dabff !important;}",".color-tabs{margin-bottom:8px;}",".color-selector.jsx-2717391082{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;border-top:1px solid #f0f0f0;padding-top:16px;}",".w-color-sketch{box-shadow:none !important;padding:0 !important;}",".w-color-sketch .w-color-sketch-saturation{border-radius:8px;margin-bottom:12px;}",".w-color-sketch .w-color-sketch-hue{height:12px !important;border-radius:6px;margin-bottom:12px;}",".w-color-sketch .w-color-sketch-alpha{height:12px !important;border-radius:6px;}",".w-color-sketch .w-color-sketch-handler{width:20px !important;height:20px !important;border:2px solid #fff !important;box-shadow:0 0 0 1px rgba(0,0,0,0.1) !important;}"]})]})},h=n(50029),m=n(87794),g=n.n(m),b=n(4473),j=n(7764),y=function(e){var t=e.onSelectImage,n=e.isMobile,r=void 0!==n&&n,i=(0,o.useState)(!0),s=i[0],c=i[1],l=(0,o.useState)([]),u=l[0],x=l[1];return(0,o.useEffect)(function(){var e;(e=(0,h.Z)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(j.Z.API_URL,"/api/resources/categories/background"));case 3:return t=e.sent,e.next=6,t.json();case 6:x(e.sent.items||[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching backgrounds:",e.t0);case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),(0,d.jsxs)("div",{className:a().dynamic([["726902320",[r?"100px":"0"]]])+" scroll-list",children:[(0,d.jsx)("div",{className:a().dynamic([["726902320",[r?"100px":"0"]]])+" background-list-container",children:s?(0,d.jsx)(b.Z,{count:15}):u.map(function(e){return(0,d.jsx)("div",{onClick:function(){return t("".concat(j.Z.CDN_URL,"/").concat(e.fileKey))},className:a().dynamic([["726902320",[r?"100px":"0"]]])+" background-item",children:(0,d.jsx)("img",{src:"".concat(j.Z.CDN_URL,"/resources/background/thumbnail/").concat(e.id,".webp"),alt:"Background thumbnail",style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:a().dynamic([["726902320",[r?"100px":"0"]]])})},e.id)})}),(0,d.jsx)(a(),{id:"726902320",dynamic:[r?"100px":"0"],children:[".scroll-list.__jsx-style-dynamic-selector{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:100%;}",".background-list-container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:".concat(r?"100px":"0",";padding:20px 10px 20px 12px;}"),".background-item.__jsx-style-dynamic-selector{text-align:center;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;cursor:pointer;margin:auto;}",".background-item.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;}",".background-item.__jsx-style-dynamic-selector:hover img.__jsx-style-dynamic-selector{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.9;}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})},v=n(67623),w=function(){var e=(0,v.jE)(),t=(e.connectors.create,e.actions);e.query.node("ROOT").get();var n=(0,o.useState)(!1);n[0],n[1];var r=(0,o.useState)("transparent"),s=r[0],c=r[1],l=function(e){t.setProp("ROOT",function(t){t.background=e})},u=function(e){t.setProp("ROOT",function(t){t.background=e})};return(0,d.jsxs)("div",{className:"jsx-191916180 background-tab",children:[(0,d.jsx)(i.Z,{defaultActiveKey:"color",items:[{key:"color",label:"M\xe0u nền",children:(0,d.jsx)(f,{onSelectColor:function(e){console.log("Selected color:",e),c(e),l(e)},currentColor:s})},{key:"image",label:"H\xecnh nền",children:(0,d.jsx)(y,{onSelectImage:function(e){console.log("Selected image:",e),u(e)}})}]}),(0,d.jsx)(a(),{id:"191916180",children:[".background-tab.jsx-191916180{height:100%;overflow:hidden;}",".background-tab .ant-tabs{height:100%;}",".background-tab .ant-tabs-nav{margin:0 !important;padding:0 16px;border-bottom:1px solid #f0f0f0;}",".background-tab .ant-tabs-tab{padding:12px 0 !important;margin:0 24px 0 0 !important;font-size:14px;font-weight:500;color:#666;}",".background-tab .ant-tabs-tab-active{color:#1890ff !important;}",".background-tab .ant-tabs-ink-bar{background:#1890ff !important;height:2px !important;}",".background-tab .ant-tabs-content{height:calc(100% - 44px);}",".background-tab .ant-tabs-tabpane{height:100%;padding:0 !important;}"]})]})}},57085:function(e,t,n){"use strict";n.d(t,{Z:function(){return eb}});var r=n(19848),a=n.n(r),o=n(67294),i=n(2453),s=n(74330),c=n(32983),l=n(25675),d=n.n(l),u=n(35710),x=n(85893),p=function(e){var t=e.effect,n=e.isSelected,r=void 0!==n&&n,i=e.onClick,s=e.isMobile,c=void 0!==s&&s,l=(0,o.useState)(!1),p=l[0],f=l[1],h=(0,o.useRef)(null);return(0,o.useEffect)(function(){c&&h.current&&t.videoUrl&&p&&h.current.play()},[c,p,t.videoUrl]),(0,x.jsxs)("div",{className:"jsx-1714539663 effect-card",children:[(0,x.jsxs)("div",{onClick:function(){i&&i(t)},onMouseEnter:function(){!c&&h.current&&t.videoUrl&&h.current.play()},onMouseLeave:function(){!c&&h.current&&t.videoUrl&&(h.current.pause(),h.current.currentTime=0)},className:"jsx-1714539663 "+"effect-container ".concat(r?"selected":""),children:[(0,x.jsx)(u.Z,{position:"top-left",size:"sm"}),(0,x.jsxs)("div",{className:"jsx-1714539663 image-container",children:[t.videoUrl?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("video",{ref:h,muted:!0,loop:!0,playsInline:!0,onLoadedData:function(){setTimeout(function(){f(!0)},1e3)},style:{display:p?"block":"none"},className:"jsx-1714539663 effect-video",children:[(0,x.jsx)("source",{src:t.videoUrl,type:"video/webm",className:"jsx-1714539663"}),"Your browser does not support the video tag."]}),!p&&(0,x.jsx)(d(),{unoptimized:!0,src:t.thumbnailUrl,alt:t.name,fill:!0,sizes:"(max-width: 576px) 50vw, (max-width: 768px) 33vw, 25vw",className:"effect-image",loading:"lazy"})]}):(0,x.jsx)(d(),{unoptimized:!0,src:t.thumbnailUrl,alt:t.name,fill:!0,sizes:"(max-width: 576px) 50vw, (max-width: 768px) 33vw, 25vw",className:"effect-image",loading:"lazy"}),r&&(0,x.jsx)("div",{className:"jsx-1714539663 selected-badge",children:(0,x.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-1714539663",children:(0,x.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z",fill:"currentColor",className:"jsx-1714539663"})})})]}),(0,x.jsxs)("div",{className:"jsx-1714539663 effect-footer",children:[(0,x.jsx)("span",{className:"jsx-1714539663 effect-title",children:t.name}),(0,x.jsxs)("span",{className:"jsx-1714539663 effect-duration",children:[t.duration,"s"]})]})]}),(0,x.jsx)(a(),{id:"1714539663",children:[".effect-card.jsx-1714539663{width:100%;border-radius:8px;background:#fff;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}",".effect-container.jsx-1714539663{position:relative;cursor:pointer;border:2px solid transparent;border-radius:8px;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;background:#fff;}",".effect-container.jsx-1714539663:hover{-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.15);}",".effect-container.selected.jsx-1714539663{box-shadow:0 4px 12px rgba(24,144,255,0.2);}",".image-container.jsx-1714539663{position:relative;width:100%;overflow:hidden;border-radius:6px 6px 0 0;aspect-ratio:9/16;}",".effect-image.jsx-1714539663,.effect-video.jsx-1714539663{object-fit:cover;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;width:100%;height:100%;}",".effect-container.jsx-1714539663:hover .effect-image.jsx-1714539663,.effect-container.jsx-1714539663:hover .effect-video.jsx-1714539663{-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}",".effect-overlay.jsx-1714539663{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient( to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.6) 100% );opacity:0;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;padding:12px;}",".effect-container.jsx-1714539663:hover .effect-overlay.jsx-1714539663{opacity:1;}",".effect-info.jsx-1714539663{color:white;width:100%;}",".effect-name.jsx-1714539663{font-size:14px;font-weight:600;margin:0 0 4px 0;line-height:1.2;}",".effect-duration.jsx-1714539663{font-size:11px;color:#8c8c8c;}",".video-indicator.jsx-1714539663{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:4px;font-size:11px;opacity:0.9;background:rgba(0,0,0,0.5);padding:2px 6px;border-radius:4px;margin-top:4px;}",".selected-badge.jsx-1714539663{position:absolute;top:8px;right:8px;width:24px;height:24px;background:#1890ff;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:white;box-shadow:0 2px 8px rgba(24,144,255,0.3);}",".effect-footer.jsx-1714539663{padding:8px 12px;background:#fafafa;border-top:1px solid #f0f0f0;}",".effect-title.jsx-1714539663{display:block;font-size:12px;font-weight:500;color:#262626;line-height:1.2;margin-bottom:2px;overflow:hidden;text-overflow:ellipsis;white-space:wrap;}","@media (max-width:768px){.image-container.jsx-1714539663{aspect-ratio:9/16;}.effect-footer.jsx-1714539663{padding:6px 8px;}.effect-title.jsx-1714539663{font-size:11px;}.effect-overlay.jsx-1714539663{padding:8px;}.effect-name.jsx-1714539663{font-size:12px;}.effect-duration.jsx-1714539663{font-size:10px;}.video-indicator.jsx-1714539663{font-size:10px;}}"]})]})},f=n(90072),h=n(7764),m=n(46256),g=n(16835),b=n(99859),j=n(17788),y=n(83622),v=n(38289),w=n(27812),k=n(50029),N=n(87794),C=n.n(N),O=n(92398),S=n(84249),T=n(49184),Z=O.Z.TabPane,E=[{id:"24bebbc90bc64fe3952b44881c3be849",imgKey:"resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"},{id:"694f2494535443aa96ab2f8cbf4d06bf",imgKey:"resources/characters/694f2494535443aa96ab2f8cbf4d06bf.gif"},{id:"804e975d4ce943ceb59eaef61f6f1e8d",imgKey:"resources/characters/804e975d4ce943ceb59eaef61f6f1e8d.gif"},{id:"c75adf6d5f824943954f73aa10deb85b",imgKey:"resources/characters/c75adf6d5f824943954f73aa10deb85b.gif"}],D=function(e){var t=e.value,n=e.onChange,r=(0,o.useState)([]),l=r[0],u=r[1],p=(0,o.useState)(!1),f=p[0],m=p[1],g=(0,o.useState)(t),b=g[0],j=g[1],y=null!=t&&t.includes("/uploads/")?"user-photos":"materials";(0,o.useEffect)(function(){var e;(e=(0,k.Z)(C().mark(function e(){var t;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,(0,T.ZQ)();case 4:t=e.sent,u((0,w.Z)(t).sort(function(e,t){return new Date(t.createdAt||0).getTime()-new Date(e.createdAt||0).getTime()})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Failed to fetch user photos:",e.t0),i.ZP.error("Kh\xf4ng thể tải danh s\xe1ch ảnh của bạn");case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return e.apply(this,arguments)})()},[]);var v=function(e){j(e),null==n||n(e)};return(0,x.jsxs)("div",{className:"jsx-3577583500 image-selector",children:[(0,x.jsxs)(O.Z,{defaultActiveKey:y,size:"small",children:[(0,x.jsx)(Z,{tab:(0,x.jsx)("span",{className:"jsx-3577583500",children:"Ảnh c\xf3 sẵn"}),children:(0,x.jsx)("div",{className:"jsx-3577583500 materials-section",children:(0,x.jsx)("div",{className:"jsx-3577583500 image-grid",children:E.map(function(e){var t,n=(t=e.imgKey,"".concat(h.Z.CDN_URL,"/").concat(t));return(0,x.jsx)("div",{onClick:function(){return v(n)},className:"jsx-3577583500 "+"image-item ".concat(b===n?"selected":""),children:(0,x.jsx)(d(),{unoptimized:!0,src:n,alt:"Material ".concat(e.id),width:80,height:80,objectFit:"cover"})},e.id)})})})},"materials"),(0,x.jsx)(Z,{tab:(0,x.jsx)("span",{className:"jsx-3577583500",children:"Ảnh của bạn"}),children:(0,x.jsx)("div",{className:"jsx-3577583500 user-photos-section",children:f?(0,x.jsxs)("div",{className:"jsx-3577583500 loading-container",children:[(0,x.jsx)(s.Z,{size:"large"}),(0,x.jsx)("p",{className:"jsx-3577583500",children:"Đang tải ảnh của bạn..."})]}):l.length>0?(0,x.jsx)("div",{className:"jsx-3577583500 image-grid",children:l.map(function(e){var t=(0,S.eQ)(e.fileKey);return(0,x.jsx)("div",{onClick:function(){return v(t)},className:"jsx-3577583500 "+"image-item ".concat(b===t?"selected":""),children:(0,x.jsx)(d(),{unoptimized:!0,src:(0,S.VM)(e.fileKey,200),alt:"User photo ".concat(e.fileId),width:80,height:80,objectFit:"cover"})},e.fileId)})}):(0,x.jsx)(c.Z,{description:"Bạn chưa c\xf3 ảnh n\xe0o",image:c.Z.PRESENTED_IMAGE_SIMPLE})})},"user-photos")]}),(0,x.jsx)(a(),{id:"3577583500",children:[".image-selector.jsx-3577583500{width:100%;}",".image-grid.jsx-3577583500{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;max-height:300px;overflow-y:auto;padding:8px;}",".image-item.jsx-3577583500{position:relative;border:2px solid transparent;border-radius:8px;cursor:pointer;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".image-item.jsx-3577583500:hover{border-color:#1890ff;-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}",".image-item.selected.jsx-3577583500{border-color:#1890ff;box-shadow:0 0 0 2px rgba(24,144,255,0.2);}",".image-item.jsx-3577583500 img.jsx-3577583500{border-radius:6px;width:100%;height:100%;object-fit:cover;}",".loading-container.jsx-3577583500{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:40px 0;color:#8c8c8c;}",".loading-container.jsx-3577583500 p.jsx-3577583500{margin-top:12px;font-size:14px;}","@media (max-width:768px){.image-grid.jsx-3577583500{grid-template-columns:repeat(4,1fr);gap:6px;padding:6px;}.image-item.jsx-3577583500{width:50px;}}","@media (max-width:480px){.image-grid.jsx-3577583500{grid-template-columns:repeat(4,1fr);gap:4px;padding:4px;}.image-item.jsx-3577583500{width:45px;}}"]})]})},P=function(e){var t=e.visible,n=e.effect,r=e.onCancel,i=e.onConfirm,s=e.currentTitle,c=void 0===s?"":s,l=e.currentSubtitle,d=void 0===l?"":l,u=e.currentImageUrl,p=void 0===u?"":u,f=e.currentDuration,h=void 0===f?5:f,m=b.Z.useForm(),w=(0,g.Z)(m,1)[0],k=(0,o.useState)(c),N=k[0],C=k[1],O=(0,o.useState)(d),S=O[0],T=O[1],Z=(0,o.useState)(p),E=Z[0],P=Z[1],R=(0,o.useState)(h),I=R[0],A=R[1];(0,o.useEffect)(function(){t&&(C(c),T(d),P(p),A(h),w.setFieldsValue({title:c,subtitle:d,duration:h}))},[t,c,d,p,h,w]);var z=function(){w.resetFields(),r()};return(0,x.jsxs)(j.Z,{title:"Cấu h\xecnh hiệu ứng Animated Image",open:t,onCancel:z,footer:[(0,x.jsx)(y.ZP,{onClick:z,children:"Hủy"},"cancel"),(0,x.jsx)(y.ZP,{type:"primary",onClick:function(){w.validateFields().then(function(e){n&&i(n,e.title,e.subtitle,E,e.duration)})},children:"X\xe1c nhận"},"confirm")],width:600,destroyOnClose:!0,children:[(0,x.jsxs)(b.Z,{form:w,layout:"vertical",initialValues:{title:N,subtitle:S},children:[(0,x.jsx)(b.Z.Item,{label:"Ti\xeau đề ch\xednh",name:"title",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề ch\xednh"},{max:40,message:"Ti\xeau đề kh\xf4ng được qu\xe1 40 k\xfd tự"}],children:(0,x.jsx)(v.Z,{placeholder:"Nhập ti\xeau đề ch\xednh (VD: Wedding Day)",value:N,onChange:function(e){return C(e.target.value)},maxLength:50,showCount:!0})}),(0,x.jsx)(b.Z.Item,{label:"Ti\xeau đề phụ",name:"subtitle",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề phụ"},{max:60,message:"Ti\xeau đề phụ kh\xf4ng được qu\xe1 60 k\xfd tự"}],children:(0,x.jsx)(v.Z.TextArea,{placeholder:"Nhập ti\xeau đề phụ (VD: Xin mời xem thiệp cưới của ch\xfang m\xecnh nha)",value:S,onChange:function(e){return T(e.target.value)},maxLength:60,showCount:!0,rows:2})}),(0,x.jsx)(b.Z.Item,{label:"Thời gian hiển thị (gi\xe2y)",name:"duration",rules:[{required:!0,message:"Vui l\xf2ng nhập thời gian hiển thị"}],children:(0,x.jsx)(v.Z,{type:"number",placeholder:"Nhập thời gian hiển thị (VD: 5)",value:I,onChange:function(e){return A(Number(e.target.value))},min:1,max:10,addonAfter:"gi\xe2y"})}),(0,x.jsx)(b.Z.Item,{label:"Chọn ảnh",required:!0,children:(0,x.jsx)(D,{value:E,onChange:function(e){P(e)}})}),(0,x.jsxs)("div",{className:"jsx-1616491144 preview-section",children:[(0,x.jsx)("h4",{className:"jsx-1616491144",children:"Xem trước:"}),(0,x.jsxs)("div",{className:"jsx-1616491144 preview-content",children:[(0,x.jsx)("div",{className:"jsx-1616491144 preview-text",children:(0,x.jsx)("div",{className:"jsx-1616491144 preview-title",children:N||"Ti\xeau đề ch\xednh"})}),(0,x.jsx)("div",{className:"jsx-1616491144 preview-image-container",children:E?(0,x.jsx)("img",{src:E,alt:"Preview",className:"jsx-1616491144 preview-image"}):(0,x.jsx)("div",{className:"jsx-1616491144 no-image-placeholder",children:(0,x.jsx)("span",{className:"jsx-1616491144",children:"Chưa chọn ảnh"})})}),(0,x.jsx)("div",{className:"jsx-1616491144 preview-text",children:(0,x.jsx)("div",{className:"jsx-1616491144 preview-subtitle",children:S||"Ti\xeau đề phụ"})})]})]})]}),(0,x.jsx)(a(),{id:"1616491144",children:[".preview-section.jsx-1616491144{margin-top:20px;padding:16px;background:#f5f5f5;border-radius:8px;border:1px solid #d9d9d9;}",".preview-section.jsx-1616491144 h4.jsx-1616491144{margin:0 0 12px 0;color:#262626;font-size:14px;font-weight:600;}",".preview-content.jsx-1616491144{background:linear-gradient( 135deg, #820000 0%, #5a0000 50%, #3a0000 100% );padding:20px;border-radius:8px;text-align:center;min-height:280px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;gap:16px;}",".preview-image-container.jsx-1616491144{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:120px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".preview-image.jsx-1616491144{max-width:100%;max-height:100%;object-fit:contain;border-radius:8px;}",".no-image-placeholder.jsx-1616491144{width:120px;height:120px;background:rgba(255,255,255,0.1);border:2px dashed rgba(255,255,255,0.3);border-radius:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:rgba(255,255,255,0.6);font-size:12px;}",".preview-text.jsx-1616491144{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:8px;}",'.preview-title.jsx-1616491144{color:#fff;font-size:18px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,0.8);-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;font-family:"Playfair Display",serif;}','.preview-subtitle.jsx-1616491144{color:#fff;font-size:14px;font-weight:300;text-shadow:1px 1px 2px rgba(0,0,0,0.8);-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;font-family:"Inter",sans-serif;opacity:0.9;line-height:1.4;}',"@media (max-width:768px){.preview-content.jsx-1616491144{min-height:180px;padding:16px;}.preview-image-container.jsx-1616491144{height:100px;}.no-image-placeholder.jsx-1616491144{width:100px;height:100px;}.preview-title.jsx-1616491144{font-size:16px;}.preview-subtitle.jsx-1616491144{font-size:12px;}}"]})]})},R="".concat(h.Z.CDN_URL,"/assets/opening-effects/preview"),I=[{id:"curtain-blue",name:"Curtain Blue",duration:4,videoUrl:"".concat(R,"/curtain-reveal-blue.webm"),type:"curtain",thumbnailUrl:"".concat(R,"/curtain-reveal-blue.jpg")},{id:"curtain-pink",name:"Curtain Pink",duration:4,videoUrl:"".concat(R,"/curtain-reveal-pink.webm"),type:"curtain",thumbnailUrl:"".concat(R,"/curtain-reveal-pink.jpg")},{id:"curtain-purple",name:"Curtain Purple",duration:4,videoUrl:"".concat(R,"/curtain-reveal-purple.webm"),type:"curtain",thumbnailUrl:"".concat(R,"/curtain-reveal-purple.jpg")},{id:"curtain-yellow",name:"Curtain Yellow",duration:4,videoUrl:"".concat(R,"/curtain-reveal-yellow.webm"),type:"curtain",thumbnailUrl:"".concat(R,"/curtain-reveal-yellow.jpg")},{id:"curtain-red",name:"Curtain Red",duration:4,videoUrl:"".concat(R,"/curtain-reveal-red.webm"),type:"curtain",thumbnailUrl:"".concat(R,"/curtain-reveal-red.jpg")},{id:"animated-image-1",name:"Animated Image",duration:5,videoUrl:"".concat(R,"/animated-image-1.webm"),type:"animated-image",thumbnailUrl:"".concat(R,"/animated-image-1.jpg")}],A=function(e){var t,n,r,l,d,g=e.isMobile,b=(0,o.useState)(I),j=b[0];b[1];var y=(0,o.useState)(!1),v=y[0];y[1];var w=(0,f.X2)(),k=w.settings,N=w.setOpeningEffect,C=(null===(t=k.openingEffect)||void 0===t?void 0:t.id)||null,O=(0,m.TN)().pageData,S=k.openingEffect,T=(0,o.useState)(!1),Z=T[0],E=T[1],D=(0,o.useState)(null),R=D[0],A=D[1];(0,o.useEffect)(function(){null!=O&&O.openingEffect&&!S&&N(O.openingEffect)},[O]);var z=function(e){"animated-image"===e.type?(A(e),E(!0)):N({id:e.id,type:e.type,duration:e.duration})};return(0,x.jsxs)("div",{className:"jsx-4141491617 h-full",children:[(0,x.jsxs)("div",{className:"jsx-4141491617 mb-2 px-3",children:[(0,x.jsx)("div",{className:"jsx-4141491617 flex items-center justify-between mb-2 mt-2",children:(0,x.jsx)("div",{className:"jsx-4141491617 flex items-center",children:(0,x.jsxs)("h3",{className:"jsx-4141491617 text-lg font-semibold relative",children:[(0,x.jsx)("span",{className:"jsx-4141491617 pr-6",children:"Hiệu ứng mở m\xe0n"}),(0,x.jsx)(u.Z,{position:"top-right",size:"sm"})]})})}),(0,x.jsx)("p",{className:"jsx-4141491617 text-sm text-gray-500",children:"Tạo ấn tượng đầu ti\xean đặc biệt với hiệu ứng mở m\xe0n khi trang web của bạn được mở."}),C&&(0,x.jsx)("button",{onClick:function(){N(null),i.ZP.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n")},className:"jsx-4141491617 text-red-500 hover:text-red-700 text-sm font-medium px-3 py-1 rounded border border-red-300 hover:border-red-500 transition-colors mt-4",children:"X\xf3a hiệu ứng"})]}),(0,x.jsx)("div",{className:"jsx-4141491617 scroll-list",children:v?(0,x.jsx)("div",{className:"jsx-4141491617 flex justify-center items-center h-64",children:(0,x.jsx)(s.Z,{size:"small"})}):j.length>0?(0,x.jsx)("div",{className:"jsx-4141491617 effect-grid-container",children:(0,x.jsx)("div",{className:"jsx-4141491617 effect-grid",children:j.map(function(e){return(0,x.jsx)("div",{className:"jsx-4141491617 effect-item",children:(0,x.jsx)(p,{effect:e,isSelected:C===e.id,onClick:z,isMobile:g})},e.id)})})}):(0,x.jsx)(c.Z,{description:"Kh\xf4ng t\xecm thấy hiệu ứng n\xe0o"})}),(0,x.jsx)(P,{visible:Z,effect:R,onCancel:function(){E(!1),A(null)},onConfirm:function(e,t,n,r,a){N({id:e.id,type:e.type,duration:a,title:t,subtitle:n,imageUrl:r}),E(!1),A(null)},currentTitle:(null===(n=k.openingEffect)||void 0===n?void 0:n.title)||"Wedding Day",currentSubtitle:(null===(r=k.openingEffect)||void 0===r?void 0:r.subtitle)||"Xin mời xem thiệp cưới của ch\xfang m\xecnh nha",currentImageUrl:(null===(l=k.openingEffect)||void 0===l?void 0:l.imageUrl)||"".concat(h.Z.CDN_URL,"/resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"),currentDuration:(null===(d=k.openingEffect)||void 0===d?void 0:d.duration)||5}),(0,x.jsx)(a(),{id:"2729513400",children:[".effect-grid-container.jsx-4141491617{padding:10px;}",".effect-grid.jsx-4141491617{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;row-gap:16px;padding-bottom:80px;}",".effect-item.jsx-4141491617{width:100%;}","@media (max-width:768px){.effect-grid.jsx-4141491617{gap:8px;row-gap:12px;}}"]}),(0,x.jsx)(a(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})},z=n(4730),B=n(59499),_=n(4393),F=n(78957),M=n(67623),H=n(32141),L=n(4473),U=n(42179),X=[{id:"none",name:"None",description:"Kh\xf4ng c\xf3 hiệu ứng",icon:"assets/transition-effects/none.png",config:{textElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"none",effectDuration:0,effectDelay:0,effectEasing:"ease-out"}}},{id:"fade-in-all",name:"Fade In All",description:"Tất cả element sẽ fade in mượt m\xe0",icon:"assets/transition-effects/fade-in-all.png",config:{textElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},materialElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},otherElements:{effectType:"fade-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"}}},{id:"slide-up-all",name:"Slide Up All",description:"Tất cả element sẽ slide up từ dưới l\xean",icon:"assets/transition-effects/slide-up-all.png",config:{textElements:{effectType:"slide-up",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.2,effectEasing:"ease-out"},materialElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.2,effectEasing:"ease-out"},otherElements:{effectType:"slide-up",effectDuration:1.6,effectDelay:.3,effectEasing:"ease-out"}}},{id:"scale-in-all",name:"Scale In All",description:"Tất cả element sẽ scale in mượt m\xe0",icon:"assets/transition-effects/scale-in-all.png",config:{textElements:{effectType:"scale-in",effectDuration:1.2,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"scale-in",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"}}},{id:"flip-in-all",name:"Flip In All",description:"Tất cả element sẽ flip in mượt m\xe0",icon:"assets/transition-effects/flip-in-all.png",config:{textElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.3,effectEasing:"ease-out"},materialElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"},otherElements:{effectType:"flip-in",effectDuration:1.6,effectDelay:.1,effectEasing:"ease-out"}}},{id:"slide-up-mix",name:"Slide Up Mix",description:"Element ở giữa slide-up, lệch tr\xe1i/phải slide-right/left",icon:"assets/transition-effects/slide-up-mix.png",requiresPositionLogic:!0,config:{textElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:0,effectEasing:"ease-out"},photoElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.2,effectEasing:"ease-out"},materialElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.2,effectEasing:"ease-out"},otherElements:{effectType:"slide-up",effectDuration:1.3,effectDelay:.3,effectEasing:"ease-out"}}},{id:"fade-in-mix",name:"Fade In Mix",description:"Element ở giữa fade-in, lệch tr\xe1i/phải slide-right/left",icon:"assets/transition-effects/fade-in-mix.png",requiresPositionLogic:!0,config:{textElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:.2,effectEasing:"ease-out"},photoElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},materialElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"},otherElements:{effectType:"fade-in",effectDuration:1.5,effectDelay:0,effectEasing:"ease-out"}}}],K=function(e,t){switch(t){case"text":return e.config.textElements;case"photo":return e.config.photoElements;case"material":return e.config.materialElements;default:return e.config.otherElements}},q=function(e,t,n,r){var a=e+t/2,o=n/2;return Math.abs(a-o)<.2*n?r:a<o?"slide-right":a>o?"slide-left":r},W=n(83062),Y=n(88683),G=n.n(Y),V=n(30080),Q=function(e){var t=e.preset,n=e.onApply,r=e.onRemove,o=e.isSelected,i=void 0!==o&&o;return(0,x.jsxs)(_.Z,{size:"small",className:"preset-preview-card ".concat(G().presetPreviewCard," ").concat(G().cursorPointer," ").concat(G().transitionAll," ").concat(G().duration200," ").concat(G().hoverShadowMd," ").concat(i?"".concat(G().ring2," ").concat(G().ringBlue500," ").concat(G().bgBlue50):G().hoverBgGray50),onClick:function(){i||n(t)},children:[(0,x.jsxs)("div",{className:"jsx-2978727400 text-center relative",children:[i&&r&&(0,x.jsx)(W.Z,{title:"Reset hiệu ứng",placement:"top",children:(0,x.jsx)("button",{onClick:function(e){e.stopPropagation(),r&&r(t)},title:"Reset hiệu ứng",className:"jsx-2978727400 absolute -top-5 -right-5 w-5 h-5 bg-gray-600 hover:bg-gray-700 text-white rounded-full flex items-center justify-center transition-colors z-10",children:(0,x.jsx)(V.FU5,{size:22})})}),(0,x.jsx)("div",{className:"jsx-2978727400 mb-1 flex justify-center items-center",children:(0,x.jsx)("img",{src:"".concat(h.Z.CDN_URL,"/").concat(t.icon),alt:t.name,className:"jsx-2978727400 w-8 md:h-8 object-cover"})}),(0,x.jsx)("div",{className:"jsx-2978727400 font-medium text-xs md:text-sm mb-1",children:t.name})]}),(0,x.jsx)(a(),{id:"2978727400",children:[".preset-preview-card .ant-card-body{padding:5px;}"]})]})},J=n(86745),$=n(76975),ee=n(33299),et=n(9758),en=["editorViewportWidth"];function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){(0,B.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eo=function(e){var t,n,r,s,c=e.isMobile,l=void 0!==c&&c,d=(0,M.jE)(),p=d.query,f=d.actions,h=(0,ee.useSession)().data,m=(0,J.Dk)().activeKey,b=(0,o.useState)(0),y=b[0],v=b[1],w=(0,o.useState)(!1),N=w[0],O=w[1],S=(0,o.useState)(""),T=S[0],Z=S[1],E=(0,o.useState)(null),D=E[0],P=E[1],R=function(e){if(!e||!e.type)return"other";var t=e.type.resolvedName||e.type;return t.includes("Text")||t.includes("text")?"text":t.includes("Photo")||t.includes("photo")?"photo":t.includes("Material")||t.includes("material")?"material":"other"},I=(t=(0,k.Z)(C().mark(function e(t){var n,r,a,o,s;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{r=p.serialize(),s=(null==(o=(a=JSON.parse(r)).ROOT)?void 0:null===(n=o.props)||void 0===n?void 0:n.width)||500,Object.keys(a).forEach(function(e){if("ROOT"!==e){var n=a[e],r=R(n),o=K(t,r);if(t.requiresPositionLogic&&t.id.includes("mix")){var i,c,l=(null===(i=n.props)||void 0===i?void 0:i.left)||0,d=(null===(c=n.props)||void 0===c?void 0:c.width)||100,u=o.effectType,x=q(l,d,s,u);o=ea(ea({},o),{},{effectType:x})}n.props.transition||(n.props.transition=ea({},U.b)),n.props.transition.effectEnabled=!0,"none"===t.id&&(n.props.transition.effectEnabled=!1),n.props.transition.effectType=o.effectType,n.props.transition.effectDuration=o.effectDuration,n.props.transition.effectDelay=o.effectDelay,n.props.transition.effectEasing=o.effectEasing}}),P(a),v(function(e){return e+1})}catch(e){console.error("Error applying preset:",e),i.ZP.error("C\xf3 lỗi xảy ra khi \xe1p dụng mẫu hiệu ứng!")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),A=function(){var e,t=(null==h?void 0:null===(e=h.user)||void 0===e?void 0:e.plan)||"free";return"basic"===t||"premium"===t},B=function(){var e=et.an.free,t=et.an.basic,n=et.an.premium;return{websites:"".concat(e.maxWebsites," → ").concat(t.maxWebsites,"-").concat(n.maxWebsites),images:"".concat(e.maxImages," → ").concat(t.maxImages,"-").concat(n.maxImages),views:"".concat(e.maxViews," → ").concat((t.maxViews/1e3).toFixed(0),"K-").concat((n.maxViews/1e3).toFixed(0),"K"),duration:"".concat(e.duration," → ").concat(t.duration,"-").concat(n.duration)}},W=function(){j.Z.confirm({title:"\uD83D\uDD12 T\xednh năng n\xe2ng cao",content:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsxs)("div",{className:"mb-4",children:[(0,x.jsx)("div",{className:"text-6xl mb-3",children:"\uD83C\uDFAC✨"}),(0,x.jsx)("h3",{className:"text-lg font-bold mb-2 text-gray-800",children:"Wow! Hiệu ứng n\xe0y thật tuyệt vời!"}),(0,x.jsxs)("p",{className:"text-gray-600 mb-4 text-sm",children:["N\xe2ng cấp l\xean g\xf3i ",(0,x.jsx)("span",{className:"font-bold",children:"Basic/Premium"})," ","để sử dụng hiệu ứng v\xe0 mở kh\xf3a nhiều t\xednh năng kh\xe1c!",(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)("span",{className:"text-gray-500 text-xs italic",children:"* T\xednh năng n\xe0y chỉ c\xf3 thể sử dụng tr\xean g\xf3i Basic/Premium"})]})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-3 rounded-lg border border-blue-200 mb-3",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-xs uppercase tracking-wide",children:"\uD83D\uDE80 T\xednh năng ch\xednh:"}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-left",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-green-500",children:"✨"}),(0,x.jsx)("span",{children:"Hiệu ứng chuyển động"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-green-500",children:"✨"}),(0,x.jsx)("span",{children:"Hiệu ứng mở m\xe0n"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-blue-500",children:"\uD83C\uDFB5"}),(0,x.jsx)("span",{children:"Nhạc nền t\xf9y chỉnh"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-purple-500",children:"\uD83C\uDFF7️"}),(0,x.jsx)("span",{children:"X\xf3a watermark"})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-orange-500",children:"\uD83C\uDF81"}),(0,x.jsx)("span",{children:"Hộp lời ch\xfac & Tặng qu\xe0"})]})]})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-3 rounded-lg border border-green-200 mb-3",children:[(0,x.jsx)("h4",{className:"font-semibold text-gray-800 mb-2 text-xs uppercase tracking-wide",children:"\uD83D\uDCC8 N\xe2ng cấp giới hạn:"}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-left",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-purple-600",children:"\uD83C\uDF10"}),(0,x.jsxs)("span",{children:[B().websites," website"]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-pink-600",children:"\uD83D\uDDBC️"}),(0,x.jsxs)("span",{children:[B().images," h\xecnh ảnh"]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-indigo-600",children:"\uD83D\uDC41️"}),(0,x.jsxs)("span",{children:[B().views," lượt xem"]})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,x.jsx)("span",{className:"text-teal-600",children:"⏰"}),(0,x.jsx)("span",{children:B().duration})]})]})]})]}),icon:null,okText:"N\xe2ng cấp ngay",cancelText:"Để sau",closable:!0,onOk:function(){window.open("/pricing-plans?upgradeSource=transition-effect","_blank")},width:500,maskClosable:!0,centered:!0})},Y=function(e){T!==e.id&&P(null),Z(e.id),I(e)},V=(0,o.useMemo)(function(){try{if(D)return D;var e=p.serialize();return JSON.parse(e)}catch(e){return console.error("Error serializing page data:",e),null}},[p,T,m]),er=(0,o.useMemo)(function(){if(!V)return null;try{var e,t,n,r,a=parseInt((null===(e=V.ROOT)||void 0===e?void 0:null===(t=e.props)||void 0===t?void 0:t.width)||"500"),o=parseInt((null===(n=V.ROOT)||void 0===n?void 0:null===(r=n.props)||void 0===r?void 0:r.height)||"600"),i=340/a,s=Object.entries(V).reduce(function(e,t){var n=(0,g.Z)(t,2),r=n[0],a=n[1];if(!a.props)return e[r]=a,e;var o=ea(ea({},a.props),{},{top:(a.props.top||0)*i,left:(a.props.left||0)*i,width:(a.props.width||100)*i,height:(a.props.height||100)*i,fontSize:(a.props.fontSize||16)*i});return e[r]=ea(ea({},a),{},{props:o}),e},{});if(V.ROOT){var c=V.ROOT.props||{},l=(c.editorViewportWidth,(0,z.Z)(c,en));s.ROOT=ea(ea({},V.ROOT),{},{props:ea(ea({},l),{},{width:340,height:o*i})})}return s}catch(e){return console.error("Error scaling page data:",e),V}},[V,T,m]),eo=function(){if(!A()){W();return}if(!D){i.ZP.warning("Kh\xf4ng c\xf3 hiệu ứng n\xe0o để \xe1p dụng!");return}var e=JSON.parse(p.serialize());Object.keys(e).some(function(t){var n,r;return"ROOT"!==t&&(null===(n=e[t].props)||void 0===n?void 0:null===(r=n.transition)||void 0===r?void 0:r.effectEnabled)})?j.Z.confirm({title:"\xc1p dụng hiệu ứng hiện tại",content:(0,x.jsx)("div",{children:(0,x.jsx)("p",{children:"Thao t\xe1c n\xe0y sẽ ghi đ\xe8 tất cả c\xe1c hiệu ứng chuyển động hiện tại tr\xean trang."})}),icon:null,maskClosable:!0,okText:"\xc1p dụng",cancelText:"Hủy bỏ",onOk:function(){ei()}}):ei()},ei=function(){try{O(!1),Object.keys(D).forEach(function(e){if("ROOT"!==e){var t,n=D[e];null!==(t=n.props)&&void 0!==t&&t.transition&&f.setProp(e,function(e){e.transition||(e.transition=ea({},U.b));var t=n.props.transition;e.transition.effectEnabled=t.effectEnabled,e.transition.effectType=t.effectType,e.transition.effectDuration=t.effectDuration,e.transition.effectDelay=t.effectDelay,e.transition.effectEasing=t.effectEasing})}}),i.ZP.success("Đ\xe3 \xe1p dụng hiệu ứng v\xe0o trang!"),P(null),Z("")}catch(e){console.error("Error applying transitions to nodes:",e),i.ZP.error("C\xf3 lỗi xảy ra khi \xe1p dụng hiệu ứng!")}},es=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];P(null),Z(""),v(function(e){return e+1}),e&&i.ZP.info("Đ\xe3 loại bỏ hiệu ứng mẫu!")};return(0,o.useEffect)(function(){m!==$.Ey.EFFECT&&es(!1)},[m]),(0,x.jsxs)("div",{style:{maxHeight:"calc(-64px - 105px + 100vh)",overflowY:"scroll"},className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" flex flex-col pb-6",children:[(0,x.jsx)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" px-4 pt-2 md:pt-4",children:(0,x.jsx)(_.Z,{size:"small",className:"mb-4",title:(0,x.jsxs)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" flex items-center gap-2",children:[(0,x.jsx)("span",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]]),children:"\uD83C\uDFA8 Hiệu ứng dựng sẵn"}),(0,x.jsx)(u.Z,{position:"top-right",size:"sm"})]}),children:(0,x.jsxs)(F.Z,{direction:"vertical",className:"w-full",size:"small",children:[(0,x.jsx)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" text-xs text-gray-500 mb-3",children:"Chọn 1 mẫu hiệu ứng để \xe1p dụng cho to\xe0n bộ trang"}),(0,x.jsx)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" "+"".concat(l?G().gridCols3:G().gridCols2," ").concat(G().gap3," mb-3 p-4 md:p-0"),children:X.map(function(e){return(0,x.jsx)(Q,{preset:e,onApply:Y,onRemove:function(){return es(!0)},isSelected:T===e.id},e.id)})})]})})}),(0,x.jsxs)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" mx-auto flex justify-center items-center gap-2",children:[(0,x.jsxs)("button",{onClick:function(){O(!0)},className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors font-medium",children:["\uD83C\uDFAC ",T?"Xem trước":"Xem trước hiệu ứng"]}),T&&(0,x.jsx)("button",{onClick:eo,className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" px-4 py-2 bg-pink-cinelove text-white rounded-lg bg-pink-cinelove-hover-darker transition-colors font-medium",children:"✨ \xc1p dụng"})]}),(0,x.jsxs)(j.Z,{title:(0,x.jsxs)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" flex justify-between items-center pr-8",children:[(0,x.jsx)("span",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]]),children:"Xem trước hiệu ứng"}),D&&(0,x.jsx)("button",{onClick:eo,className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" px-3 py-1 bg-pink-cinelove bg-pink-cinelove-hover-darker text-white rounded text-sm font-medium transition-colors",children:"✨ \xc1p dụng"})]}),open:N,onCancel:function(){O(!1),v(function(e){return e+1})},footer:null,centered:!0,destroyOnHidden:!0,children:[(0,x.jsx)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" text-center text-sm italic text-gray-600 mb-4 mt-4",children:T?(0,x.jsxs)(x.Fragment,{children:["Trang đang hiển thị với hiệu ứng"," ",(0,x.jsx)("span",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" font-semibold text-pink-cinelove",children:(n=X.find(function(e){return e.id===T}))?n.name:T}),". ","Cuộn trang để xem"]}):"Chưa c\xf3 bộ hiệu ứng n\xe0o được \xe1p dụng. H\xe3y chọn 1 mẫu từ danh s\xe1ch."}),(0,x.jsx)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" flex justify-center",children:(0,x.jsx)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" border rounded-lg overflow-hidden bg-white",children:(0,x.jsx)("div",{style:{height:600},className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" overflow-auto",children:er?(0,x.jsx)("div",{id:"page-effect-preview-container",style:{width:340},className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" h-full relative overflow-x-hidden",children:(0,x.jsx)(M.ML,{resolver:H.s_,enabled:!1,children:(0,x.jsx)(M.RQ,{data:er},"preview-".concat(y,"-").concat((null===(r=er.ROOT)||void 0===r?void 0:null===(s=r.props)||void 0===s?void 0:s.width)||"preview"))})}):(0,x.jsx)("div",{className:a().dynamic([["3227129037",[l?"auto":"hidden"]]])+" flex items-center justify-center h-full text-gray-500",children:(0,x.jsx)(L.Z,{})})})})})]}),(0,x.jsx)(a(),{id:"3227129037",dynamic:[l?"auto":"hidden"],children:[".effects-tab .ant-tabs-content-holder{overflow-y:".concat(l?"auto":"hidden",";}")]})]})},ei=n(84186);function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?es(Object(n),!0).forEach(function(t){(0,B.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var el=function(e){var t=e.isMobile,n=void 0!==t&&t,r=(0,f.X2)(),i=r.settings,s=r.setSnowflakeEffect,c=i.snowflakeEffect,l=(0,m.TN)().pageData;(0,o.useEffect)(function(){null!=l&&l.snowflakeEffect&&!c&&s(l.snowflakeEffect)},[l]);var d=function(e){var t;s({enabled:(null===(t=i.snowflakeEffect)||void 0===t?void 0:t.enabled)||!1,type:e})},p=function(e,t){s(ec(ec({},i.snowflakeEffect),{},(0,B.Z)({},e,t)))};return(0,x.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" snowflake-effect-container",children:[(0,x.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-header",children:[(0,x.jsx)("h3",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-title",children:"Chọn hiệu ứng"}),(0,x.jsx)("p",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-subtitle",children:"Chọn loại hiệu ứng thả rơi bạn muốn hiển thị"})]}),(0,x.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-toggle relative",children:[(0,x.jsx)(u.Z,{position:"top-right"}),(0,x.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-container",children:[(0,x.jsxs)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-header",children:[(0,x.jsx)("h4",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-title",children:"Hiệu ứng rơi"}),(0,x.jsx)("p",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-subtitle",children:"Th\xeam hiệu ứng rơi cho trang của bạn"})]}),(0,x.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-switch-container",children:(0,x.jsxs)("label",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-switch",children:[(0,x.jsx)("input",{type:"checkbox",checked:(null==c?void 0:c.enabled)||!1,onChange:function(e){return p("enabled",e.target.checked)},className:a().dynamic([["3307126450",[n?"8px":"12px"]]])}),(0,x.jsx)("span",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-slider",children:(0,x.jsx)("span",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" toggle-knob"})})]})})]})]}),(null==c?void 0:c.enabled)&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-grid",children:[{key:"snowflakes",label:"Tuyết",icon:"❅",description:"Hiệu ứng tuyết rơi"},{key:"hearts",label:"Tr\xe1i tim",icon:"❤️",description:"Hiệu ứng tr\xe1i tim bay"},{key:"flowers",label:"Hoa",icon:"\uD83C\uDF38",description:"Hiệu ứng hoa rơi"},{key:"stars",label:"Sao",icon:"⭐",description:"Hiệu ứng sao lấp l\xe1nh"},{key:"confetti",label:"Confetti",icon:"\uD83C\uDF89",description:"Hiệu ứng confetti"},{key:"butterflies",label:"Bướm",icon:"\uD83E\uDD8B",description:"Hiệu ứng bướm bay"},{key:"mix",label:"Mix",icon:"❤️❅\uD83E\uDD0D",description:"Mix tr\xe1i tim v\xe0 tuyết"}].map(function(e){return(0,x.jsxs)("div",{onClick:function(){return d(e.key)},title:e.label,className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" "+"effect-card ".concat("mix"===e.key?"mix-card":""," ").concat((null==c?void 0:c.type)===e.key?"selected":""),children:[(0,x.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-icon",children:e.icon}),(null==c?void 0:c.type)===e.key&&(0,x.jsx)("div",{className:a().dynamic([["3307126450",[n?"8px":"12px"]]])+" effect-check",children:"✓"})]},e.key)})})}),(null==c?void 0:c.enabled)&&(0,x.jsx)(ei.Z,{snowflakeEffect:c}),(0,x.jsx)(a(),{id:"3307126450",dynamic:[n?"8px":"12px"],children:[".snowflake-effect-container.__jsx-style-dynamic-selector{padding:16px;height:100%;overflow-y:auto;}",".effect-header.__jsx-style-dynamic-selector{margin-bottom:20px;}",".effect-title.__jsx-style-dynamic-selector{font-size:18px;font-weight:600;color:#1a1a1a;margin:0 0 4px 0;}",".effect-subtitle.__jsx-style-dynamic-selector{font-size:14px;color:#666;margin:0;}",".effect-grid.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:24px;}",".effect-card.__jsx-style-dynamic-selector{position:relative;background:#f8f9fa;border:2px solid #e9ecef;border-radius:12px;padding:16px;cursor:pointer;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;aspect-ratio:1;min-height:80px;}",".effect-card.mix-card.__jsx-style-dynamic-selector{padding:8px;}",".effect-card.__jsx-style-dynamic-selector:hover{border-color:#1890ff;background:#f0f8ff;-webkit-transform:translateY(-2px);-ms-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 4px 12px rgba(24,144,255,0.15);}",".effect-card.selected.__jsx-style-dynamic-selector{border-color:#1890ff;background:#e6f7ff;box-shadow:0 4px 12px rgba(24,144,255,0.2);}",".effect-icon.__jsx-style-dynamic-selector{font-size:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-filter:drop-shadow(0 2px 4px rgba(0,0,0,0.1));filter:drop-shadow(0 2px 4px rgba(0,0,0,0.1));}",".effect-card.mix-card.__jsx-style-dynamic-selector .effect-icon.__jsx-style-dynamic-selector{font-size:12px;}",".effect-check.__jsx-style-dynamic-selector{position:absolute;top:8px;right:8px;width:20px;height:20px;background:#1890ff;color:#fff;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:12px;font-weight:bold;}",".effect-toggle.__jsx-style-dynamic-selector{margin-bottom:24px;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%);border:1px solid #dee2e6;border-radius:12px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,0.04);}",".toggle-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".toggle-header.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}",".toggle-title.__jsx-style-dynamic-selector{font-size:16px;font-weight:600;color:#1a1a1a;margin:0 0 4px 0;}",".toggle-subtitle.__jsx-style-dynamic-selector{font-size:13px;color:#666;margin:0;}",".toggle-switch-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;}",".toggle-switch.__jsx-style-dynamic-selector{position:relative;display:inline-block;width:52px;height:28px;cursor:pointer;}",".toggle-switch.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{opacity:0;width:0;height:0;}",".toggle-slider.__jsx-style-dynamic-selector{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#ccc;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;border-radius:28px;box-shadow:inset 0 2px 4px rgba(0,0,0,0.1);}",'.toggle-slider.__jsx-style-dynamic-selector:before{position:absolute;content:"";height:22px;width:22px;left:3px;bottom:3px;background:white;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;border-radius:50%;box-shadow:0 2px 6px rgba(0,0,0,0.2);}',".toggle-switch.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:checked+.toggle-slider.__jsx-style-dynamic-selector{background:linear-gradient(135deg,#1890ff 0%,#40a9ff 100%);box-shadow:0 0 0 2px rgba(24,144,255,0.2);}",".toggle-switch.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector:checked+.toggle-slider.__jsx-style-dynamic-selector:before{-webkit-transform:translateX(24px);-ms-transform:translateX(24px);transform:translateX(24px);box-shadow:0 2px 8px rgba(24,144,255,0.3);}",".toggle-switch.__jsx-style-dynamic-selector:hover .toggle-slider.__jsx-style-dynamic-selector{box-shadow:inset 0 2px 4px rgba(0,0,0,0.15);}",".toggle-switch.__jsx-style-dynamic-selector:hover input.__jsx-style-dynamic-selector:checked+.toggle-slider.__jsx-style-dynamic-selector{box-shadow:0 0 0 3px rgba(24,144,255,0.15);}",".toggle-status.__jsx-style-dynamic-selector{font-size:13px;font-weight:500;color:#666;min-width:50px;text-align:right;}","@media (max-width:768px){.snowflake-effect-container.__jsx-style-dynamic-selector{padding:".concat(n?"8px":"12px",";}.effect-grid.__jsx-style-dynamic-selector{grid-template-columns:repeat(3,1fr);gap:8px;}.effect-card.__jsx-style-dynamic-selector{padding:12px;min-height:70px;}.effect-icon.__jsx-style-dynamic-selector{font-size:28px;}.toggle-container.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:12px;}.toggle-switch-container.__jsx-style-dynamic-selector{width:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.toggle-title.__jsx-style-dynamic-selector{font-size:15px;}.toggle-subtitle.__jsx-style-dynamic-selector{font-size:12px;}}")]})]})},ed=n(34392),eu="".concat(h.Z.CDN_URL,"/assets/opening-effects/preview"),ex=[{id:"curtain-blue",name:"Curtain Blue",duration:4,videoUrl:"".concat(eu,"/curtain-reveal-blue.webm"),type:"curtain",thumbnailUrl:"".concat(eu,"/curtain-reveal-blue.jpg")},{id:"curtain-pink",name:"Curtain Pink",duration:4,videoUrl:"".concat(eu,"/curtain-reveal-pink.webm"),type:"curtain",thumbnailUrl:"".concat(eu,"/curtain-reveal-pink.jpg")},{id:"curtain-purple",name:"Curtain Purple",duration:4,videoUrl:"".concat(eu,"/curtain-reveal-purple.webm"),type:"curtain",thumbnailUrl:"".concat(eu,"/curtain-reveal-purple.jpg")},{id:"curtain-yellow",name:"Curtain Yellow",duration:4,videoUrl:"".concat(eu,"/curtain-reveal-yellow.webm"),type:"curtain",thumbnailUrl:"".concat(eu,"/curtain-reveal-yellow.jpg")},{id:"curtain-red",name:"Curtain Red",duration:4,videoUrl:"".concat(eu,"/curtain-reveal-red.webm"),type:"curtain",thumbnailUrl:"".concat(eu,"/curtain-reveal-red.jpg")},{id:"animated-image-1",name:"Animated Image",duration:5,videoUrl:"".concat(eu,"/animated-image-1.webm"),type:"animated-image",thumbnailUrl:"".concat(eu,"/animated-image-1.jpg")}],ep=function(e){var t,n,r,l,d,f=e.isMobile,g=(0,o.useState)(ex),b=g[0];g[1];var j=(0,o.useState)(!1),y=j[0];j[1];var v=(0,m.TN)().pageData,w=(0,ed.L)(),k=w.setOpeningEffect,N=w.settings,C=(null===(t=N.openingEffect)||void 0===t?void 0:t.id)||null,O=N.openingEffect,S=(0,o.useState)(!1),T=S[0],Z=S[1],E=(0,o.useState)(null),D=E[0],R=E[1];(0,o.useEffect)(function(){null!=v&&v.openingEffect&&!O&&k(v.openingEffect)},[v,O,k]);var I=function(e){"animated-image"===e.type?(R(e),Z(!0)):k({id:e.id,type:e.type,duration:e.duration})};return(0,x.jsxs)("div",{className:"jsx-4141491617 h-full",children:[(0,x.jsxs)("div",{className:"jsx-4141491617 mb-2 px-3",children:[(0,x.jsx)("div",{className:"jsx-4141491617 flex items-center justify-between mb-2 mt-2",children:(0,x.jsx)("div",{className:"jsx-4141491617 flex items-center",children:(0,x.jsxs)("h3",{className:"jsx-4141491617 text-lg font-semibold relative",children:[(0,x.jsx)("span",{className:"jsx-4141491617 pr-6",children:"Hiệu ứng mở m\xe0n"}),(0,x.jsx)(u.Z,{position:"top-right",size:"sm"})]})})}),(0,x.jsx)("p",{className:"jsx-4141491617 text-sm text-gray-500",children:"Tạo ấn tượng đầu ti\xean đặc biệt với hiệu ứng mở m\xe0n khi trang web của bạn được mở."}),C&&(0,x.jsx)("button",{onClick:function(){k(null),i.ZP.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n")},className:"jsx-4141491617 text-red-500 hover:text-red-700 text-sm font-medium px-3 py-1 rounded border border-red-300 hover:border-red-500 transition-colors mt-4",children:"X\xf3a hiệu ứng"})]}),(0,x.jsx)("div",{className:"jsx-4141491617 scroll-list",children:y?(0,x.jsx)("div",{className:"jsx-4141491617 flex justify-center items-center h-64",children:(0,x.jsx)(s.Z,{size:"small"})}):b.length>0?(0,x.jsx)("div",{className:"jsx-4141491617 effect-grid-container",children:(0,x.jsx)("div",{className:"jsx-4141491617 effect-grid",children:b.map(function(e){return(0,x.jsx)("div",{className:"jsx-4141491617 effect-item",children:(0,x.jsx)(p,{effect:e,isSelected:C===e.id,onClick:I,isMobile:f})},e.id)})})}):(0,x.jsx)(c.Z,{description:"Kh\xf4ng t\xecm thấy hiệu ứng n\xe0o"})}),(0,x.jsx)(P,{visible:T,effect:D,onCancel:function(){Z(!1),R(null)},onConfirm:function(e,t,n,r,a){k({id:e.id,type:e.type,duration:a,title:t,subtitle:n,imageUrl:r}),Z(!1),R(null)},currentTitle:(null===(n=N.openingEffect)||void 0===n?void 0:n.title)||"Wedding Day",currentSubtitle:(null===(r=N.openingEffect)||void 0===r?void 0:r.subtitle)||"Xin mời xem thiệp cưới của ch\xfang m\xecnh nha",currentImageUrl:(null===(l=N.openingEffect)||void 0===l?void 0:l.imageUrl)||"".concat(h.Z.CDN_URL,"/resources/characters/24bebbc90bc64fe3952b44881c3be849.gif"),currentDuration:(null===(d=N.openingEffect)||void 0===d?void 0:d.duration)||5}),(0,x.jsx)(a(),{id:"2729513400",children:[".effect-grid-container.jsx-4141491617{padding:10px;}",".effect-grid.jsx-4141491617{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;row-gap:16px;padding-bottom:80px;}",".effect-item.jsx-4141491617{width:100%;}","@media (max-width:768px){.effect-grid.jsx-4141491617{gap:8px;row-gap:12px;}}"]}),(0,x.jsx)(a(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})};function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){(0,B.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var em=function(){var e=(0,m.TN)().pageData,t=(0,ed.L)(),n=t.setSnowflakeEffect,r=t.settings,i=r.snowflakeEffect;(0,o.useEffect)(function(){null!=e&&e.snowflakeEffect&&!i&&n(e.snowflakeEffect)},[e,i,n]);var s=function(e){var t;n({enabled:(null===(t=r.snowflakeEffect)||void 0===t?void 0:t.enabled)||!1,type:e})},c=function(e,t){"enabled"!==e||t?n(eh(eh({},r.snowflakeEffect),{},(0,B.Z)({},e,t))):n(null)};return(0,x.jsxs)("div",{className:"jsx-1520400475 snowflake-effect-container",children:[(0,x.jsxs)("div",{className:"jsx-1520400475 effect-header",children:[(0,x.jsx)("h3",{className:"jsx-1520400475 effect-title",children:"Chọn hiệu ứng"}),(0,x.jsxs)("div",{className:"jsx-1520400475 effect-toggle",children:[(0,x.jsxs)("label",{className:"jsx-1520400475 switch",children:[(0,x.jsx)("input",{type:"checkbox",checked:(null==i?void 0:i.enabled)||!1,onChange:function(e){return c("enabled",e.target.checked)},className:"jsx-1520400475"}),(0,x.jsx)("span",{className:"jsx-1520400475 slider round"})]}),(0,x.jsx)("span",{className:"jsx-1520400475 toggle-label",children:null!=i&&i.enabled?"Bật":"Tắt"})]})]}),(null==i?void 0:i.enabled)&&(0,x.jsx)("div",{className:"jsx-1520400475 effect-options",children:(0,x.jsx)("div",{className:"jsx-1520400475 options-grid",children:[{key:"snowflakes",label:"Tuyết",icon:"❅",description:"Hiệu ứng tuyết rơi"},{key:"hearts",label:"Tr\xe1i tim",icon:"❤️",description:"Hiệu ứng tr\xe1i tim bay"},{key:"flowers",label:"Hoa",icon:"\uD83C\uDF38",description:"Hiệu ứng hoa rơi"},{key:"stars",label:"Sao",icon:"⭐",description:"Hiệu ứng sao lấp l\xe1nh"},{key:"confetti",label:"Confetti",icon:"\uD83C\uDF89",description:"Hiệu ứng confetti"},{key:"butterflies",label:"Bướm",icon:"\uD83E\uDD8B",description:"Hiệu ứng bướm bay"},{key:"mix",label:"Mix",icon:"❤️❅\uD83E\uDD0D",description:"Mix tr\xe1i tim v\xe0 tuyết"}].map(function(e){return(0,x.jsxs)("div",{onClick:function(){return s(e.key)},className:"jsx-1520400475 "+"option-item ".concat((null==i?void 0:i.type)===e.key?"selected":""),children:[(0,x.jsx)("div",{className:"jsx-1520400475 option-icon",children:e.icon}),(0,x.jsxs)("div",{className:"jsx-1520400475 option-content",children:[(0,x.jsx)("div",{className:"jsx-1520400475 option-label",children:e.label}),(0,x.jsx)("div",{className:"jsx-1520400475 option-description",children:e.description})]}),(null==i?void 0:i.type)===e.key&&(0,x.jsx)("div",{className:"jsx-1520400475 selected-indicator",children:"✓"})]},e.key)})})}),(null==i?void 0:i.enabled)&&(0,x.jsx)(ei.Z,{snowflakeEffect:i}),(0,x.jsx)(a(),{id:"1520400475",children:[".snowflake-effect-container.jsx-1520400475{padding:16px;height:100%;overflow-y:auto;}",".effect-header.jsx-1520400475{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid #e5e7eb;}",".effect-title.jsx-1520400475{font-size:18px;font-weight:600;color:#1f2937;margin:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;}",".effect-toggle.jsx-1520400475{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;}",".toggle-label.jsx-1520400475{font-size:14px;font-weight:500;color:#6b7280;}",".switch.jsx-1520400475{position:relative;display:inline-block;width:50px;height:24px;}",".switch.jsx-1520400475 input.jsx-1520400475{opacity:0;width:0;height:0;}",".slider.jsx-1520400475{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:0.4s;transition:0.4s;border-radius:24px;}",'.slider.jsx-1520400475:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:white;-webkit-transition:0.4s;transition:0.4s;border-radius:50%;}',"input.jsx-1520400475:checked+.slider.jsx-1520400475{background-color:#3b82f6;}","input.jsx-1520400475:checked+.slider.jsx-1520400475:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px);}",".effect-options.jsx-1520400475{margin-top:20px;}",".options-grid.jsx-1520400475{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;}",".option-item.jsx-1520400475{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;background:white;position:relative;}",".option-item.jsx-1520400475:hover{border-color:#3b82f6;box-shadow:0 2px 4px rgba(59,130,246,0.1);}",".option-item.selected.jsx-1520400475{border-color:#3b82f6;background-color:#eff6ff;}",".option-icon.jsx-1520400475{font-size:24px;margin-right:12px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".option-content.jsx-1520400475{-webkit-flex:1;-ms-flex:1;flex:1;}",".option-label.jsx-1520400475{font-size:14px;font-weight:500;color:#1f2937;margin-bottom:2px;}",".option-description.jsx-1520400475{font-size:12px;color:#6b7280;}",".selected-indicator.jsx-1520400475{position:absolute;top:8px;right:8px;color:#3b82f6;font-weight:bold;font-size:16px;}","@media (max-width:768px){.snowflake-effect-container.jsx-1520400475{padding:12px;}.effect-header.jsx-1520400475{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;gap:12px;}.options-grid.jsx-1520400475{grid-template-columns:1fr;gap:8px;}.option-item.jsx-1520400475{padding:10px;}.option-icon.jsx-1520400475{font-size:20px;margin-right:10px;}}"]})]})},eg=n(11163),eb=function(e){var t,n=e.isMobile,r=(0,o.useState)("transition"),i=r[0],s=r[1],c=(0,eg.useRouter)().pathname.includes("/admin/templates/edit"),l=[{key:"transition",label:"Hiệu ứng động",component:(0,x.jsx)(eo,{isMobile:n})},{key:"opening",label:"Hiệu ứng mở m\xe0n",component:c?(0,x.jsx)(ep,{isMobile:n}):(0,x.jsx)(A,{isMobile:n})},{key:"snowflakes",label:"Hiệu ứng rơi",component:c?(0,x.jsx)(em,{isMobile:n}):(0,x.jsx)(el,{isMobile:n})}],d=null===(t=l.find(function(e){return e.key===i}))||void 0===t?void 0:t.component;return(0,x.jsxs)("div",{className:"jsx-559594793 custom-effects-tab",children:[(0,x.jsx)("div",{className:"jsx-559594793 tab-header",children:l.map(function(e){return(0,x.jsx)("button",{onClick:function(){return s(e.key)},className:"jsx-559594793 "+"tab-button ".concat(i===e.key?"active":""),children:(0,x.jsx)("span",{className:"jsx-559594793 tab-label",children:e.label})},e.key)})}),(0,x.jsx)("div",{className:"jsx-559594793 tab-content",children:d}),(0,x.jsx)(a(),{id:"559594793",children:[".custom-effects-tab.jsx-559594793{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background:#fff;}",".tab-header.jsx-559594793{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;background:#fafafa;border-bottom:1px solid #e8e8e8;padding:12px 8px;min-height:auto;}",".tab-button.jsx-559594793{position:relative;background:#ededed;border:none;padding:8px 12px;margin:0;cursor:pointer;border-radius:8px;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;white-space:nowrap;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".tab-button.jsx-559594793:hover{background:#e6f7ff;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);}",".tab-button.active.jsx-559594793{background:#1890ff;color:#fff;box-shadow:0 2px 8px rgba(24,144,255,0.3);-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);}",".tab-label.jsx-559594793{font-size:13px;font-weight:500;color:#3a3a3a;-webkit-transition:color 0.2s ease;transition:color 0.2s ease;}",".tab-button.active.jsx-559594793 .tab-label.jsx-559594793{color:#fff;font-weight:600;}",".tab-indicator.jsx-559594793{display:none;}",".tab-content.jsx-559594793{-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;background:#fff;}","@media (max-width:768px){.tab-header.jsx-559594793{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:6px;padding:8px 4px;}.tab-button.jsx-559594793{padding:6px 8px;}.tab-label.jsx-559594793{font-size:12px;}}","@media (max-width:480px){.tab-header.jsx-559594793{grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:4px;padding:6px 2px;}.tab-button.jsx-559594793{padding:4px 6px;}.tab-label.jsx-559594793{font-size:11px;}}"]})]})}},4473:function(e,t,n){"use strict";var r=n(19848),a=n.n(r);n(67294);var o=n(85893);t.Z=function(e){var t=e.count,n=void 0===t?6:t;return(0,o.jsxs)(o.Fragment,{children:[Array(n).fill(0).map(function(e,t){return(0,o.jsx)("div",{className:"jsx-451164390 materialItem skeleton",children:(0,o.jsx)("div",{className:"jsx-451164390 skeleton-content"})},t)}),(0,o.jsx)(a(),{id:"451164390",children:[".materialItem.jsx-451164390{aspect-ratio:1;border-radius:4px;}",".skeleton.jsx-451164390{background:#f4f5f6;position:relative;overflow:hidden;width:100%;height:100%;min-height:85px;}",".skeleton-content.jsx-451164390{height:100%;width:100%;background:linear-gradient( 90deg, rgba(255,255,255,0) 0, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0) 100% );-webkit-animation:shimmer-jsx-451164390 1.5s infinite;animation:shimmer-jsx-451164390 1.5s infinite;position:absolute;top:0;left:0;}","@-webkit-keyframes shimmer-jsx-451164390{0%{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}100%{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}}","@keyframes shimmer-jsx-451164390{0%{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}100%{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);}}"]})]})}},20380:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(67294),a=n(27812),o=n(50029),i=n(19848),s=n.n(i),c=n(87794),l=n.n(c),d=n(67623),u=n(34342),x=n(86745),p=n(40056),f=n(7764),h=n(59499);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=(0,n(31993).U)(function(e,t){return{cache:{},setMaterials:function(t,n){return e(function(e){return{cache:g(g({},e.cache),{},(0,h.Z)({},t,n))}})},getMaterials:function(e){return t().cache[e]||null}}}),j=n(4473),y=n(85893),v=function(e){var t=e.isMobile,n=void 0!==t&&t,i=e.onClose,c=e.activeCategory,h=e.categoryType,m=void 0===h?"img":h,g=e.onViewMore,v=(0,r.useState)(!1),w=v[0],k=v[1],N=b(),C=N.setMaterials,O=N.getMaterials,S=(0,r.useState)([]),T=S[0],Z=S[1],E=(0,r.useState)([]),D=E[0],P=E[1],R=(0,r.useRef)({}),I=(0,d.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),A=I.connectors.create,z=I.actions,B=I.query,_=I.currentlySelectedNodeId,F=(0,r.useRef)(0),M=(0,r.useRef)(0),H=(0,x.Hj)(),L=H.isReplacing,U=H.replaceType,X=H.selectedNodeId,K=(0,x.Dk)().setActiveKey;(0,r.useEffect)(function(){var e;k(!0),(e=(0,o.Z)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(f.Z.API_URL,"/api/resources/all"));case 3:return t=e.sent,e.next=6,t.json();case 6:P(e.sent.categories),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to fetch categories:",e.t0);case 13:return e.prev=13,k(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),(0,r.useEffect)(function(){var e;(e=(0,o.Z)(l().mark(function e(){var t,n,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==c){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,k(!0),!(t=O(c))){e.next=8;break}return Z(t),e.abrupt("return");case 8:return e.next=10,fetch("".concat(f.Z.API_URL,"/api/resources/categories/").concat(c));case 10:return n=e.sent,e.next=13,n.json();case 13:C(c,r=e.sent.items.map(function(e){return{id:e.id,imgKey:e.fileKey}})),Z(r),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),console.error("Failed to fetch materials:",e.t0);case 22:return e.prev=22,k(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[2,19,22,25]])})),function(){return e.apply(this,arguments)})()},[c,C,O]);var q=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=Math.round(Math.min(Math.max(r,0),n.width)),i=Math.round(Math.min(Math.max(a,0),n.height));F.current=i,M.current=o}},W=function(e,t,o){if(L&&"material"===U&&null!==X&&X==_){var s=B.node(X).get().data.props.width,c=s,l=R.current[o];if(l){var d=l.naturalWidth;c=s*(l.naturalHeight/d)}z.setProp(X,function(e){e.imgKey=t,e.width=s,e.height=c,e.materialType=m}),x.Hj.getState().setReplacing(!1),x.Hj.getState().setReplaceType(null),x.Hj.getState().setSelectedNodeId(null),n&&i&&i(),K(null);return}var u=document.getElementById("root-page-container"),p=document.getElementById("main-scroll-container");if(u&&p){var f=p.scrollTop,h=u.getBoundingClientRect().width,g=100,b=100,j=R.current[o];if(j){var y=j.naturalWidth,v=j.naturalHeight;y>200?(g=200,b=Math.round(200*(v/y))):(g=y,b=v)}var w=B.node("ROOT").get().data.nodes||[],k=0;w.length>0&&(k=Math.max.apply(Math,(0,a.Z)(w.map(function(e){return B.node(e).get().data.props.zIndex||0}))));var N=B.createNode(r.createElement(e,{top:Math.round(f+window.innerHeight/2-150),left:Math.round(h/2-g/2),width:g,height:j?b:"auto",imgKey:t,materialType:m,zIndex:0==k?0:k+1}));z.add(N,"ROOT"),z.selectNode(N.id),n&&i&&i()}};return(0,y.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" scroll-list",children:[L&&"material"===U&&(0,y.jsx)(p.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm sticky top-0 z-50"}),"all"===c?(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" categories-container",children:w?(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:(0,y.jsx)(j.Z,{count:15})}):D.map(function(e){return(0,y.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" category-section",children:[(0,y.jsxs)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" category-header",children:[(0,y.jsx)("h3",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]]),children:e.name}),(0,y.jsx)("button",{onClick:function(){return g(e.id)},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" view-more",children:"Xem th\xeam"})]}),(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:e.samples.map(function(t){return(0,y.jsx)("div",{onClick:function(){return W(u.r,t.imgKey,t.id)},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" materialItem",children:(0,y.jsx)("img",{src:"svg"===e.type?"".concat(f.Z.CDN_RESOURCE_URL,"/").concat(t.imgKey):"".concat(f.Z.CDN_RESOURCE_URL,"/").concat(t.thumbnailKey),alt:"".concat(e.name," thumbnail"),ref:function(e){return R.current[t.id]=e},style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])})},t.id)})})]},e.id)})}):(0,y.jsx)("div",{className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" material-list-container",children:w?(0,y.jsx)(j.Z,{count:15}):T.map(function(e){return(0,y.jsx)("div",{ref:function(t){return A(t,(0,y.jsx)(u.r,{imgKey:e.imgKey}),{onCreate:function(t){var n=100,r=100,o=R.current[e.id];if(o){var i=o.naturalWidth,s=o.naturalHeight;n=i,r=s}var c=B.node("ROOT").get().data.nodes||[],l=0;c.length>0&&(l=Math.max.apply(Math,(0,a.Z)(c.map(function(e){return B.node(e).get().data.props.zIndex||0}))));var d=Object.keys(t.nodes)[0];z.setProp(d,function(e){e.top=F.current||0,e.left=M.current||0,e.width=n,e.height=o?r:"auto",e.materialType=m,e.zIndex=0==l?0:l+1})}})},draggable:!0,onClick:function(){return W(u.r,e.imgKey,e.id)},onDrag:q,className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])+" materialItem",children:(0,y.jsx)("img",{src:"svg"===m?"".concat(f.Z.CDN_RESOURCE_URL,"/").concat(e.imgKey):"".concat(f.Z.CDN_RESOURCE_URL,"/resources/").concat(c,"/thumbnail/").concat(e.id,".webp"),alt:"Material thumbnail",ref:function(t){return R.current[e.id]=t},style:{height:"100%",objectFit:"contain",objectPosition:"center",margin:"auto"},className:"jsx-1357349454 "+s().dynamic([["1126291226",[n&&"all"!==c?"100px":"0"]]])})},e.id)})}),(0,y.jsx)(s(),{id:"1126291226",dynamic:[n&&"all"!==c?"100px":"0"],children:[".categories-container.__jsx-style-dynamic-selector{padding:20px 0;}",".category-section.__jsx-style-dynamic-selector{margin-bottom:30px;}","@media screen and (max-width:768px){.category-section.__jsx-style-dynamic-selector:last-child{margin-bottom:50px;}}",".category-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px;padding:0 12px;}",".category-header.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{font-size:16px;font-weight:600;margin:0;}",".view-more.__jsx-style-dynamic-selector{color:#666;font-size:14px;-webkit-text-decoration:none;text-decoration:none;background:none;border:none;cursor:pointer;padding:0;}",".view-more.__jsx-style-dynamic-selector:hover{color:#1890ff;}",".materialItem.__jsx-style-dynamic-selector{text-align:center;padding:10px;border-radius:4px;overflow:hidden;width:85px;height:85px;background:#f4f5f6;-webkit-transition:-webkit-transform 0.3s ease;-webkit-transition:transform 0.3s ease;transition:transform 0.3s ease;cursor:pointer;margin:auto;}",".materialItem.__jsx-style-dynamic-selector:hover{background:rgba(0,0,0,0.1);}",".material-list-container.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-bottom:".concat(n&&"all"!==c?"100px":"0",";padding:20px 10px 20px 12px;}")]}),(0,y.jsx)(s(),{id:"1357349454",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:100%;}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})},w=n(85418),k=function(e){var t=e.mainCategories,n=e.subCategoryData,r=e.activeCategory,a=e.activeSubCategory,o=e.selectedSubCategoryLabel,i=e.onCategoryChange,c=e.onSubCategoryChange,l=n.map(function(e){var t=e.key,n=e.label;return{key:t,label:(0,y.jsx)("button",{className:"category-btn w-full text-left ".concat(r===t?"active":""),onClick:function(){return c(t,n)},children:n})}});return(0,y.jsxs)("div",{className:"jsx-3655831712 category-list",children:[(0,y.jsxs)("div",{className:"jsx-3655831712 main-categories",children:[t.map(function(e){return(0,y.jsx)("button",{onClick:function(){return i(e.key)},className:"jsx-3655831712 "+"category-btn ".concat(r===e.key?"active":""),children:e.label},e.key)}),(0,y.jsx)(w.Z,{menu:{items:l},trigger:["click"],placement:"bottomLeft",overlayClassName:"subcategories-dropdown",children:(0,y.jsxs)("button",{className:"jsx-3655831712 "+"category-btn ".concat(a?"active":""),children:[o," ▼"]})})]}),(0,y.jsx)(s(),{id:"3655831712",children:[".category-list{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:12px;border-bottom:1px solid rgb(244,245,246);}",".main-categories,.sub-categories{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5px;}",".category-btn{padding:6px 12px;border-radius:16px;border:none;background-color:#f5f5f5;color:#333;font-size:14px;cursor:pointer;-webkit-transition:all 0.2s;transition:all 0.2s;}",".category-btn:hover{background-color:#e8e8e8;}",".category-btn.active{background-color:#e6f0ff;color:#1890ff;}",".subcategories-dropdown .ant-dropdown-menu{padding:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5px;width:280px;background:white;}",".subcategories-dropdown .ant-dropdown-menu-item{padding:0;margin:0;width:auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}",".subcategories-dropdown .ant-dropdown-menu-item:hover{background:transparent;}",".subcategories-dropdown .ant-dropdown-menu-item-only-child{padding:0 !important;margin:0 !important;background:transparent !important;white-space:normal !important;}",".subcategories-dropdown .category-btn{white-space:nowrap;text-align:left;padding:6px 12px;border-radius:16px;background-color:#f5f5f5;width:auto;}",".subcategories-dropdown .category-btn:hover{background-color:#e8e8e8;}",".ant-dropdown.subcategories-dropdown{-webkit-animation-duration:0.2s;animation-duration:0.2s;}",".subcategories-dropdown .category-btn.active{background-color:#e6f0ff;color:#1890ff;}"]})]})},N=function(e){var t,n=e.isMobile,a=e.onClose,o=(0,r.useState)("all"),i=o[0],s=o[1],c=(0,r.useState)(null),l=c[0],d=c[1],u=(0,r.useState)("Xem th\xeam"),x=u[0],p=u[1],f=[{key:"textCombination",label:"Kết hợp chữ"},{key:"numbersAndLetters",label:"Số v\xe0 chữ c\xe1i"},{key:"decorativeElements",label:"Trang tr\xed kh\xf4ng gian"},{key:"birthdayWishes",label:"Ch\xfac mừng sinh nhật"},{key:"sun",label:"Mặt trời"},{key:"festivalHighlights",label:"Lễ hội nổi bật"},{key:"stars",label:"Ng\xf4i sao"},{key:"motherAndBaby",label:"Mẹ v\xe0 b\xe9"},{key:"flowchartIcons",label:"Biểu tượng lưu đồ"},{key:"map",label:"Bản đồ"},{key:"shapes",label:"H\xecnh dạng"},{key:"borders",label:"Khung viền"},{key:"dividers",label:"Đường ph\xe2n c\xe1ch"}],h=function(e){s(e),d(null),p("Xem th\xeam")},m=function(e,t){s(e),p(t),d(e)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(k,{mainCategories:[{key:"all",label:"Tất cả"},{key:"weddingElements",label:"Yếu tố đ\xe1m cưới"},{key:"characters",label:"Nh\xe2n vật"},{key:"bouquet",label:"Hoa cưới"},{key:"happiness",label:"Chữ hỷ"},{key:"love",label:"Tr\xe1i tim"}],subCategoryData:f,activeCategory:i,activeSubCategory:l,selectedSubCategoryLabel:x,onCategoryChange:h,onSubCategoryChange:m}),(0,y.jsx)(v,{isMobile:n,onClose:a,activeCategory:i,categoryType:null===(t=({weddingElements:{name:"Yếu tố đ\xe1m cưới",type:"img"},characters:{name:"Nh\xe2n vật",type:"img"},bouquet:{name:"Hoa cưới",type:"img"},happiness:{name:"Chữ hỷ",type:"img"},love:{name:"Tr\xe1i tim",type:"img"},textCombination:{name:"Kết hợp chữ",type:"img"},numbersAndLetters:{name:"Số v\xe0 chữ c\xe1i",type:"img"},decorativeElements:{name:"Trang tr\xed kh\xf4ng gian",type:"img"},birthdayWishes:{name:"Ch\xfac mừng sinh nhật",type:"img"},sun:{name:"Mặt trời",type:"img"},festivalHighlights:{name:"Lễ hội nổi bật",type:"img"},stars:{name:"Ng\xf4i sao",type:"img"},motherAndBaby:{name:"Mẹ v\xe0 b\xe9",type:"img"},flowchartIcons:{name:"Biểu tượng lưu đồ",type:"img"},map:{name:"Bản đồ",type:"img"},shapes:{name:"H\xecnh dạng",type:"svg"},borders:{name:"Khung viền",type:"svg"},dividers:{name:"Đường ph\xe2n c\xe1ch",type:"svg"}})[i])||void 0===t?void 0:t.type,onViewMore:function(e){var t=f.find(function(t){return t.key===e});t?m(e,t.label):h(e)}})]})}},11936:function(e,t,n){"use strict";var r=n(16835),a=n(50029),o=n(27812),i=n(87794),s=n.n(i),c=n(67294),l=n(2453),d=n(17788),u=n(40056),x=n(74382),p=n(25675),f=n.n(p),h=n(30080),m=n(67623),g=n(3885),b=n(77917),j=n(76975),y=n(52804),v=n(84249),w=n(86745),k=n(49184),N=n(90072),C=n(85893);t.Z=function(e){var t,n,i=e.isMobile,p=e.onClose,O=(0,c.useState)([]),S=O[0],T=O[1],Z=(0,c.useState)(!1),E=Z[0],D=Z[1],P=(0,w.Hj)(),R=P.isReplacing,I=P.replaceType,A=P.selectedNodeId,z=(0,w.Dk)().setActiveKey,B=(0,N.X2)(),_=B.settings,F=B.setThumbnail,M=(0,m.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),H=M.connectors.create,L=M.actions,U=M.query,X=M.currentlySelectedNodeId,K=(0,c.useRef)({}),q=(0,c.useRef)(0),W=(0,c.useRef)(0),Y=(0,y.$)(function(e){return e.refreshTrigger}),G=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=Math.round(Math.min(Math.max(r,0),n.width)),i=Math.round(Math.min(Math.max(a,0),n.height));q.current=i,W.current=o}},V=function(e,t){if(R&&"photo"===I&&null!==A&&A===X){var n=U.node(A).get().data.props.width,r=n,a=K.current[t];if(a){var s=a.naturalWidth;r=n*(a.naturalHeight/s)}L.setProp(A,function(t){t.imgKey=e,t.width=n,t.height=r}),w.Hj.getState().setReplacing(!1),w.Hj.getState().setReplaceType(null),w.Hj.getState().setSelectedNodeId(null),i&&p&&p(),z(null);return}var l=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(l&&d){var u=d.scrollTop,x=l.getBoundingClientRect().width,f=100,h=100,m=K.current[t];if(m){var y=m.naturalWidth,v=m.naturalHeight,k=(0,b.M)(j.qp,y,v),N=k.scaleWidth,C=k.scaleHeight;f=N,h=C}var O=U.node("ROOT").get().data.nodes||[],S=0;O.length>0&&(S=Math.max.apply(Math,(0,o.Z)(O.map(function(e){return U.node(e).get().data.props.zIndex||0}))));var T=U.createNode(c.createElement(g.A,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(x/2-f/2),width:f,height:h,imgKey:e,zIndex:0==S?0:S+1}));L.add(T,"ROOT"),L.selectNode(T.id),i&&p&&p()}},Q=(t=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,(0,k.ZQ)();case 4:T(J(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),l.ZP.error("Failed to load photos");case 13:return e.prev=13,D(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return t.apply(this,arguments)}),J=function(e){return(0,o.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,c.useEffect)(function(){Q()},[Y]);var $=(S.reduce(function(e,t){return e+t.fileSize},0)/1073741824).toFixed(4),ee=function(e){var t=U.getNodes(),n=[],a=!1;return _.thumbnailKey&&_.thumbnailKey.includes(e)&&(a=!0),Object.entries(t).forEach(function(t){var a,o,i,s,c,l,d,u,x=(0,r.Z)(t,2),p=x[0],f=x[1];(null===(a=f.data)||void 0===a?void 0:a.name)==="PhotoBox"&&null!==(o=f.data)&&void 0!==o&&null!==(i=o.props)&&void 0!==i&&null!==(s=i.imgKey)&&void 0!==s&&s.includes(e)&&n.push(p),(null===(c=f.data)||void 0===c?void 0:c.name)==="UnifiedMap"&&null!==(l=f.data)&&void 0!==l&&null!==(d=l.props)&&void 0!==d&&null!==(u=d.galleryImageUrl)&&void 0!==u&&u.includes(e)&&n.push(p)}),{usedInNodes:n,isUsedAsThumbnail:a,totalUsage:n.length+(a?1:0)}},et=function(e){e.forEach(function(e){try{L.delete(e)}catch(t){console.warn("Kh\xf4ng thể x\xf3a node ".concat(e,":"),t)}})},en=(n=(0,a.Z)(s().mark(function e(t,n){var r,o,i,c,u;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=(r=ee(n)).usedInNodes,i=r.isUsedAsThumbnail,(c=r.totalUsage)>0?(u=(0,C.jsxs)("div",{children:[(0,C.jsxs)("p",{children:["Ảnh n\xe0y đang được sử dụng trong ",c," th\xe0nh phần:"]}),o.length>0&&(0,C.jsxs)("p",{children:["• ",o.length," th\xe0nh phần của trang"]}),i&&(0,C.jsxs)("p",{children:["• ",(0,C.jsx)("strong",{children:"Thumbnail của trang"})," (ảnh hiển thị khi chia sẻ)"]}),(0,C.jsx)("p",{children:(0,C.jsx)("strong",{children:"Nếu bạn x\xf3a ảnh n\xe0y, c\xe1c th\xe0nh phần đ\xf3 cũng sẽ bị x\xf3a theo."})}),(0,C.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 mt-2",children:(0,C.jsx)("div",{className:"flex",children:(0,C.jsxs)("div",{className:"ml-2 text-sm text-yellow-800",children:[(0,C.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến c\xe1c trang đ\xf3."]})})}),(0,C.jsx)("p",{className:"mt-3",children:(0,C.jsx)("strong",{children:"Bạn c\xf3 chắc chắn muốn tiếp tục x\xf3a?"})})]}),d.Z.confirm({title:"Ảnh đang được sử dụng",content:u,okText:"Vẫn x\xf3a",cancelText:"Hủy",okType:"danger",centered:!0,onOk:function(){var e=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,et(o),i&&F(""),e.next=5,(0,k.JJ)(t);case 5:l.ZP.success("Đ\xe3 x\xf3a ảnh v\xe0 ".concat(c," th\xe0nh phần sử dụng ảnh")),Q(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),l.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}()})):d.Z.confirm({title:"X\xf3a ảnh",icon:null,content:(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?"}),(0,C.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mt-3",children:(0,C.jsx)("div",{className:"flex",children:(0,C.jsxs)("div",{className:"ml-3 text-sm text-yellow-800",children:[(0,C.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang thiệp kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến tất cả c\xe1c trang đ\xf3."]})})})]}),okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.JJ)(t);case 3:l.ZP.success("Ảnh đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),Q(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),l.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:"",children:[(0,C.jsx)("div",{className:"p-3",children:(0,C.jsx)(x.Z,{onUploadSuccess:Q})}),R&&(0,C.jsx)(u.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,C.jsxs)("div",{className:"mt-4",children:[(0,C.jsx)("h4",{className:"px-3 mb-2",children:"Tệp đ\xe3 tải l\xean"}),(0,C.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",S.length," tệp (",$," GB / 5GB)"]}),(0,C.jsx)("div",{className:"upload-list",children:(0,C.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:i?"calc(60vh - 300px)":"calc(100vh - 300px)",minHeight:"300px",maxHeight:"calc(100vh - 300px)",overflow:"auto",paddingBottom:"100px"},children:(0,C.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:E?Array(6).fill(null).map(function(e,t){return(0,C.jsx)("div",{className:"aspect-square animate-pulse",children:(0,C.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):S.map(function(e,t){return(0,C.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){return H(t,(0,C.jsx)(g.A,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=K.current[e.fileId];if(a){var i=a.naturalWidth,s=a.naturalHeight,c=(0,b.M)(j.qp,i,s),l=c.scaleWidth,d=c.scaleHeight;n=l,r=d}var u=U.node("ROOT").get().data.nodes||[],x=0;u.length>0&&(x=Math.max.apply(Math,(0,o.Z)(u.map(function(e){return U.node(e).get().data.props.zIndex||0}))));var p=Object.keys(t.nodes)[0];L.setProp(p,function(e){e.top=q.current||0,e.left=W.current||0,e.width=n,e.height=r,e.zIndex=0==x?0:x+1})}})},draggable:!0,onClick:function(){return V(e.fileKey,e.fileId)},onDrag:G,children:(0,C.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,C.jsx)(f(),{unoptimized:!0,src:(0,v.VM)(e.fileKey,200),alt:"User photo ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){return K.current[e.fileId]=t}}),(0,C.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,C.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,C.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),en(e.fileId,e.fileKey)},title:"Delete photo",children:(0,C.jsx)(h.XPx,{className:"w-3 h-3"})})})})]})},e.fileId)})})})})]})]})})}},20941:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(27812),a=n(67294),o=n(25675),i=n.n(o),s=n(67623),c=n(7764),l=n(4002),d=n(76975),u=n(50649),x=n(41930),p=n(59854),f=n(44908),h=n(33299),m=n(53298),g=n(80122),b=n(22567),j=n(46425),y=n(85893),v=function(e){var t=e.isOpen,n=e.onClose,r=j.T0.filter(function(e){return"basic"===e.name||"premium"===e.name}),o=function(e){window.open(e,"_blank"),n()};return(0,y.jsx)(m.u,{appear:!0,show:t,as:a.Fragment,children:(0,y.jsxs)(g.Vq,{as:"div",className:"relative",style:{zIndex:9999},onClose:n,children:[(0,y.jsx)(m.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,y.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,y.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,y.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,y.jsx)(m.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,y.jsxs)(g.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all relative",children:[(0,y.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Đ\xf3ng",children:(0,y.jsx)(b.JO,{icon:"solar:close-circle-bold",className:"h-6 w-6 text-gray-500"})}),(0,y.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,y.jsx)("div",{className:"rounded-full bg-blue-100 p-3",children:(0,y.jsx)(b.JO,{icon:"solar:map-bold",className:"h-8 w-8 text-blue-500"})})}),(0,y.jsx)(g.Vq.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-gray-900 text-center mb-2",children:"Giới hạn g\xf3i Free"}),(0,y.jsxs)("div",{className:"mt-4 text-center",children:[(0,y.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:(0,y.jsxs)("p",{className:"text-gray-600",children:["G\xf3i Free chỉ cho ph\xe9p sử dụng tối đa"," ",(0,y.jsx)("strong",{children:"1 bản đồ"})," tr\xean mỗi trang."]})}),(0,y.jsx)("p",{className:"text-gray-600 mb-6",children:"N\xe2ng cấp l\xean g\xf3i Basic hoặc Premium để th\xeam kh\xf4ng giới hạn bản đồ v\xe0 nhiều t\xednh năng n\xe2ng cao kh\xe1c."}),(0,y.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,y.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,y.jsx)(b.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"N\xe2ng cấp để sử dụng đầy đủ"]}),(0,y.jsx)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:r.map(function(e){return(0,y.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[e.popular&&(0,y.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,y.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,y.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,y.jsx)(b.JO,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,y.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,y.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,y.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,y.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,j.vs)(e.price,e.originalPrice),"%"]})]}):(0,y.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,y.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,y.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,y.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,y.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,y.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,y.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,y.jsx)("div",{className:"text-gray-700",children:"• Kh\xf4ng giới hạn bản đồ"}),e.featured&&(0,y.jsx)("div",{className:"text-gray-700",children:"• Template Premium"})]}),(0,y.jsxs)("button",{onClick:function(){return o(e.ctaLink+"&upgradeSource=map-limit")},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]})]})]})})})})]})})},w=n(20359),k=n(35710),N=n(793),C=n(1619),O=n(32141),S="".concat(c.Z.CDN_URL,"/assets/plugins/map.png"),T="".concat(c.Z.CDN_URL,"/assets/plugins/calendar.png"),Z="".concat(c.Z.CDN_URL,"/assets/plugins/countdown.png"),E="".concat(c.Z.CDN_URL,"/assets/plugins/telephone.png"),D="".concat(c.Z.CDN_URL,"/assets/plugins/form.png"),P="".concat(c.Z.CDN_URL,"/assets/plugins/text-box.png"),R="".concat(c.Z.CDN_URL,"/assets/plugins/gift-box.png");c.Z.CDN_URL;var I="".concat(c.Z.CDN_URL,"/assets/plugins/love-letter.png"),A=function(e){var t,n=e.isMobile,o=void 0!==n&&n,c=e.onClose,m=(0,s.jE)(),g=m.connectors.create,b=m.actions,j=m.query,A=(0,h.useSession)().data,z=(null==A?void 0:null===(t=A.user)||void 0===t?void 0:t.plan)||"free",B=(0,a.useState)(!1),_=B[0],F=B[1],M=(0,a.useState)(!1),H=M[0],L=M[1],U=(0,a.useRef)(0),X=(0,a.useRef)(0),K=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=Math.round(Math.min(Math.max(r,0),n.width)),i=Math.round(Math.min(Math.max(a,0),n.height));U.current=i,X.current=o}},q=function(e,t,n){if(4===n&&"free"===z&&Object.values(j.getNodes()).some(function(e){var t,n,r;return(null===(t=e.data)||void 0===t?void 0:t.name)==="UnifiedMap"||(null===(n=e.data)||void 0===n?void 0:n.name)==="PluginMap"||(null===(r=e.data)||void 0===r?void 0:r.name)==="PluginSimpleMap"})){F(!0);return}if(7===n&&"premium"!==z){L(!0);return}var i=document.getElementById("root-page-container"),s=document.getElementById("main-scroll-container");if(i&&s){var l=s.scrollTop,d=i.getBoundingClientRect().width,u=j.node("ROOT").get().data.nodes||[],x=0;u.length>0&&(x=Math.max.apply(Math,(0,r.Z)(u.map(function(e){return j.node(e).get().data.props.zIndex||0}))));var p=j.createNode(a.createElement(e,{top:Math.round(l+window.innerHeight/2-150),left:Math.round(d/2-t/2),zIndex:0==x?0:x+1}));b.add(p,"ROOT"),b.selectNode(p.id),o&&c&&c()}},W=[{id:1,thumbnail:T,title:"Lịch",element:l.q,initWidth:d.Yx.calendarWidth},{id:2,thumbnail:Z,title:"Đếm ngược",element:u.D,initWidth:d.Yx.countdownWidth},{id:4,thumbnail:S,title:"Bản đồ",element:f.o,initWidth:d.Yx.mapWidth},{id:5,thumbnail:E,title:"N\xfat gọi",element:x.u,initWidth:d.Yx.phoneButtonWidth},{id:6,thumbnail:D,title:"Form x\xe1c nhận tham dự",element:p.N,initWidth:d.Yx.formWidth},{id:7,thumbnail:P,title:"T\xean kh\xe1ch mời tự động",element:w.g,initWidth:d.Yx.textWidth,isPremium:!0},{id:8,thumbnail:R,title:"QR Box",element:C.e,initWidth:100,isPremium:!0},{id:10,thumbnail:I,title:"Hiệu ứng phong b\xec thư",element:O.JM,initWidth:d.Yx.initPluginWidth,isPremium:!0}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{id:"plugin-list-container",className:"".concat(o?"h-[60vh]":"h-[calc(100vh-60px)]"," overflow-auto p-4 pb-24"),children:(0,y.jsx)("div",{className:"grid gap-x-3 gap-y-4 grid-cols-2",children:W.map(function(e,t){var n=e.element;return(0,y.jsxs)("div",{className:"flex items-center p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer group flex-col relative",ref:function(t){return g(t,(0,y.jsx)(n,{}),{onCreate:function(t){if(4===e.id&&"free"===z){var n=Object.keys(t.nodes)[0];b.delete(n);return}if(7===e.id&&"premium"!==z){var a=Object.keys(t.nodes)[0];b.delete(a),L(!0);return}var o=j.node("ROOT").get().data.nodes||[],i=0;o.length>0&&(i=Math.max.apply(Math,(0,r.Z)(o.map(function(e){return j.node(e).get().data.props.zIndex||0}))));var s=Object.keys(t.nodes)[0];b.setProp(s,function(e){e.top=U.current||0,e.left=X.current||0,e.zIndex=0==i?0:i+1})}})},draggable:!0,onClick:function(){return q(n,e.initWidth,e.id)},onDrag:K,children:[(0,y.jsx)("div",{className:"w-10 h-10 flex items-center justify-center mb-2",children:(0,y.jsx)(i(),{unoptimized:!0,width:40,height:40,className:"object-contain w-full h-full",src:e.thumbnail,alt:"".concat(e.title," icon")})}),(0,y.jsx)("div",{className:"text-xs font-medium text-gray-700 group-hover:text-blue-600 transition-colors duration-200 text-center",children:e.title}),e.isPremium&&(0,y.jsx)(k.Z,{position:"top-right",size:"md"})]},t)})})}),_&&(0,y.jsx)(v,{isOpen:_,onClose:function(){return F(!1)}}),H&&(0,y.jsx)(N.Z,{visible:H,onClose:function(){return L(!1)},onUpgrade:function(){L(!1),window.open("/checkout/upgrade?plan=premium&upgradeSource=guest-urls","_blank")},currentPlan:z})]})}},86678:function(e,t,n){"use strict";var r=n(50029),a=n(19848),o=n.n(a),i=n(87794),s=n.n(i),c=n(67294),l=n(30731),d=n(74330),u=n(32983),x=n(7764),p=n(65435),f=n(16199),h=n(85893);t.Z=function(){var e,t=(0,c.useState)([]),n=t[0],a=t[1],i=(0,c.useState)(!0),m=i[0],g=i[1];(0,f.F)(),(0,c.useEffect)(function(){b()},[]);var b=(e=(0,r.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,(0,l.Tk)();case 4:a(e.sent.templates),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching templates:",e.t0),g(!1);case 13:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return e.apply(this,arguments)});return(0,h.jsxs)("div",{className:"jsx-2318782520 h-full",children:[(0,h.jsxs)("div",{className:"jsx-2318782520 mb-4 px-3",children:[(0,h.jsx)("h3",{className:"jsx-2318782520 text-lg font-semibold mb-2 mt-2",children:"Chọn mẫu thiết kế"}),(0,h.jsx)("p",{className:"jsx-2318782520 text-sm text-gray-500",children:"Chọn một mẫu thiết kế c\xf3 sẵn để bắt đầu nhanh ch\xf3ng"})]}),(0,h.jsx)("div",{className:"jsx-2318782520 scroll-list",children:m?(0,h.jsx)("div",{className:"jsx-2318782520 flex justify-center items-center h-64",children:(0,h.jsx)(d.Z,{size:"small"})}):n.length>0?(0,h.jsx)("div",{className:"jsx-2318782520 template-grid-container",children:(0,h.jsx)("div",{className:"jsx-2318782520 template-grid",children:n.map(function(e){return(0,h.jsx)("div",{className:"jsx-2318782520 template-item",children:(0,h.jsx)(p.Z,{imageSrc:"".concat(x.Z.CDN_RESOURCE_URL,"/").concat(e.longThumbnail),templateData:e})})})})}):(0,h.jsx)(u.Z,{description:"Kh\xf4ng t\xecm thấy mẫu thiết kế"})}),(0,h.jsx)(o(),{id:"4011045569",children:[".template-grid-container.jsx-2318782520{padding:10px;}",".template-grid.jsx-2318782520{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;row-gap:20px;padding-bottom:80px;}"]}),(0,h.jsx)(o(),{id:"1367685200",children:[".scroll-list{width:100%;-webkit-flex:1;-ms-flex:1;flex:1;overflow-y:scroll;z-index:1;padding-bottom:20px;height:calc(100% - 110px);}",".scroll-list::-webkit-scrollbar{-webkit-appearance:none;width:6px;height:6px;z-index:10;}",".scroll-list::-webkit-scrollbar-button{display:none;}",".scroll-list::-webkit-scrollbar-corner,.scroll-list::-webkit-scrollbar-track{background-color:transparent;}",".scroll-list::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d2d2d2;}"]})]})}},30257:function(e,t,n){"use strict";n.d(t,{v:function(){return eh}});var r,a=n(71383),o=n(19848),i=n.n(o),s=n(83062),c=n(92398),l=n(67294),d=n(6255),u=n(78633),x=n(19151),p=n(55451),f=n(30080),h=n(86745),m=n(11936),g=n(54335),b=n(67623),j=n(20941),y=n(76975),v={src:"/_next/static/media/close-tab-btn.d117f28e.png",height:208,width:40,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAICAMAAADk895wAAAABlBMVEX+/v739/fT7TueAAAAAnRSTlP+/T+gj6oAAAAJcEhZcwAACxMAAAsTAQCanBgAAAATSURBVHicY2BgZIAARkYQgnIZAQBmAAg5qnRzAAAAAElFTkSuQmCC",blurWidth:2,blurHeight:8},w=n(20380),k=n(93326),N=n(85193),C=n(86678),O=n(50029),S=n(27812),T=n(87794),Z=n.n(T),E=n(2453),D=n(17788),P=n(40056),R=n(59499),I=n(31365),A=n(74330),z=n(63909),B=n(52091),_=n(40221),F=n(9758),M=n(85893);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){(0,R.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=I.Z.Dragger,X=function(e){var t,n,r,a=e.onUploadSuccess,o=e.userPhotosCount,i=void 0===o?0:o,s=e.userInfo,c=(0,l.useState)(!1),d=c[0],u=c[1],x=(0,l.useState)([]),p=x[0],f=x[1],h=(0,F.z_)(s.plan),m=Math.max(0,h.maxImages-i),g=i<h.maxImages;(0,l.useEffect)(function(){if(p.length>0&&!d){var e=setTimeout(function(){f([])},2e3);return function(){return clearTimeout(e)}}},[p,d]);var b={name:"file",multiple:!0,maxCount:15,fileList:p,beforeUpload:(t=(0,O.Z)(Z().mark(function e(t,n){var r,a;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>15)){e.next=3;break}return E.ZP.error("Bạn chỉ c\xf3 thể tải l\xean tối đa 15 file c\xf9ng một l\xfac"),e.abrupt("return",!1);case 3:if(!(n.length>m)){e.next=6;break}return E.ZP.error("Kh\xf4ng thể tải l\xean. User n\xe0y chỉ c\xf3 thể tải l\xean th\xeam ".concat(m," ảnh nữa theo g\xf3i ").concat(s.plan)),e.abrupt("return",!1);case 6:if(!(t.size>1048576)){e.next=20;break}return e.prev=8,r={maxSizeMB:5,maxWidthOrHeight:2048,useWebWorker:!0},e.next=12,(0,_.Z)(t,r);case 12:return a=e.sent,e.abrupt("return",a);case 16:return e.prev=16,e.t0=e.catch(8),E.ZP.error("Lỗi khi n\xe9n ảnh tối đa 5MB ".concat(t.name)),e.abrupt("return",!1);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,null,[[8,16]])})),function(e,n){return t.apply(this,arguments)}),customRequest:(n=(0,O.Z)(Z().mark(function e(t){var n,r,a,o,i,c,l;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.onSuccess,a=t.onError,o=t.onProgress,(i=new FormData).append("file",n),e.prev=3,c="/file-upload/upload-as-user/".concat(s.userId),e.next=7,z.Z.post(c,i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.total){var t=Math.floor(e.loaded/e.total*100);null==o||o({percent:t})}}});case 7:l=e.sent,null==r||r(l.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),null==a||a(e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,11,14,17]])})),function(e){return n.apply(this,arguments)}),onChange:function(e){var t=e.file.status;if(e.fileList.length>m){u(!1);return}f(e.fileList),"done"===t?(E.ZP.success("Tải l\xean ".concat(e.file.name," th\xe0nh c\xf4ng.")),a()):"error"===t&&E.ZP.error("Tải l\xean ".concat(e.file.name," thất bại."))},onDrop:(r=(0,O.Z)(Z().mark(function e(t){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g){e.next=4;break}return E.ZP.error("User n\xe0y đ\xe3 đạt giới hạn g\xf3i ".concat(s.plan)),e.abrupt("return");case 4:u(!0);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})};return(0,M.jsx)("div",{children:(0,M.jsxs)(U,L(L({disabled:d||!g},b),{},{children:[(0,M.jsx)("span",{className:"bg-gray-200 text-blue-600 text-sm px-2 py-0.5 rounded-full capitalize absolute top-2 right-2",children:s.plan}),(0,M.jsxs)("span",{className:"bg-orange-100 text-orange-600 text-xs px-2 py-0.5 rounded-full capitalize absolute top-2 left-2",children:["As: ",s.name]}),(0,M.jsxs)(A.Z,{tip:"Đang xử l\xfd file...",spinning:d,children:[(0,M.jsx)("p",{className:"mb-2",children:(0,M.jsx)(B.Qvc,{size:38,className:"m-auto text-primary"})}),g?(0,M.jsx)("p",{className:"text-xs text-gray-500 ".concat(d?"invisible":""),children:"K\xe9o thả hoặc nhấn v\xe0o đ\xe2y để tải l\xean file. C\xf3 thể tải l\xean tối đa 15 ảnh c\xf9ng một l\xfac."}):(0,M.jsxs)("p",{className:"text-xs text-orange-600 font-medium",children:["User n\xe0y đ\xe3 đạt giới hạn g\xf3i ",s.plan.toUpperCase()]}),(0,M.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:[(0,M.jsxs)("span",{children:["Đ\xe3 tải:"," ",(0,M.jsxs)("span",{className:"font-medium text-gray-600",children:[i,"/",h.maxImages]})]}),(0,M.jsx)("span",{className:"mx-2",children:"•"}),(0,M.jsxs)("span",{children:["C\xf2n lại:"," ",(0,M.jsx)("span",{className:"font-medium ".concat(m>0?"text-blue-600":"text-orange-600"),children:m})]}),(0,M.jsx)("span",{className:"mx-2",children:"•"}),(0,M.jsxs)("span",{children:["Plan: ",s.plan.toUpperCase()]})]})]})]}))})},K=n(25675),q=n.n(K),W=n(3885),Y=n(77917),G=n(52804),V=n(84249),Q=n(49184),J=function(e){var t,n=e.isMobile,r=e.onClose,a=e.userInfo,o=(0,l.useState)([]),i=o[0],s=o[1],c=(0,l.useState)(!1),d=c[0],u=c[1],x=(0,h.Hj)(),p=x.isReplacing,m=x.replaceType,g=x.selectedNodeId,j=(0,h.Dk)().setActiveKey,v=(0,b.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),w=v.connectors.create,k=v.actions,N=v.query,C=v.currentlySelectedNodeId,T=(0,l.useRef)({}),R=(0,l.useRef)(0),I=(0,l.useRef)(0),A=(0,G.$)(function(e){return e.refreshTrigger}),z=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=Math.round(Math.min(Math.max(r,0),n.width)),i=Math.round(Math.min(Math.max(a,0),n.height));R.current=i,I.current=o}},B=function(e,t){if(p&&"photo"===m&&null!==g&&g===C){var a=N.node(g).get().data.props.width,o=a,i=T.current[t];if(i){var s=i.naturalWidth;o=a*(i.naturalHeight/s)}k.setProp(g,function(t){t.imgKey=e,t.width=a,t.height=o}),h.Hj.getState().setReplacing(!1),h.Hj.getState().setReplaceType(null),h.Hj.getState().setSelectedNodeId(null),n&&r&&r(),j(null);return}var c=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(c&&d){var u=d.scrollTop,x=c.getBoundingClientRect().width,f=100,b=100,v=T.current[t];if(v){var w=v.naturalWidth,O=v.naturalHeight,Z=(0,Y.M)(y.qp,w,O),E=Z.scaleWidth,D=Z.scaleHeight;f=E,b=D}var P=N.node("ROOT").get().data.nodes||[],R=0;P.length>0&&(R=Math.max.apply(Math,(0,S.Z)(P.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var I=N.createNode(l.createElement(W.A,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(x/2-f/2),width:f,height:b,imgKey:e,zIndex:0==R?0:R+1}));k.add(I,"ROOT"),k.selectNode(I.id),n&&r&&r()}},_=(0,l.useCallback)((0,O.Z)(Z().mark(function e(){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,(0,Q.oJ)(a.userId);case 4:s(F(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),E.ZP.error("Failed to load photos");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),[a.userId]),F=function(e){return(0,S.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){_()},[A,a.userId,_]);var H=(i.reduce(function(e,t){return e+t.fileSize},0)/1073741824).toFixed(4),L=(t=(0,O.Z)(Z().mark(function e(t){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:D.Z.confirm({title:"X\xf3a ảnh",content:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?",okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,O.Z)(Z().mark(function e(){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Q.Vi)(t,a.userId);case 3:E.ZP.success("Photo deleted successfully"),_(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting photo:",e.t0),E.ZP.error("Failed to delete photo");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"",children:[(0,M.jsx)("div",{className:"p-3 bg-orange-50 border-l-4 border-orange-400 mb-2",children:(0,M.jsx)("div",{className:"flex items-center justify-between",children:(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[(0,M.jsx)("span",{className:"text-orange-700 text-sm font-medium",children:"\uD83D\uDD04 Đang chỉnh sửa với tư c\xe1ch:"}),(0,M.jsx)("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full font-medium",children:a.plan.toUpperCase()})]}),(0,M.jsx)("div",{className:"mt-1 text-sm text-orange-600",children:a.name})]})})}),(0,M.jsx)("div",{className:"p-3",children:(0,M.jsx)(X,{onUploadSuccess:_,userPhotosCount:i.length,userInfo:a})}),p&&(0,M.jsx)(P.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)("h4",{className:"px-3 mb-2",children:"Tệp đ\xe3 tải l\xean"}),(0,M.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",i.length," tệp (",H," GB / 5GB)"]}),(0,M.jsx)("div",{className:"upload-list",children:(0,M.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:n?"calc(60vh - 300px)":"calc(100vh - 350px)",minHeight:"300px",maxHeight:"calc(100vh - 350px)",overflow:"auto",paddingBottom:"100px"},children:(0,M.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:d?Array(6).fill(null).map(function(e,t){return(0,M.jsx)("div",{className:"aspect-square animate-pulse",children:(0,M.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):i.map(function(e,t){return(0,M.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){return w(t,(0,M.jsx)(W.A,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=T.current[e.fileId];if(a){var o=a.naturalWidth,i=a.naturalHeight,s=(0,Y.M)(y.qp,o,i),c=s.scaleWidth,l=s.scaleHeight;n=c,r=l}var d=N.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,S.Z)(d.map(function(e){return N.node(e).get().data.props.zIndex||0}))));var x=Object.keys(t.nodes)[0];k.setProp(x,function(e){e.top=R.current||0,e.left=I.current||0,e.width=n,e.height=r,e.zIndex=0==u?0:u+1})}})},draggable:!0,onClick:function(){return B(e.fileKey,e.fileId)},onDrag:z,children:(0,M.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,M.jsx)(q(),{unoptimized:!0,src:(0,V.VM)(e.fileKey,200),alt:"User photo ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){return T.current[e.fileId]=t}}),(0,M.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,M.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,M.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),L(e.fileId)},title:"Delete photo",children:(0,M.jsx)(f.XPx,{className:"w-3 h-3"})})})})]})},e.fileId)})})})})]})]})})},$=n(22567),ee=[{key:"facebook",icon:"logos:facebook",label:"Hỗ trợ qua Facebook/Messenger",link:"https://facebook.com/cinelove.me"},{key:"feedback",icon:"solar:clipboard-list-broken",label:"B\xe1o lỗi hệ thống/Đ\xf3ng g\xf3p \xfd kiến",link:"/dashboard/feedback"}],et=function(){var e=(0,l.useState)(!1),t=e[0],n=e[1],r=function(e){window.open(e.link,"_blank"),n(!1)};return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(s.Z,{title:"Bạn cần hỗ trợ? H\xe3y li\xean hệ với ch\xfang t\xf4i",placement:"top",color:"white",styles:{body:{backgroundColor:"#fff",color:"#000",borderRadius:"8px",padding:"8px",fontSize:"14px"}},children:(0,M.jsxs)("div",{className:"bottom-button absolute bottom-0 left-0 flex flex-col items-center justify-center gap-1 py-2 border-t border-gray-200 hover:text-gray-600 group cursor-pointer",onClick:function(){return n(!0)},children:[(0,M.jsx)($.JO,{icon:"solar:help-broken",className:"text-ld mb-1 cursor-pointer group-hover:text-gray-600 transition",height:24}),(0,M.jsx)("span",{className:"text-link text-xs caption font-medium group-hover:text-gray-600 transition",children:"Hỗ trợ"})]})}),(0,M.jsx)(D.Z,{title:"Chọn h\xecnh thức hỗ trợ",open:t,onCancel:function(){return n(!1)},footer:null,width:400,children:(0,M.jsx)("div",{className:"flex flex-col gap-4 py-4",children:ee.map(function(e){return(0,M.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition",onClick:function(){return r(e)},children:[(0,M.jsx)($.JO,{icon:e.icon,height:24}),(0,M.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.key)})})})]})},en=n(33299),er=n(16835);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,R.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ei=I.Z.Dragger,es=function(e){var t,n,r,a,o,i=e.onUploadSuccess,s=e.templateId,c=(0,l.useState)(!1),d=c[0],u=c[1],x=(0,l.useState)([]),p=x[0],f=x[1],h=(0,en.useSession)().data;(null==h?void 0:null===(a=h.user)||void 0===a?void 0:a.role)==="admin"||null==h||null===(o=h.user)||void 0===o||o.role,(0,l.useEffect)(function(){if(p.length>0&&!d){var e=setTimeout(function(){f([])},2e3);return function(){return clearTimeout(e)}}},[p,d]);var m={name:"file",multiple:!0,maxCount:15,fileList:p,beforeUpload:(t=(0,O.Z)(Z().mark(function e(t,n){var r,a;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>15)){e.next=3;break}return E.ZP.error("Bạn chỉ c\xf3 thể tải l\xean tối đa 15 file c\xf9ng một l\xfac"),e.abrupt("return",!1);case 3:if(!(t.size>1048576)){e.next=17;break}return e.prev=5,r={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.next=9,(0,_.Z)(t,r);case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(5),E.ZP.error("Lỗi khi n\xe9n ảnh tối đa 1MB ".concat(t.name)),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[5,13]])})),function(e,n){return t.apply(this,arguments)}),customRequest:(n=(0,O.Z)(Z().mark(function e(t){var n,r,a,o,i,c;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.onSuccess,a=t.onError,o=t.onProgress,(i=new FormData).append("file",n),s&&i.append("templateId",s),e.prev=4,e.next=7,z.Z.post("/admin/file-upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){if(e.total){var t=Math.floor(e.loaded/e.total*100);null==o||o({percent:t})}}});case 7:c=e.sent,null==r||r(c.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),null==a||a(e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[4,11,14,17]])})),function(e){return n.apply(this,arguments)}),onChange:function(e){var t=e.file.status;f(e.fileList),"done"===t?(E.ZP.success("Tải l\xean ".concat(e.file.name," th\xe0nh c\xf4ng.")),i()):"error"===t&&E.ZP.error("Tải l\xean ".concat(e.file.name," thất bại."))},onDrop:(r=(0,O.Z)(Z().mark(function e(t){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(!0);case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})};return(0,M.jsx)("div",{children:(0,M.jsxs)(ei,eo(eo({disabled:d||!1},m),{},{children:[(0,M.jsx)("div",{className:"absolute top-2 left-2 flex gap-1 z-50",children:(0,M.jsx)("span",{className:"bg-gray-200 text-blue-600 text-sm px-2 py-0.5 rounded-full capitalize",children:"Admin"})}),(0,M.jsxs)(A.Z,{tip:"Đang xử l\xfd file...",spinning:d,children:[(0,M.jsx)("p",{className:"mb-2",children:(0,M.jsx)(B.Qvc,{size:38,className:"m-auto text-primary"})}),(0,M.jsx)("p",{className:"text-xs text-gray-500 ".concat(d?"invisible":""),children:"K\xe9o thả hoặc nhấn v\xe0o đ\xe2y để tải l\xean file. C\xf3 thể tải l\xean tối đa 15 ảnh c\xf9ng một l\xfac."})]})]}))})},ec=n(80600),el=n(17901),ed=n(34392),eu=function(e){var t,n,r=e.isMobile,a=e.onClose,o=(0,el._)(),i=(0,ed.L)().settings.title,s=(0,l.useState)("template"),c=s[0],d=s[1],u=(0,l.useState)([]),x=u[0],p=u[1],m=(0,l.useState)(!1),g=m[0],j=m[1],v=(0,h.Hj)(),w=v.isReplacing,k=v.replaceType,N=v.selectedNodeId,C=(0,h.Dk)().setActiveKey,T=(0,b.jE)(function(e,t){return{currentlySelectedNodeId:t.getEvent("selected").first()}}),R=T.connectors.create,I=T.actions,A=T.query,z=T.currentlySelectedNodeId,B=(0,l.useRef)({}),_=(0,l.useRef)(0),F=(0,l.useRef)(0),H=(0,G.$)(function(e){return e.refreshTrigger}),L=function(e){var t=document.getElementById("root-page-container");if(t){var n=t.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top,o=Math.round(Math.min(Math.max(r,0),n.width)),i=Math.round(Math.min(Math.max(a,0),n.height));_.current=i,F.current=o}},U=function(e,t){if(w&&"photo"===k&&null!==N&&N===z){var n=A.node(N).get().data.props.width,o=n,i=B.current[t];if(i){var s=i.naturalWidth;o=n*(i.naturalHeight/s)}I.setProp(N,function(t){t.imgKey=e,t.width=n,t.height=o}),h.Hj.getState().setReplacing(!1),h.Hj.getState().setReplaceType(null),h.Hj.getState().setSelectedNodeId(null),r&&a&&a(),C(null);return}var c=document.getElementById("root-page-container"),d=document.getElementById("main-scroll-container");if(c&&d){var u=d.scrollTop,x=c.getBoundingClientRect().width,p=100,f=100,m=B.current[t];if(m){var g=m.naturalWidth,b=m.naturalHeight,j=(0,Y.M)(y.qp,g,b),v=j.scaleWidth,O=j.scaleHeight;p=v,f=O}var T=A.node("ROOT").get().data.nodes||[],Z=0;T.length>0&&(Z=Math.max.apply(Math,(0,S.Z)(T.map(function(e){return A.node(e).get().data.props.zIndex||0}))));var E=A.createNode(l.createElement(W.A,{top:Math.round(u+window.innerHeight/2-150),left:Math.round(x/2-p/2),width:p,height:f,imgKey:e,zIndex:0==Z?0:Z+1}));I.add(E,"ROOT"),I.selectNode(E.id),r&&a&&a()}},X=(t=(0,O.Z)(Z().mark(function e(){var t;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),e.prev=1,t=[],!("template"===c&&o)){e.next=9;break}return e.next=6,(0,ec.ne)(o);case 6:t=e.sent,e.next=13;break;case 9:if("all"!==c){e.next=13;break}return e.next=12,(0,ec.em)();case 12:t=e.sent;case 13:p(K(t)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error fetching admin photos:",e.t0),E.ZP.error("Failed to load photos");case 21:return e.prev=21,j(!1),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[1,17,21,24]])})),function(){return t.apply(this,arguments)}),K=function(e){return(0,S.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,l.useEffect)(function(){X()},[H,o,c]);var Q=(x.reduce(function(e,t){return e+t.fileSize},0)/1073741824).toFixed(4),J=function(e){var t=A.getNodes(),n=[];return Object.entries(t).forEach(function(t){var r,a,o,i,s,c,l,d,u=(0,er.Z)(t,2),x=u[0],p=u[1];(null===(r=p.data)||void 0===r?void 0:r.name)==="PhotoBox"&&null!==(a=p.data)&&void 0!==a&&null!==(o=a.props)&&void 0!==o&&null!==(i=o.imgKey)&&void 0!==i&&i.includes(e)&&n.push(x),(null===(s=p.data)||void 0===s?void 0:s.name)==="UnifiedMap"&&null!==(c=p.data)&&void 0!==c&&null!==(l=c.props)&&void 0!==l&&null!==(d=l.galleryImageUrl)&&void 0!==d&&d.includes(e)&&n.push(x)}),n},$=function(e){e.forEach(function(e){try{I.delete(e)}catch(t){console.warn("Kh\xf4ng thể x\xf3a node ".concat(e,":"),t)}})},ee=(n=(0,O.Z)(Z().mark(function e(t,n){var r;return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=J(n)).length>0?D.Z.confirm({title:"Ảnh đang được sử dụng",content:(0,M.jsxs)("div",{children:[(0,M.jsxs)("p",{children:["Ảnh n\xe0y đang được sử dụng trong ",r.length," th\xe0nh phần của trang."]}),(0,M.jsx)("p",{children:(0,M.jsx)("strong",{children:"Nếu bạn x\xf3a ảnh n\xe0y, c\xe1c th\xe0nh phần đ\xf3 cũng sẽ bị x\xf3a theo."})}),(0,M.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2 mt-2",children:(0,M.jsx)("div",{className:"flex",children:(0,M.jsxs)("div",{className:"ml-2 text-sm text-yellow-800",children:[(0,M.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến c\xe1c trang đ\xf3."]})})}),(0,M.jsx)("p",{className:"mt-3",children:(0,M.jsx)("strong",{children:"Bạn c\xf3 chắc chắn muốn tiếp tục x\xf3a?"})})]}),okText:"Vẫn x\xf3a",cancelText:"Hủy",okType:"danger",centered:!0,onOk:function(){var e=(0,O.Z)(Z().mark(function e(){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(r),e.next=4,(0,ec.B9)(t);case 4:E.ZP.success("Đ\xe3 x\xf3a ảnh v\xe0 ".concat(r.length," th\xe0nh phần sử dụng ảnh")),X(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),E.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()}):D.Z.confirm({title:"X\xf3a ảnh",icon:null,content:(0,M.jsxs)("div",{children:[(0,M.jsx)("p",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh n\xe0y kh\xf4ng?"}),(0,M.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mt-3",children:(0,M.jsx)("div",{className:"flex",children:(0,M.jsxs)("div",{className:"ml-3 text-sm text-yellow-800",children:[(0,M.jsx)("strong",{children:"Lưu \xfd:"})," Nếu ảnh đang được sử dụng ở c\xe1c trang thiệp kh\xe1c, việc x\xf3a ảnh sẽ ảnh hưởng đến tất cả c\xe1c trang đ\xf3."]})})})]}),okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:function(){var e=(0,O.Z)(Z().mark(function e(){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ec.B9)(t);case 3:E.ZP.success("Ảnh đ\xe3 được x\xf3a th\xe0nh c\xf4ng"),X(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),E.ZP.error("Kh\xf4ng thể x\xf3a ảnh");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"",children:[(0,M.jsx)("div",{className:"p-3",children:"new-blank"!==o&&o?(0,M.jsx)(es,{onUploadSuccess:X,templateId:"template"===c?o:void 0}):(0,M.jsxs)("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg cursor-default",children:[(0,M.jsx)("div",{className:"text-gray-500 mb-2",children:(0,M.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,M.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa thể upload assets"}),(0,M.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Bạn cần lưu template trước để c\xf3 thể upload assets v\xe0o folder tương ứng."}),(0,M.jsx)("div",{className:"text-xs text-blue-600",children:'\uD83D\uDCA1 Tip: Nhấn "Xuất bản mẫu" tr\xean thanh c\xf4ng cụ để lưu template'})]})}),w&&(0,M.jsx)(P.Z,{message:"H\xe3y chọn ảnh bạn muốn thay thế",type:"info",className:"mt-2 mx-3 text-sm"}),(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)("div",{className:"px-3 mb-3",children:(0,M.jsx)("div",{className:"flex items-center gap-2",children:(0,M.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,M.jsx)("button",{onClick:function(){return d("template")},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ".concat("template"===c?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Template hiện tại"}),(0,M.jsx)("button",{onClick:function(){return d("all")},className:"px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ".concat("all"===c?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"Tất cả assets"})]})})}),(0,M.jsx)("h4",{className:"px-3 mb-2",children:"template"===c&&o?"Ảnh của Template: ".concat(i):"all"===c?"Tất cả Admin Assets":"Tệp đ\xe3 tải l\xean"}),(0,M.jsxs)("div",{className:"px-3 total-assets text-sm",children:["Tổng ",x.length," tệp (",Q," GB / 5GB)"]}),(0,M.jsx)("div",{className:"upload-list",children:(0,M.jsx)("div",{className:"m-3 border rounded-lg",id:"scrollableDiv",style:{height:r?"calc(60vh - 300px)":"calc(100vh - 300px)",minHeight:"300px",maxHeight:"calc(100vh - 300px)",overflow:"auto",paddingBottom:"100px"},children:(0,M.jsx)("div",{className:"p-2",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:g?Array(6).fill(null).map(function(e,t){return(0,M.jsx)("div",{className:"aspect-square animate-pulse",children:(0,M.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg"})},t)}):x.map(function(e,t){return(0,M.jsx)("div",{className:"user-upload-item relative group cursor-pointer",ref:function(t){return R(t,(0,M.jsx)(W.A,{imgKey:e.fileKey}),{onCreate:function(t){var n=100,r=100,a=B.current[e.assetId];if(a){var o=a.naturalWidth,i=a.naturalHeight,s=(0,Y.M)(y.qp,o,i),c=s.scaleWidth,l=s.scaleHeight;n=c,r=l}var d=A.node("ROOT").get().data.nodes||[],u=0;d.length>0&&(u=Math.max.apply(Math,(0,S.Z)(d.map(function(e){return A.node(e).get().data.props.zIndex||0}))));var x=Object.keys(t.nodes)[0];I.setProp(x,function(e){e.top=_.current||0,e.left=F.current||0,e.width=n,e.height=r,e.zIndex=0==u?0:u+1})}})},draggable:!0,onClick:function(){return U(e.fileKey,e.assetId)},onDrag:L,children:(0,M.jsxs)("div",{className:"aspect-square relative rounded-lg overflow-hidden border border-gray-200 hover:border-primary transition-all duration-200 hover:shadow-lg bg-gray-50",children:[(0,M.jsx)(q(),{unoptimized:!0,src:(0,V.VM)(e.fileKey,200),alt:"Admin asset ".concat(t+1),fill:!0,className:"object-contain cursor-pointer transition-transform duration-200 group-hover:scale-105",ref:function(t){return B.current[e.assetId]=t}}),(0,M.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200",children:(0,M.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1",children:(0,M.jsx)("button",{className:"p-1 rounded-full bg-white text-gray-700 hover:bg-red-500 hover:text-white transition-colors duration-200 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0",onClick:function(t){t.stopPropagation(),ee(e.assetId,e.fileKey)},title:"Delete asset",children:(0,M.jsx)(f.XPx,{className:"w-3 h-3"})})})})]})},e.assetId)})})})})]})]})})},ex=n(11163),ep=n(57085),ef=g.zo.div(r||(r=(0,a.Z)(["\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  ","\n  ","\n"])),function(e){return e.$enabled?"":"width: 0;"},function(e){return e.$enabled?"":"opacity: 0;"}),eh=function(e){var t,n,r=e.userInfo,a=(0,b.jE)(function(e){return{enabled:e.options.enabled}}),o=a.enabled,g=a.actions,O=(0,l.useRef)(null),S=(0,h.Dk)(),T=S.activeKey,Z=S.setActiveKey,E=S.closeSidebar,D=(0,ex.useRouter)(),P=(0,en.useSession)().data,R=(null==P?void 0:null===(t=P.user)||void 0===t?void 0:t.role)==="admin"||(null==P?void 0:null===(n=P.user)||void 0===n?void 0:n.role)==="editor",I=D.pathname.includes("/admin/templates/edit"),A=function(){return(0,M.jsx)("div",{onClick:E,className:"close-tab-btn"})},z=R&&I?(0,M.jsx)(eu,{}):r?(0,M.jsx)(J,{userInfo:r}):(0,M.jsx)(m.Z,{}),_=[{key:y.Ey.TEXT,title:null,icon:null,label:"Text",component:(0,M.jsx)(d.Z,{}),hasWrapper:!1},{key:y.Ey.PHOTO,title:"Th\xeam ảnh",icon:(0,M.jsx)(f.LfC,{size:20}),label:"H\xecnh ảnh",component:z,hasWrapper:!0},{key:y.Ey.MATERIAL,title:"Th\xeam h\xecnh thiết kế sẵn",icon:(0,M.jsx)(u.DgG,{size:20}),label:"Stock",component:(0,M.jsx)(w.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.Ey.BACKGROUND,title:"Th\xeam nền",icon:(0,M.jsx)(x.fmc,{size:20}),label:"Nền",component:(0,M.jsx)(k.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.Ey.MUSIC,title:"Th\xeam \xe2m nhạc",icon:(0,M.jsx)(p.rkz,{size:20}),label:"\xc2m nhạc",component:(0,M.jsx)(N.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.Ey.PLUGIN,title:"Th\xeam tiện \xedch",icon:(0,M.jsx)(p.pNA,{size:20}),label:"Tiện \xedch",component:(0,M.jsx)(j.Z,{}),hasWrapper:!0},{key:y.Ey.TEMPLATE,title:"Mẫu",icon:(0,M.jsx)(p.VPR,{size:20}),label:"Mẫu",component:(0,M.jsx)(C.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0},{key:y.Ey.EFFECT,title:"Hiệu ứng",icon:(0,M.jsx)(B.hWE,{size:20}),label:"Hiệu ứng",component:(0,M.jsx)(ep.Z,{}),wrapperClass:"left-wrap drag-wrap",hasWrapper:!0}].map(function(e){return{key:e.key,label:e.title?(0,M.jsx)(s.Z,{title:e.title,placement:"right",styles:{root:{fontSize:"12px"}},children:(0,M.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[e.icon," ",(0,M.jsx)("span",{className:"text-xs",children:e.label})]})}):e.component,children:e.hasWrapper?(0,M.jsxs)("div",{className:e.wrapperClass||"",children:[e.hasWrapper&&(0,M.jsx)(A,{}),e.component]}):null}});return(0,l.useEffect)(function(){E()},[]),(0,M.jsxs)(ef,{$enabled:o&&o,className:"toolbox relative ".concat(null===T?"w-toolbox-collapse":"w-toolbox-expand"," h-full flex flex-col bg-white transition ").concat(o?"":"invisible"),ref:O,children:[(0,M.jsx)(c.Z,{type:"line",style:{height:"100%"},size:"small",tabPosition:"left",className:"toolbox-tab",activeKey:T,defaultActiveKey:"",items:_,onTabClick:function(e){e===T||e===y.Ey.TEXT?Z(null):Z(e),e===y.Ey.MUSIC&&g.selectNode(null),e===y.Ey.EFFECT&&g.selectNode(null)}}),(0,M.jsx)(et,{}),(0,M.jsx)(i(),{id:"4033690424",dynamic:[v.src],children:[".w-toolbox-collapse{width:85px;}",".w-toolbox-expand{width:420px;}","@media (max-width:1600px){.w-toolbox-expand{width:380px;}}",".bottom-button{width:83px;}",".ant-tabs-nav .ant-tabs-nav-wrap{width:85px;}",".toolbox-tab .ant-tabs-content{height:100%;}",".toolbox-tab .ant-tabs-content-holder{height:100%;}",".toolbox-tab .ant-tabs-content>.ant-tabs-tabpane{padding-left:0px !important;height:100%;}",".toolbox-tab .ant-tabs-tab{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:8px !important;}",".ant-tabs-ink-bar.ant-tabs-ink-bar-animated{display:none;}",".ant-tabs-tab-active{background:none;}",'.ant-tabs-tab-btn[aria-selected="false"]{color:inherit !important;}',".left-sidebar .ant-tabs-content.ant-tabs-content-left{border-right:2px solid #e5e5e5;}",".close-tab-btn{position:absolute;right:-19px;top:50%;margin-top:-50px;width:20px;height:104px;cursor:pointer;background-image:url(".concat(v.src,");background-repeat:no-repeat;background-size:cover;background-position:50%;}"),".left-wrap{width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;justify-items:flex-start;border-right:1px solid #e5e5e5;box-sizing:content-box;}"]}),(0,M.jsx)(i(),{id:"509973037",children:[".left-wrap.jsx-509973037{width:100%;height:100%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;justify-items:flex-start;border-right:1px solid #e5e5e5;box-sizing:content-box;}"]})]})}},31959:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(67623),a=n(47221),o=n(25593),i=n(96074);n(67294);var s=n(85893),c=a.Z.Panel,l=o.Z.Text,d=function(e){var t=e.title,n=e.props,o=e.summary,d=e.children,u=e.defaultOpen,x=void 0!==u&&u,p=(0,r.Zo)(function(e){return{nodeProps:n&&n.reduce(function(t,n){return t[n]=e.data.props[n]||null,t},{})}}).nodeProps;return(0,s.jsx)(a.Z,{bordered:!1,defaultActiveKey:["1"],style:{background:"transparent"},children:(0,s.jsxs)(c,{header:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(l,{style:{fontWeight:"bold"},children:t}),o&&n?(0,s.jsx)(l,{type:"secondary",children:o(n.reduce(function(e,t){return e[t]=p[t],e},{}))}):null]}),style:{marginBottom:8,borderRadius:4,border:"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)(i.Z,{style:{margin:"8px 0"}}),(0,s.jsx)("div",{children:d})]},x?"1":"")})}},34304:function(e,t,n){"use strict";n.d(t,{eF:function(){return e2},tJ:function(){return td},jF:function(){return D},Z2:function(){return x.Z}});var r,a,o=n(86745),i=n(67623),s=n(67294),c=n(76975),l=n(77893),d=n(15465),u=n(85893),x=n(31959),p=function(){var e=(0,i.jE)(function(e,t){var n=t.getEvent("selected").first();return{active:n,related:n&&e.nodes[n].related}}),t=e.active,n=e.related,r=(0,o.Dk)(),a=r.activeKey,x=r.setActiveKey;return(0,s.useEffect)(function(){null!=n&&n.toolbar&&(a===c.Ey.MUSIC||a===c.Ey.EFFECT)&&x(null)},[n]),(0,u.jsxs)("div",{className:"py-1 h-full",children:[t&&n.toolbar&&s.createElement(n.toolbar),a===c.Ey.MUSIC&&!(null!=n&&n.toolbar)&&(0,u.jsx)(l.Z,{}),(!t||"ROOT"===t)&&a!==c.Ey.MUSIC&&(0,u.jsx)(d.Z,{})]})},f=n(27812),h=n(59499),m=n(71383),g=n(73935),b=n(54335),j=n(46977),y=n(83062),v=n(85418),w=n(17788),k=n(24435),N=n(2777),C=n(78633),O=n(37094),S=n(33299);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Z=b.zo.div(r||(r=(0,m.Z)(["\n  height: 36px;\n  margin-top: -30px;\n  font-size: 12px;\n  line-height: 12px;\n  background-color: white;\n  border-radius: 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 10px;\n  gap: 5px;\n\n  svg {\n    width: 18px;\n    height: 18px;\n    color: #333;\n  }\n\n  &.locked {\n    background-color: #f8f8f8;\n    border: 1px solid #e8e8e8;\n\n    svg {\n      color: #999;\n    }\n  }\n"]))),E=b.zo.a(a||(a=(0,m.Z)(["\n  padding: 6px;\n  opacity: 0.9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n\n  &.disabled {\n    opacity: 0.5;\n    pointer-events: none;\n    cursor: not-allowed;\n  }\n\n  > div {\n    position: relative;\n    top: -50%;\n    left: -50%;\n  }\n"]))),D=function(e){var t,n=e.render,r=(0,i.Zo)().id,a=(0,i.jE)(function(e,t){return{isActive:t.getEvent("selected").contains(r)}}),o=a.actions,c=a.query,l=a.isActive,d=(0,S.useSession)().data,x=(null==d?void 0:null===(t=d.user)||void 0===t?void 0:t.plan)||"free",p=(0,i.Zo)(function(e){return{isHover:e.events.hovered,dom:e.dom,name:e.data.custom.name||e.data.name,moveable:c.node(e.id).isDraggable(),deletable:c.node(e.id).isDeletable(),parent:e.data.parent,props:e.data.props}}),m=p.isHover,b=p.dom,D=p.name,P=(p.moveable,p.deletable),R=(p.connectors.drag,p.parent),I=p.props,A=(0,s.useRef)();(0,s.useEffect)(function(){b&&(m&&!l?b.classList.add("component-hovered"):b.classList.remove("component-hovered"),l?b.classList.add("component-selected"):b.classList.remove("component-selected"),I&&I.locked?b.classList.add("component-locked"):b.classList.remove("component-locked"))},[b,l,m,I]);var z=(0,s.useCallback)(function(e){var t=e?e.getBoundingClientRect():{top:0,left:0,bottom:0,width:200},n=t.top,r=t.left,a=t.bottom;return{top:n>60?n-25:a,left:r+t.width/2-60}},[]);(0,s.useEffect)(function(){var e=A.current;if(e&&b){var t=z(b),n=t.top,r=t.left;e.style.top="".concat(n,"px"),e.style.left="".concat(r,"px")}},[c.node(r).get().data.props]);var B=(0,s.useCallback)(function(){var e=A.current;if(e){var t=z(b),n=t.top,r=t.left;e.style.top="".concat(n,"px"),e.style.left="".concat(r,"px")}},[b,z]);(0,s.useEffect)(function(){var e;return null===(e=document.querySelector(".page-builder-renderer"))||void 0===e||e.addEventListener("scroll",B),function(){var e;null===(e=document.querySelector(".page-builder-renderer"))||void 0===e||e.removeEventListener("scroll",B)}},[B]),(0,j.y1)("delete, backspace",function(e){e.preventDefault(),l&&"ROOT"!==r&&!(I&&I.locked)&&o.delete(r)},[l,r,o,I]);var _=(0,s.useState)(!1),F=_[0],M=_[1],H=(0,s.useState)(!1),L=H[0],U=H[1],X=(0,s.useState)(0),K=(X[0],X[1]),q=(0,s.useState)(!1),W=q[0],Y=q[1],G=(0,s.useState)(0),V=G[0],Q=G[1];(0,s.useEffect)(function(){I&&U(!!I.locked)},[I]),(0,s.useEffect)(function(){if(F){var e=c.node(r).get().data.props.zIndex||0;K(e),Q(e)}},[F,r,c]);var J=I&&I.locked,$=("UnifiedMap"===D||"PluginMap"===D||"PluginSimpleMap"===D)&&"free"===x;return(0,u.jsxs)(u.Fragment,{children:[l&&"ROOT"!==r?g.createPortal((0,u.jsxs)(Z,{ref:A,id:"floating-toolbar",className:J?"locked":"",style:{left:z(b).left,top:z(b).top,position:"fixed",zIndex:9999,width:120},children:[(0,u.jsx)(y.Z,{title:J?"Phần tử đ\xe3 bị kh\xf3a":"Tạo bản sao",placement:"top",children:(0,u.jsx)(E,{className:"cursor-pointer ".concat(J||$?"disabled":""),onMouseDown:function(e){if(e.stopPropagation(),!J&&!$){var t=c.node(r).get().data,n=t.type,a=t.props,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a);i.zIndex&&(i.zIndex+=1),("absolute"===a.position||a.top||a.left)&&(void 0!==a.top&&(i.top=a.top+15),void 0!==a.left&&(i.left=a.left+15));var l=c.createNode(s.createElement(n,i));o.add(l,"ROOT"),o.selectNode(l.id)}},children:(0,u.jsx)(O.Odh,{})})}),P?(0,u.jsx)(y.Z,{title:J?"Phần tử đ\xe3 bị kh\xf3a":"X\xf3a phần tử",placement:"top",children:(0,u.jsx)(E,{className:"cursor-pointer ".concat(J?"disabled":""),onMouseDown:function(e){e.stopPropagation(),J||"ROOT"===r||o.delete(r)},children:(0,u.jsx)(N.Ybf,{})})}):null,(0,u.jsx)(v.Z,{open:F,onOpenChange:M,menu:{items:[{key:"1",label:"Đưa l\xean tr\xean c\xf9ng",icon:(0,u.jsx)(C.uhM,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(R).get().data.nodes||[],n=Math.max.apply(Math,(0,f.Z)(t.map(function(e){return c.node(e).get().data.props.zIndex||0})));o.setProp(r,function(e){e.zIndex=n+1})}}},{key:"2",label:"Đưa xuống dưới c\xf9ng",icon:(0,u.jsx)(C.Mun,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(R).get().data.nodes||[],n=Math.min.apply(Math,(0,f.Z)(t.map(function(e){return c.node(e).get().data.props.zIndex||0})));o.setProp(r,function(e){e.zIndex=n-1})}}},{key:"3",label:"Đưa l\xean một lớp",icon:(0,u.jsx)(C.HTv,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(r).get().data.props.zIndex||0;o.setProp(r,function(e){e.zIndex=t+1})}}},{key:"4",label:"Đưa xuống một lớp",icon:(0,u.jsx)(C.CSs,{}),disabled:J,onClick:function(e){if(e.domEvent.stopPropagation(),!J){var t=c.node(r).get().data.props.zIndex||0;o.setProp(r,function(e){e.zIndex=Math.max(0,t-1)})}}},{key:"5",label:L?"Mở kh\xf3a vị tr\xed":"Kh\xf3a vị tr\xed",icon:L?(0,u.jsx)(N.PdD,{}):(0,u.jsx)(N.UIZ,{}),onClick:function(e){e.domEvent.stopPropagation(),o.setProp(r,function(e){e.locked=!e.locked,U(!L)})}}]},trigger:["click"],children:(0,u.jsx)(y.Z,{title:"Xem th\xeam",placement:"top",children:(0,u.jsx)(E,{className:"cursor-pointer",onClick:function(e){e.stopPropagation(),M(!F)},children:(0,u.jsx)(N.K9M,{})})})})]}),document.querySelector(".page-container")):null,(0,u.jsxs)(w.Z,{title:"Nhập gi\xe1 trị z-index",open:W,onOk:function(){J||(o.setProp(r,function(e){e.zIndex=V}),Y(!1),K(V))},onCancel:function(){return Y(!1)},destroyOnHidden:!0,children:[(0,u.jsx)("p",{children:"Nhập gi\xe1 trị z-index cho phần tử:"}),(0,u.jsx)(k.Z,{min:-1e3,max:1e3,value:V,onChange:function(e){return Q(e||0)},style:{width:"100%",marginTop:"10px"}})]}),n]})},P=n(19848),R=n.n(P),I=n(94184),A=n.n(I),z=n(26058),B=n(6454),_=z.Z.Sider,F=function(){var e=(0,i.jE)(function(e){return{enabled:e.options.enabled}}).enabled,t=(0,s.useState)(350),n=t[0],r=t[1];return(0,s.useEffect)(function(){var e=function(){var e;null!==(e=window)&&void 0!==e&&e.innerWidth&&window.innerWidth<860?r(300):r(350)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,u.jsx)(_,{width:n,style:{background:"#fff",transition:"margin-right 0.3s",marginRight:e?0:-n,opacity:e?1:0},children:(0,u.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"auto",padding:"16px"},children:[(0,u.jsxs)("div",{className:"flex items-center mb-4",children:[(0,u.jsx)(B.FNg,{style:{marginRight:10}}),(0,u.jsx)("span",{className:"font-medium",children:"Tuỳ chỉnh"})]}),(0,u.jsx)("div",{className:"flex-1 overflow-auto",children:(0,u.jsx)(p,{})})]})})},M=n(30257),H=n(50029),L=n(87794),U=n.n(L),X=n(70162),K=n(40721),q=n(24679),W=n(83622),Y=n(85265),G=n(61121),V=n(52091),Q=n(18318),J=n(10094),$=n(63909),ee=n(2453),et=n(16568),en=n(729),er=n(90072),ea=n(67841),eo=n(11359),ei=n(72101),es=function(e){var t=e.isLoading,n=e.onExport,r=e.buttonText,a=e.isTemplate,o=void 0!==a&&a,i=e.pageId,s=(0,ei._)(),c=s.showVerification,l=s.checkAndOpenVerification,d=s.closeVerification,x=s.handleVerificationSuccess;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(W.ZP,{color:"primary",type:"primary",onClick:function(){if(i&&!o){n();return}l()||n()},loading:t,icon:(0,u.jsx)(ea.Z,{}),children:r||(i&&!o?"Lưu":"Xuất bản")}),(0,u.jsx)(eo.Z,{visible:c,onClose:d,onSuccess:function(){return x(n)},title:"X\xe1c thực để xuất bản",submitText:"X\xe1c thực v\xe0 xuất bản",loading:t,description:(0,u.jsxs)("div",{className:"text-gray-600",children:["Để xuất bản website miễn ph\xed, h\xe3y gi\xfap ch\xfang tớ c\xf3 th\xeam động lực bằng c\xe1ch gh\xe9 thăm v\xe0"," ",(0,u.jsxs)("span",{className:"font-bold",children:["follow Facebook hoặc Instagram của Cinelove"," "]}),"nhaaaa! \uD83E\uDD17",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"V\xe0 nếu c\xf3 thể, h\xe3y gi\xfap m\xecnh"," ",(0,u.jsx)("span",{className:"font-bold",children:"để lại đ\xe1nh gi\xe1 t\xedch cực"})," trong phần xếp hạng tr\xean Facebook nữa nha! Thank you \uD83D\uDC99\uD83D\uDC99\uD83D\uDC99"]})})]})},ec=n(46256),el=n(21402),ed=n(96208),eu=n(19151),ex=n(40411),ep=n(24019),ef=n(50888),eh=n(11475),em=n(60219),eg=n(42952),eb=n(93925),ej=function(e){var t=e.showText,n=void 0!==t&&t,r=e.size,a=e.onShowBackups,o=(0,eb.h)(),i=o.status,c=o.setAutoSaveEnabled;(0,s.useEffect)(function(){var e=localStorage.getItem("editor_auto_save_enabled");null!==e&&c("true"===e)},[]);var l=function(){return i.autoSaveEnabled?i.isSaving?"blue":i.lastError?"red":i.hasUnsavedChanges?"orange":"green":"gray"},d=[{key:"view-backups",label:"C\xe0i đặt",icon:(0,u.jsx)(eg.Z,{}),onClick:a},{type:"divider"},{key:"auto-save-status",label:(0,u.jsxs)("div",{className:"text-xs text-gray-500",children:["Auto-save: ",i.autoSaveEnabled?"Bật":"Tắt"]}),disabled:!0}],x=(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(ex.Z,{status:l(),dot:!n,children:i.autoSaveEnabled?i.isSaving?(0,u.jsx)(ef.Z,{spin:!0,className:"text-blue-500"}):i.lastError?(0,u.jsx)(eh.Z,{className:"text-red-500"}):i.hasUnsavedChanges?(0,u.jsx)(ep.Z,{className:"text-orange-500"}):(0,u.jsx)(em.Z,{className:"text-green-500"}):(0,u.jsx)(ep.Z,{className:"text-orange-500"})}),n&&(0,u.jsx)("span",{className:"text-".concat(l(),"-600 text-sm"),children:i.autoSaveEnabled?i.isSaving?"Đang lưu thay đổi...":i.lastError?"".concat(i.lastError):i.hasUnsavedChanges?"C\xf3 thay đổi chưa lưu":i.lastSaved?"Đ\xe3 lưu thay đổi":"Tự động lưu: Bật":"Tự động lưu: Tắt"})]});return a?(0,u.jsx)(v.Z,{menu:{items:d},placement:"bottomRight",trigger:["click"],children:(0,u.jsx)(W.ZP,{type:"text",size:void 0===r?"small":r,className:"flex items-center gap-2",children:x})}):x},ey=n(66309),ev=n(2487),ew=n(86738),ek=n(32983),eN=n(48689),eC=n(15360),eO=n(31481),eS=n(42859),eT=n(57806),eZ=n(30080),eE=n(4730),eD=n(16835),eP=n(32141),eR=n(96514),eI=["editorViewportWidth"];function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eB=function(e){var t,n=e.visible,r=e.onClose,a=e.backupData,o=e.isMobile,c=void 0!==o&&o,l=(0,s.useState)(null),d=l[0],x=l[1],p=(0,s.useMemo)(function(){if(!(null!=a&&a.pageData))return null;try{return JSON.parse(a.pageData)}catch(e){return console.error("Error parsing page data:",e),null}},[a]);return(0,s.useEffect)(function(){if(p){var e=parseInt(p.ROOT.props.width),t=parseInt(p.ROOT.props.height),n=c?280:350,r=n/e,a=Object.entries(p).reduce(function(e,t){var n=(0,eD.Z)(t,2),a=n[0],o=n[1];if(!o.props)return e[a]=o,e;var i=ez(ez({},o.props),{},{top:o.props.top*r,left:o.props.left*r,width:o.props.width*r,height:o.props.height*r,fontSize:o.props.fontSize*r});return e[a]=ez(ez({},o),{},{props:i}),e},{}),o=p.ROOT.props,i=(o.editorViewportWidth,(0,eE.Z)(o,eI));a.ROOT=ez(ez({},p.ROOT),{},{props:ez(ez({},i),{},{width:n,height:t*r})}),x(a)}},[p]),(0,u.jsx)(w.Z,{title:"Xem trước backup",open:n,onCancel:r,width:c?350:400,footer:null,children:(0,u.jsxs)("div",{className:"space-y-4",children:[a&&(0,u.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[(0,u.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,u.jsx)("strong",{children:"Ti\xeau đề:"})," ",(null===(t=a.settings)||void 0===t?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề"]}),(0,u.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,u.jsx)("strong",{children:"Thời gian:"})," ",new Date(a.timestamp).toLocaleString("vi-VN")]})]}),(0,u.jsx)("div",{className:"border rounded-lg overflow-hidden bg-white flex justify-center",children:(0,u.jsx)("div",{className:"h-[600px] overflow-auto",children:d&&(0,u.jsx)(eR.RouterContext.Provider,{value:{push:function(){return Promise.resolve(!0)},replace:function(){return Promise.resolve(!0)},reload:function(){},back:function(){},forward:function(){},prefetch:function(){return Promise.resolve()},beforePopState:function(){},isFallback:!1,events:{on:function(){},off:function(){},emit:function(){}},isLocaleDomain:!1,isReady:!0,isPreview:!1,route:"/",pathname:"/",query:{},asPath:"/",basePath:"",locale:"vi",locales:["vi"],defaultLocale:"vi"},children:(0,u.jsx)(i.ML,{resolver:eP.s_,enabled:!1,children:(0,u.jsx)(i.RQ,{data:d},d.ROOT.props.width)})})})})]})})},e_=function(e){var t,n,r=e.visible,a=e.onClose,o=e.onRestore,i=(0,s.useState)([]),c=i[0],l=i[1],d=(0,s.useState)(!1),x=d[0],p=d[1],f=(0,s.useState)(!1),h=f[0],m=f[1],g=(0,s.useState)(null),b=g[0],j=g[1],v=(0,s.useState)(!1),k=v[0],N=v[1];(0,s.useEffect)(function(){window.innerWidth<768&&N(!0)},[]);var C=(0,eb.h)(),O=C.getAllBackupKeys,S=C.getBackupData,T=C.removeBackup,Z=C.status,E=C.setAutoSaveEnabled;(0,s.useEffect)(function(){r&&D()},[r]);var D=function(){try{p(!0);var e=O().map(function(e){var t,n=S(e);return{key:e,timestamp:(null==n?void 0:n.timestamp)||0,isTemplate:(null==n?void 0:n.isTemplate)||!1,pageId:null==n?void 0:n.pageId,preview:(null==n?void 0:null===(t=n.settings)||void 0===t?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề"}}).sort(function(e,t){return t.timestamp-e.timestamp});l(e)}catch(e){console.error("Error loading backups:",e),ee.ZP.error("Kh\xf4ng thể tải danh s\xe1ch backup")}finally{p(!1)}},P=(t=(0,H.Z)(U().mark(function e(t){var n;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=S(t.key))&&o?(o(n),a()):ee.ZP.error("Kh\xf4ng thể kh\xf4i phục backup")}catch(e){console.error("Error restoring backup:",e),ee.ZP.error("Lỗi khi kh\xf4i phục backup")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),R=(n=(0,H.Z)(U().mark(function e(t){var n;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(n=S(t.key))?(j(n),m(!0)):ee.ZP.error("Kh\xf4ng thể xem trước backup")}catch(e){console.error("Error previewing backup:",e),ee.ZP.error("Lỗi khi xem trước backup")}case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),I=function(e){try{T(e.key),ee.ZP.success("Đ\xe3 x\xf3a backup"),D()}catch(e){console.error("Error deleting backup:",e),ee.ZP.error("Kh\xf4ng thể x\xf3a backup")}};return(0,u.jsxs)(w.Z,{title:"Quản l\xfd bản sao lưu",open:r,onCancel:a,width:700,footer:[(0,u.jsx)(W.ZP,{onClick:D,loading:x,children:"L\xe0m mới"},"refresh"),(0,u.jsx)(W.ZP,{onClick:a,children:"Đ\xf3ng"},"close")],children:[(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-3 rounded-lg",children:[(0,u.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,u.jsx)("div",{className:"font-medium",children:"⚙️ C\xe0i đặt tự động lưu"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:Z.autoSaveEnabled?"Đang bật (30 gi\xe2y/lần)":"Đ\xe3 tắt"})]}),(0,u.jsx)(W.ZP,{type:Z.autoSaveEnabled?"primary":"default",size:"small",onClick:function(){return E(!Z.autoSaveEnabled)},children:Z.autoSaveEnabled?"Tắt":"Bật"})]}),(0,u.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,u.jsx)("div",{className:"font-medium mb-1",children:"\uD83D\uDCA1 Th\xf4ng tin về bản sao lưu:"}),(0,u.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Tự động:"})," Hệ thống tự động lưu & sao lưu mỗi 30 gi\xe2y ",!Z.autoSaveEnabled&&"(đ\xe3 tắt)"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Lưu trữ:"})," Chỉ giữ lại 3 bản sao lưu gần nhất"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Dọn dẹp:"})," C\xe1c bản sao lưu cũ hơn 7 ng\xe0y sẽ bị x\xf3a"]})]})]})]}),0===c.length?(0,u.jsx)(ek.Z,{description:"Kh\xf4ng c\xf3 backup n\xe0o",image:ek.Z.PRESENTED_IMAGE_SIMPLE}):(0,u.jsx)(ev.Z,{dataSource:c,renderItem:function(e){var t=Date.now()-e.timestamp>864e5;return(0,u.jsx)(ev.Z.Item,{className:"".concat(t?"opacity-60":""," hover:bg-gray-50 transition-colors"),actions:[(0,u.jsx)(y.Z,{title:"Xem trước",children:(0,u.jsx)(W.ZP,{type:"text",icon:(0,u.jsx)(Q.gxi,{}),onClick:function(){return R(e)},className:"text-gray-600 hover:text-gray-800"})}),(0,u.jsx)(y.Z,{title:"Kh\xf4i phục backup n\xe0y",children:(0,u.jsx)(W.ZP,{type:"text",icon:(0,u.jsx)(eZ.TeN,{}),onClick:function(){return P(e)},className:"text-blue-600 hover:text-blue-800"})}),(0,u.jsx)(ew.Z,{title:"X\xf3a backup n\xe0y?",description:"H\xe0nh động n\xe0y kh\xf4ng thể ho\xe0n t\xe1c.",onConfirm:function(){return I(e)},okText:"X\xf3a",cancelText:"Hủy",okType:"danger",children:(0,u.jsx)(y.Z,{title:"X\xf3a backup",children:(0,u.jsx)(W.ZP,{type:"text",icon:(0,u.jsx)(eN.Z,{}),className:"text-red-600 hover:text-red-800"})})})],children:(0,u.jsx)(ev.Z.Item.Meta,{avatar:(0,u.jsx)(eC.Z,{className:"text-2xl text-gray-400"}),title:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"font-medium truncate max-w-xs",children:e.preview}),e.isTemplate?(0,u.jsx)(ey.Z,{color:"blue",children:"Template"}):e.pageId?(0,u.jsx)(ey.Z,{color:"green",children:"Trang c\xf3 sẵn"}):(0,u.jsx)(ey.Z,{color:"orange",children:"Trang mới"})]}),description:(0,u.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,u.jsxs)("div",{className:"flex items-center gap-1",children:[(0,u.jsx)(ep.Z,{}),(0,u.jsx)("span",{children:(0,eO.Q)(new Date(e.timestamp),{addSuffix:!0,locale:eT.vi})}),!k&&(0,u.jsxs)("span",{className:"text-gray-400",children:["(",(0,eS.WU)(new Date(e.timestamp),"dd/MM/yyyy HH:mm",{locale:eT.vi}),")"]})]}),e.pageId&&!k&&(0,u.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.pageId]})]})})},e.key)},className:"max-h-96 overflow-y-auto",loading:x}),c.length>0&&(0,u.jsxs)("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:["Hiển thị ",c.length," bản sao lưu"]})]}),h&&b&&(0,u.jsx)(eB,{visible:h,onClose:function(){return m(!1)},backupData:b,isMobile:k})]})},eF=function(e){var t,n,r,a,c,l=e.pageId,d=e.mobileView,x=e.isTemplate,p=e.canCreate,f=void 0===p||p,h=(0,i.jE)(function(e,t){return{enabled:e.options.enabled,canUndo:t.history.canUndo(),canRedo:t.history.canRedo()}}),m=h.enabled,g=h.canUndo,b=h.canRedo,v=h.actions,w=h.query,k=(0,s.useState)(!1),N=k[0],C=k[1],O=(0,s.useState)(!1),T=O[0],Z=O[1],E=(0,s.useState)(!1),D=E[0],P=E[1],I=(0,s.useState)(!1),A=I[0],z=I[1],B=(0,s.useState)(!1),_=B[0],F=B[1],M=(0,s.useState)(!1),L=M[0],ea=M[1],eo=(0,s.useState)([]),ei=eo[0],ex=eo[1],ep=(0,en.U)(),ef=ep.icon,eh=ep.iconColor,em=ep.currentMusic,eg=(0,er.X2)(),eb=eg.settings,ey=eg.resetSettings,ev=eg.setTitle,ew=eg.setThumbnail,ek=eg.setStatus,eN=eg.setShowBottomToolbar,eC=eg.setQRBankAccounts,eO=eg.setHideWatermark,eS=eg.setCategoryId,eT=eg.setOpeningEffect,eZ=eg.setSnowflakeEffect,eE=eg.setShowInGallery,eD=(0,o.Dk)().setActiveKey,eP=(0,o.hA)().cleanOldBackups,eR=l&&!x,eI=(0,ec.TN)(),eA=eI.pageData,ez=eI.templateType,eB=(0,S.useSession)().data,eF=(0,o.hA)(),eM=eF.setLastSaved,eH=eF.setLastError;(0,s.useEffect)(function(){var e=function(){var e;null!==(e=window)&&void 0!==e&&e.innerWidth&&window.innerWidth<860?ea(!1):ea(!0)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(function(){eA?(ev(eA.pageName),ew(eA.thumbnailKey),ek(eA.status||"published"),void 0!==eA.showBottomToolbar?eN(eA.showBottomToolbar):eN(er.Kq),eA.qrBankAccounts&&eC(eA.qrBankAccounts),void 0!==eA.hideWatermark&&eO(eA.hideWatermark),eA.categoryId&&eS(eA.categoryId),null!=eA&&eA.openingEffect&&eT(eA.openingEffect),null!=eA&&eA.snowflakeEffect&&eZ(eA.snowflakeEffect),(null==eA?void 0:eA.showInGallery)!==void 0&&eE(eA.showInGallery)):ey()},[eA]),(0,j.y1)("mod+z",function(e){e.preventDefault(),g&&v.history.undo()},{enableOnFormTags:!0}),(0,j.y1)(["mod+shift+z","mod+y"],function(e){e.preventDefault(),b&&v.history.redo()},{enableOnFormTags:!0}),(0,j.y1)("mod+s",function(e){e.preventDefault(),eL()},{enableOnFormTags:!0});var eL=(t=(0,H.Z)(U().mark(function e(){var t,n,r;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!f&&!eR)){e.next=3;break}return ee.ZP.error("Kh\xf4ng thể tạo trang mới"),e.abrupt("return");case 3:if(!(!eb.categoryId&&!x)){e.next=8;break}return v.selectNode(null),eD(null),ee.ZP.error("Vui l\xf2ng chọn danh mục trước khi xuất bản"),e.abrupt("return");case 8:if(n=(null==eB?void 0:null===(t=eB.user)||void 0===t?void 0:t.plan)||"free",r=eU(),!(ez&&("premium"===ez&&"premium"!==n||"basic"===ez&&"free"===n))){e.next=13;break}return e.abrupt("return");case 13:if(!(r.length>0&&"free"===n)){e.next=17;break}return ex(r),P(!0),e.abrupt("return");case 17:if(!("basic"===n&&r.some(function(e){return e.isPremium}))){e.next=21;break}return ex(r.filter(function(e){return e.isPremium})),P(!0),e.abrupt("return");case 21:return e.next=23,eX();case 23:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),eU=function(){var e,t,n=w.getNodes(),r=[],a=(null==eB?void 0:null===(e=eB.user)||void 0===e?void 0:e.plan)||"free";if(ez&&("premium"===ez&&"premium"!==a||"basic"===ez&&"free"===a))return P(!0),[];eb.openingEffect&&r.push({displayName:"Hiệu ứng mở m\xe0n",isPremium:!1}),null!==(t=eb.snowflakeEffect)&&void 0!==t&&t.enabled&&r.push({displayName:"Hiệu ứng thả rơi",isPremium:!1}),Object.values(n).forEach(function(e){var t,n,a,o,i,s,c;null!==(t=e.data)&&void 0!==t&&null!==(n=t.props)&&void 0!==n&&null!==(a=n.transition)&&void 0!==a&&a.effectEnabled&&!r.some(function(e){return"Hiệu ứng chuyển động"===e.displayName})&&r.push({displayName:"Hiệu ứng chuyển động",isPremium:!1}),(null===(o=e.data)||void 0===o?void 0:o.name)!=="PluginAnimatedEnvelope"||r.some(function(e){return"Hiệu ứng phong b\xec thư"===e.displayName})||r.push({displayName:"Hiệu ứng phong b\xec thư",isPremium:!1}),null!==(i=e.data)&&void 0!==i&&null!==(s=i.props)&&void 0!==s&&s.isAdvanced&&r.push({displayName:e.data.displayName||"T\xednh năng n\xe2ng cao",nodeId:e.id,isPremium:null===(c=e.data.props)||void 0===c?void 0:c.isPremium})});var o=r;return"basic"===a&&(o=o.filter(function(e){return e.isPremium})),o},eX=(n=(0,H.Z)(U().mark(function e(){var t,n,r,a,o;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),t=eR?"/pages/update":"/pages/add",n=w.serialize(),r=(0,J.d8)(n,eb,{fileKey:null==em?void 0:em.fileKey,icon:ef,iconColor:eh,title:null==em?void 0:em.title,duration:null==em?void 0:em.duration},{pageId:l,isTemplate:x}),e.next=7,$.Z.post(t,r);case 7:200===(a=e.sent).status&&a.data.success?(ee.ZP.success(a.data.message),eM(Date.now()),eH(null),(!l&&a.data.pageId||x)&&(eP(),o="/pages/".concat(a.data.pageId,"?from=editor&new=true"),window.location.href=o)):(ee.ZP.error(a.data.message),eH("Lỗi khi lưu trang")),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error saving page:",e.t0),ee.ZP.error("Failed to save page"),eH("Lỗi khi lưu trang");case 16:return e.prev=16,Z(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,11,16,19]])})),function(){return n.apply(this,arguments)}),eK=function(){Object.values(w.getNodes()).forEach(function(e){var t,n,r;null!==(t=e.data)&&void 0!==t&&null!==(n=t.props)&&void 0!==n&&null!==(r=n.transition)&&void 0!==r&&r.effectEnabled&&v.setProp(e.id,function(e){e.transition&&(e.transition.effectEnabled=!1)})}),ee.ZP.success("Đ\xe3 x\xf3a hiệu ứng chuyển động"),ex(eU())};(0,s.useEffect)(function(){D&&ex(eU())},[eb.openingEffect,D]);var eq="basic"===ez&&(null==eB?void 0:null===(r=eB.user)||void 0===r?void 0:r.plan)==="free"||"premium"===ez&&(null==eB?void 0:null===(a=eB.user)||void 0===a?void 0:a.plan)!=="premium";return(0,s.useEffect)(function(){if(eq){var e="basic"===ez?"Basic":"Premium",t="basic"===ez?"\uD83D\uDD39":"\uD83D\uDC51",n="basic"===ez?"#1890ff":"#722ed1";et.ZP.open({message:null,description:(0,u.jsxs)("div",{style:{padding:"8px 12px",background:"".concat(n,"15"),borderRadius:"6px",border:"1px solid ".concat(n,"30")},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[(0,u.jsx)("span",{style:{fontSize:"14px"},children:t}),(0,u.jsx)("span",{style:{fontWeight:"500",color:n},children:"Note:"})]}),(0,u.jsxs)("p",{style:{margin:"0",fontSize:"12px",color:"#666"},children:["Bạn đang sử dụng template của g\xf3i ",e]})]}),duration:7,showProgress:!0,placement:"topRight",style:{borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}})}},[eq,ez]),(0,u.jsxs)("nav",{"aria-label":"Main",className:"jsx-1890023189 navbar navbar--fixed-top h-16 border-b",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 navbar__inner",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 navbar__items",children:[(0,u.jsx)("button",{onClick:function(){return C(!0)},"aria-label":"Toggle navigation bar","aria-expanded":"false",type:"button",className:"jsx-1890023189 navbar__toggle mx-1 md:mx-3",children:(0,u.jsx)("svg",{width:30,height:30,viewBox:"0 0 30 30","aria-hidden":"true",className:"jsx-1890023189",children:(0,u.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:2,d:"M4 7h22M4 15h22M4 23h22",className:"jsx-1890023189"})})}),!d&&(0,u.jsx)("div",{className:"jsx-1890023189 ml-2",children:(0,u.jsx)(X.Z,{showText:L})}),m&&(0,u.jsxs)("div",{className:"jsx-1890023189 flex-1 flex",children:[(0,u.jsx)(y.Z,{title:"Ho\xe0n t\xe1c (Ctrl/⌘ + Z)",placement:"bottom",children:(0,u.jsx)(W.ZP,{type:"text",disabled:!g,onClick:function(){g&&v.history.undo()},children:(0,u.jsx)(V.ZHP,{size:18})})}),(0,u.jsx)(y.Z,{title:"L\xe0m lại (Ctrl/⌘ + Shift + Z)",placement:"bottom",children:(0,u.jsx)(W.ZP,{type:"text",disabled:!b,onClick:function(){b&&v.history.redo()},children:(0,u.jsx)(V.GVn,{size:18})})}),!d&&(0,u.jsx)(y.Z,{title:"T\xecm v\xe0 x\xf3a phần tử theo ID",placement:"bottom",children:(0,u.jsx)(W.ZP,{type:"text",onClick:function(){return z(!0)},children:(0,u.jsx)(eu.QL8,{size:18})})})]})]}),(0,u.jsx)("div",{className:"jsx-1890023189 navbar__items navbar__items--right",children:(0,u.jsxs)("div",{className:"jsx-1890023189 flex gap-4 items-center",children:[(0,u.jsxs)("div",{className:"jsx-1890023189 flex gap-2 items-center",children:[(0,u.jsx)(ej,{showText:!d,onShowBackups:function(){return F(!0)}}),!d&&(0,u.jsxs)(W.ZP,{onClick:function(){v.setOptions(function(e){return e.enabled=!m})},children:[m?(0,u.jsx)(Q.gxi,{}):(0,u.jsx)(G.Hlf,{}),m?"Xem trước":"Chỉnh sửa"]}),d&&!m&&(0,u.jsxs)(W.ZP,{onClick:function(){v.setOptions(function(e){return e.enabled=!0})},children:[(0,u.jsx)(G.Hlf,{}),"Chỉnh sửa"]}),(0,u.jsx)(es,{isLoading:T,onExport:eL,buttonText:l&&!x?"Lưu":"Xuất bản",isTemplate:x,pageId:l})]}),(0,u.jsx)(K.Z,{})]})}),(0,u.jsx)(Y.Z,{closable:!1,destroyOnHidden:!0,placement:"left",open:N,width:260,onClose:function(){return C(!1)},children:(0,u.jsx)(q.Z,{})})]}),(0,u.jsx)(el.Z,{visible:D,onClose:function(){return P(!1)},advancedItems:ei,onRemoveAdvancedItem:function(e){switch(e.displayName){case"Hiệu ứng chuyển động":eK();break;case"Hiệu ứng mở m\xe0n":eT(null),ee.ZP.success("Đ\xe3 x\xf3a hiệu ứng mở m\xe0n");break;case"Hiệu ứng thả rơi":eZ(null),ee.ZP.success("Đ\xe3 x\xf3a hiệu ứng thả rơi");break;case"Hiệu ứng phong b\xec thư":var t=w.getNodes(),n=0;Object.values(t).forEach(function(e){var t;(null===(t=e.data)||void 0===t?void 0:t.name)==="PluginAnimatedEnvelope"&&(v.delete(e.id),n++)}),n>0&&ee.ZP.success("Đ\xe3 x\xf3a ".concat(n," phong b\xec thư"));break;case"Bản đồ n\xe2ng cao":if(e.nodeId){var r=document.querySelector('[data-node-id="'.concat(e.nodeId,'"]'));r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),v.selectNode(e.nodeId),ee.ZP.info("H\xe3y chọn lại loại bản đồ để xuất bản"))}return}ex(eU())},templateType:ez,userPlan:(null==eB?void 0:null===(c=eB.user)||void 0===c?void 0:c.plan)||"free"}),(0,u.jsx)(ed.Z,{visible:A,onClose:function(){return z(!1)}}),(0,u.jsx)(e_,{visible:_,onClose:function(){return F(!1)},onRestore:function(e){v.deserialize(e.pageData),F(!1),ee.ZP.success("Đ\xe3 kh\xf4i phục backup th\xe0nh c\xf4ng!")}}),(0,u.jsx)(R(),{id:"1890023189",children:[".navbar.jsx-1890023189{z-index:99;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-shadow:0 1px 2px 0 rgba(0,0,0,0.1);padding:2rem 1.4rem;}",".navbar--fixed-top.jsx-1890023189{position:fixed;width:100%;top:0;}",".navbar__inner.jsx-1890023189{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:unset;-ms-flex-wrap:unset;flex-wrap:unset;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:100%;}",".navbar__items.jsx-1890023189{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:10px;-webkit-flex:1;-ms-flex:1;flex:1;min-width:0;}",".navbar__items--right.jsx-1890023189{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}","@media (max-width:768px){.navbar.jsx-1890023189{padding:1rem 0.5rem;}}"]})]})},eM=n(67789),eH=n(11163),eL=n(34998),eU=n(35249);function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eK=function(e){var t,n=e.backup,r=e.onRestore,a=e.onDismiss,o=e.onDelete,i=(0,s.useState)(!1),c=i[0],l=i[1],d=(null===(t=n.data.settings)||void 0===t?void 0:t.title)||"Kh\xf4ng c\xf3 ti\xeau đề",x=(0,eO.Q)(new Date(n.timestamp),{addSuffix:!0,locale:eT.vi});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"px-2 py-1 rounded text-white text-xs font-medium",style:{backgroundColor:{page_specific:"#1890ff",template:"#722ed1",recent_new:"#52c41a"}[n.type]},children:{page_specific:"\uD83D\uDCC4 Trang cụ thể",template:"\uD83C\uDFA8 Template",recent_new:"✨ Trang mới"}[n.type]}),(0,u.jsx)("span",{className:"text-sm text-gray-500",children:x})]}),(0,u.jsx)("div",{className:"text-sm",children:(0,u.jsxs)("div",{className:"font-medium text-gray-900 truncate",children:["\uD83D\uDCDD ",d]})}),(0,u.jsxs)("div",{className:"mt-3 flex justify-between",children:[(0,u.jsx)(W.ZP,{size:"small",type:"default",icon:(0,u.jsx)(Q.gxi,{}),onClick:function(){return l(!0)},children:"Xem trước"}),(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)(W.ZP,{type:"primary",size:"small",icon:(0,u.jsx)(eZ.TeN,{}),onClick:function(){return r(n.key)},children:"Kh\xf4i phục"}),(0,u.jsx)(W.ZP,{size:"small",onClick:function(){return a(n.key)},children:"Bỏ qua"}),(0,u.jsx)(y.Z,{overlayStyle:{zIndex:1e4},title:"X\xf3a bản backup n\xe0y",children:(0,u.jsx)(W.ZP,{size:"small",danger:!0,icon:(0,u.jsx)(eZ.F1H,{}),onClick:function(){return o(n.key)}})})]})]})]}),c&&(0,u.jsx)(eB,{visible:c,onClose:function(){return l(!1)},backupData:n.data})]})},eq={page_specific:"#1890ff",template:"#722ed1",recent_new:"#52c41a"},eW=function(e){et.ZP.open({message:(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)(eh.Z,{style:{color:eq[e.backup.type]}}),(0,u.jsx)("span",{className:"font-semibold",children:"T\xecm thấy backup c\xf3 thể kh\xf4i phục"})]}),description:(0,u.jsx)(eK,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)),placement:"topRight",duration:0,key:"backup-recovery-".concat(e.backup.key)})},eY=function(){et.ZP.destroy()};function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eV=function(e){var t=e.pageId,n=e.isTemplate,r=e.onRestore,a=e.autoDetect,o=void 0===a||a,i=(0,s.useState)([]),c=i[0],l=i[1],d=(0,s.useState)(!1),u=d[0],x=d[1],p=(0,s.useState)(!1),f=p[0],h=p[1],m=(0,eb.h)(),g=m.getAllBackupKeys,b=m.getBackupData,j=m.removeBackup,y=(0,s.useCallback)(function(){var e,r=g(),a=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return eG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eG(e,t)}}(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(r);try{for(o.s();!(e=o.n()).done;){var i=e.value,s=b(i);if(s){if(t&&s.pageId===t&&!s.isTemplate){a.push({key:i,data:s,type:"page_specific",priority:2,timestamp:s.timestamp});continue}if(n&&s.isTemplate&&s.pageId===t){a.push({key:i,data:s,type:"template",priority:3,timestamp:s.timestamp});continue}if(!t&&!n&&!s.pageId&&!s.isTemplate){var c=Date.now()-36e5;s.timestamp>c&&a.push({key:i,data:s,type:"recent_new",priority:4,timestamp:s.timestamp})}}}}catch(e){o.e(e)}finally{o.f()}return a.sort(function(e,t){return e.priority!==t.priority?e.priority-t.priority:t.timestamp-e.timestamp}),a},[t,n,g,b]);(0,s.useEffect)(function(){if(o){var e=setTimeout(function(){var e=y();if(l(e),e.length>0&&!f){var t=e[0];Date.now()-t.timestamp<18e5&&(x(!0),h(!0))}},1e3);return function(){return clearTimeout(e)}}},[o,y]);var v=(0,s.useCallback)(function(e){var t=b(e);t&&r&&(r(t),ee.ZP.success("Đ\xe3 kh\xf4i phục backup th\xe0nh c\xf4ng!"),j(e),l(function(t){return t.filter(function(t){return t.key!==e})}))},[b,r]),w=(0,s.useCallback)(function(){eY()},[]),k=(0,s.useCallback)(function(e){j(e),l(function(t){return t.filter(function(t){return t.key!==e})}),ee.ZP.info("Đ\xe3 x\xf3a backup"),eY()},[j]);return{availableBackups:c,hasRelevantBackups:c.length>0,showRecoveryPrompt:u,setShowRecoveryPrompt:x,manualRestore:v,dismissBackup:w,deleteBackup:k,findRelevantBackups:y}},eQ=n(54811),eJ=n(75750),e$=function(e,t,n){if("free"!==e)return{hasAdvancedItems:!1,advancedItems:[]};var r,a=[];null!=n&&n.openingEffect&&a.push({displayName:"Hiệu ứng mở m\xe0n",isPremium:!1}),null!=n&&null!==(r=n.snowflakeEffect)&&void 0!==r&&r.enabled&&a.push({displayName:"Hiệu ứng thả rơi",isPremium:!1});try{var o=t.getNodes(),i=!1;Object.values(o).forEach(function(e){var t,n,r,o;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.name)!=="PluginAnimatedEnvelope"||i||(a.push({displayName:"Hiệu ứng phong b\xec thư",isPremium:!1}),i=!0),null!=e&&null!==(n=e.data)&&void 0!==n&&null!==(r=n.props)&&void 0!==r&&r.isAdvanced&&a.push({displayName:e.data.displayName,nodeId:e.id,isPremium:null===(o=e.data.props)||void 0===o?void 0:o.isPremium})})}catch(e){console.error("Error checking advanced nodes:",e)}return{hasAdvancedItems:a.length>0,advancedItems:a}},e0=function(e,t){if(0!==e.length){var n=e.filter(function(e){return e.isPremium}),r=e.filter(function(e){return!e.isPremium}),a=n.map(function(e){return e.displayName}).join(", "),o=r.map(function(e){return e.displayName}).join(", "),i=n.length>0,s=r.length>0,c="Ph\xe1t hiện t\xednh năng n\xe2ng cao!",l=(0,u.jsx)(eQ.Z,{style:{color:"#faad14",fontSize:"20px"}}),d="#faad14";"free"===t?i&&!s?(c="Ph\xe1t hiện t\xednh năng Premium!",l=(0,u.jsx)(eQ.Z,{style:{color:"#722ed1",fontSize:"20px"}}),d="#722ed1"):!i&&s&&(c="Ph\xe1t hiện t\xednh năng Basic!",l=(0,u.jsx)(eJ.Z,{style:{color:"#1890ff",fontSize:"20px"}}),d="#1890ff"):"basic"===t&&i&&(c="Ph\xe1t hiện t\xednh năng Premium!",l=(0,u.jsx)(eQ.Z,{style:{color:"#722ed1",fontSize:"20px"}}),d="#722ed1"),et.ZP.warning({message:(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,u.jsx)("span",{style:{fontWeight:"bold"},children:c}),l]}),description:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:["Trang của bạn c\xf3 chứa c\xe1c t\xednh năng n\xe2ng cao:",(0,u.jsxs)("span",{style:{fontWeight:"bold",color:d},children:[" ",'"',e.map(function(e){return e.displayName}).join(", "),'"']})]}),i&&(0,u.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"#f9f0ff",border:"1px solid #d3adf7",borderRadius:"4px"},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#722ed1",fontWeight:"bold",marginBottom:"4px"},children:[(0,u.jsx)(eQ.Z,{style:{fontSize:"14px"}}),"Premium: ",a]}),(0,u.jsx)("div",{style:{color:"#722ed1",fontSize:"12px"},children:"Cần g\xf3i Premium để sử dụng"})]}),s&&(0,u.jsxs)("div",{style:{marginBottom:"8px",padding:"8px",backgroundColor:"#f6ffed",border:"1px solid #b7eb8f",borderRadius:"4px"},children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#1890ff",fontWeight:"bold",marginBottom:"4px"},children:[(0,u.jsx)(eJ.Z,{style:{fontSize:"14px"}}),"Basic: ",o]}),(0,u.jsx)("div",{style:{color:"#1890ff",fontSize:"12px"},children:"Cần g\xf3i Basic trở l\xean để sử dụng"})]}),(0,u.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#666"},children:"Vui l\xf2ng n\xe2ng cấp g\xf3i để sử dụng đầy đủ c\xe1c t\xednh năng n\xe0y."})]}),duration:15,showProgress:!0,pauseOnHover:!0,placement:"topRight",style:{borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}})}},e1=function(e){var t,n=e.pageIdParam,r=e.isTemplate,a=void 0!==r&&r,o=e.autoSaveInterval,c=void 0===o?30:o,l="new-blank"===n?null:n,d=(0,i.jE)().query,u=(0,er.X2)().settings,x=(0,en.U)(),p=x.currentMusic,f=x.icon,h=x.iconColor,m=(0,S.useSession)().data,g=(null==m?void 0:null===(t=m.user)||void 0===t?void 0:t.plan)||"free",b=(0,eb.h)(),j=b.status,y=b.startAutoSave,v=b.stopAutoSave,w=b.setAutoSaveInterval,k=b.setAutoSaveEnabled,N=b.setHasUnsavedChanges,C=(0,s.useRef)(""),O=(0,s.useRef)(!1),T=(0,s.useCallback)(function(){try{var e=e$(g,d,u);return e.hasAdvancedItems&&l&&!a&&e0(e.advancedItems,g),{pageData:d.serialize(),settings:u,music:{fileKey:null==p?void 0:p.fileKey,icon:f,iconColor:h,title:null==p?void 0:p.title,duration:null==p?void 0:p.duration},timestamp:Date.now(),pageId:l,isTemplate:a,hasAdvancedItems:e.hasAdvancedItems}}catch(e){return console.error("Error getting current backup data:",e),null}},[d,u,p,f,h,l,a,g]);return(0,s.useEffect)(function(){var e=setInterval(function(){try{var e=JSON.stringify({pageData:d.serialize(),settings:u,music:p});O.current&&e!==C.current&&N(!0),C.current=e,O.current=!0}catch(e){console.error("Error checking for changes:",e)}},2e3);return function(){return clearInterval(e)}},[d,u,p,N]),(0,s.useEffect)(function(){return w(c),j.autoSaveEnabled&&y(T,l,a,g),function(){v()}},[j.autoSaveEnabled,c,T,l,a,w,y,v,g]),{status:j,setAutoSaveInterval:w,setAutoSaveEnabled:k,getCurrentBackupData:T}},e2=function(e){var t=e.children,n=e.pageId,r=e.isTemplate,a=e.templateCategoryId,o=(0,i.jE)(function(e){return{enabled:e.options.enabled}}),c=o.connectors,l=o.actions,d=o.enabled,x=(0,eH.useRouter)(),p=(0,S.useSession)().data,f=(0,s.useState)(!1),h=f[0],m=f[1],g=(0,s.useState)(!1),b=g[0],j=g[1],y=(0,er.X2)().setCategoryId;e1({pageIdParam:n,isTemplate:r});var v=x.pathname.includes("/editor-template/")||x.asPath.includes("/editor-template/");(0,s.useEffect)(function(){m(v)},[v]),(0,s.useEffect)(function(){a&&y(a)},[a,y]);var w=(0,eL.E)(),k=w.checkCanCreateWebsite,N=w.showLimitModal,C=w.closeLimitModal,O=w.plan,T=w.pagesCount,Z=w.isLoading,E=w.canCreate,D=w.enhancedLimits,P=w.addonBonuses,I=w.hasAddons,z="new-blank"===n||v;(0,s.useEffect)(function(){z&&null!=p&&p.user&&!Z&&!k()&&j(!0)},[z,p,Z,E]),(0,s.useEffect)(function(){if(b&&!N){var e=setTimeout(function(){x.push("/pages")},1e3);return function(){return clearTimeout(e)}}},[b,N,x]);var B=eV({pageId:"new-blank"===n?void 0:n,isTemplate:r,autoDetect:!0,onRestore:function(e){try{e.pageData&&(l.deserialize(e.pageData),eY())}catch(e){console.error("Error restoring backup:",e)}}}),_=B.availableBackups,H=B.hasRelevantBackups,L=B.manualRestore,U=B.dismissBackup,X=B.deleteBackup;(0,s.useEffect)(function(){H&&_.length>0&&eW({backup:_[0],onRestore:L,onDismiss:U,onDelete:X})},[H,_,L,U,X]);var K=!(z&&b);return(0,u.jsxs)("div",{className:"jsx-1349673381 viewport",children:[(0,u.jsx)(eF,{pageId:"new-blank"===n?null:n,isTemplate:r,canCreate:E}),K?(0,u.jsxs)("div",{className:"jsx-1349673381 "+(A()(["flex h-full overflow-hidden flex-row w-full fixed pt-16"])||""),children:[(0,u.jsx)("div",{style:{display:d?"flex":"none"},className:"jsx-1349673381 left-sidebar flex",children:(0,u.jsx)(M.v,{})}),(0,u.jsx)("div",{className:"jsx-1349673381 page-container flex flex-1 h-full flex-col",children:(0,u.jsx)("div",{id:"main-scroll-container",ref:function(e){return c.select(c.hover(e,null),null)},className:"jsx-1349673381 page-builder-renderer flex-1 h-full w-full transition pb-8 overflow-auto bg-renderer-gray",children:(0,u.jsx)("div",{className:"jsx-1349673381 relative flex-col flex items-center pt-14 pb-48",children:t})})}),(0,u.jsx)(F,{}),h&&(0,u.jsx)(eM.ZP,{})]}):(0,u.jsx)("div",{className:"jsx-1349673381 flex items-center justify-center h-full pt-16",children:(0,u.jsxs)("div",{className:"jsx-1349673381 text-center p-8",children:[(0,u.jsx)("div",{className:"jsx-1349673381 text-lg text-gray-600 mb-4",children:"Đang kiểm tra quyền truy cập..."}),(0,u.jsx)("div",{className:"jsx-1349673381 text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng trong gi\xe2y l\xe1t"})]})}),(0,u.jsx)(eU.Z,{isOpen:N,onClose:C,currentPlan:O,currentCount:T,limitType:"website",enhancedLimit:D.maxWebsites,addonBonus:P.websites,hasAddons:I}),(0,u.jsx)(R(),{id:"1349673381",children:[".left-sidebar.jsx-1349673381{z-index:10000;}"]})]})},e3=n(29786),e5=n(63340),e4=n(97937),e6=function(e){var t=e.visible,n=e.onClose,r=e.children,a=e.toolContent,o=(0,s.useState)(null),i=o[0],c=o[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(R(),{id:"3644526895",children:[".scrollbar-hide.jsx-3644526895{-ms-overflow-style:none;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;}",".scrollbar-hide.jsx-3644526895::-webkit-scrollbar{display:none;}"]}),(0,u.jsx)(e3.GI,{visible:!!i,showCloseButton:!0,onClose:function(){c(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",minHeight:"20vh",maxHeight:"40vh",padding:"12px",overflow:"auto",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsx)("div",{className:"jsx-3644526895 relative",children:(0,u.jsx)("div",{className:"jsx-3644526895 pt-6",children:(0,u.jsx)("div",{className:"jsx-3644526895 setting-content",children:a})})})}),(0,u.jsxs)("div",{className:"jsx-3644526895 "+"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200 rounded-xl shadow-2xl mx-1 mb-1 z-[999999999] transition-all duration-300 ease-out transform ".concat(t?"translate-y-0 opacity-100 scale-100":"translate-y-full opacity-0 scale-95 pointer-events-none"),children:[(0,u.jsx)("button",{onClick:n,className:"jsx-3644526895 absolute -top-3 right-1 w-8 h-8 flex items-center justify-center rounded-full bg-white/90 backdrop-blur-sm border border-gray-200 hover:bg-white hover:border-gray-300 active:scale-95 transition-all duration-200 ease-out hover:shadow-md group z-50",children:(0,u.jsx)(e4.Z,{className:"text-sm text-gray-700"})}),(0,u.jsx)("div",{className:"jsx-3644526895 flex items-center px-1 py-2 relative z-10",children:(0,u.jsx)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},className:"jsx-3644526895 flex-1 overflow-x-auto scrollbar-hide scroll-smooth pr-2",children:(0,u.jsx)("div",{style:{scrollSnapType:"x mandatory"},className:"jsx-3644526895 flex items-center space-x-4 min-w-max min-h-16",children:r})})})]})]})},e9=function(){var e=(0,i.jE)(function(e,t){var n=t.getEvent("selected").first();return{active:n,related:n&&e.nodes[n].related}}),t=e.active,n=e.related,r=e.actions,a=(0,s.useState)(!1),o=a[0],c=a[1],l=(0,ec.TN)().pageData,x=(0,er.X2)(),p=(x.settings,x.setTitle),f=x.setThumbnail,h=x.setShowBottomToolbar,m=x.setStatus,g=x.setQRBankAccounts,b=x.setHideWatermark,j=x.setCategoryId;return(0,s.useEffect)(function(){l&&(p(l.pageName),f(l.thumbnailKey),m(l.status||"published"),void 0!==l.showBottomToolbar?h(l.showBottomToolbar):h(er.Kq),l.qrBankAccounts&&g(l.qrBankAccounts),void 0!==l.hideWatermark&&b(l.hideWatermark),l.categoryId&&j(l.categoryId))},[l]),(0,u.jsxs)(u.Fragment,{children:[(!t||"ROOT"===t)&&(0,u.jsx)(e5.Z,{icon:(0,u.jsx)(eg.Z,{}),type:"default",onClick:function(){c(!0)},style:{bottom:74,right:20,width:45,height:45}}),(0,u.jsx)(e6,{visible:!!t&&"ROOT"!==t,onClose:function(){r.selectNode(null)},children:t&&n.mobileToolbar&&s.createElement(n.mobileToolbar)}),(0,u.jsx)(e3.GI,{visible:o,showCloseButton:!0,onClose:function(){return c(!1)},onMaskClick:function(){return c(!1)},bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",padding:0,height:"60vh",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:"C\xe0i đặt trang"})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(60vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:(0,u.jsx)(d.Z,{})})})]})})]})},e7=n(55451),e8=n(6255),te=n(20380),tt=n(11936),tn=n(20941),tr=n(35282),ta=n(77680),to=n(93326),ti=n(85193),ts=n(86678),tc=n(57085),tl=function(){var e,t=(0,i.jE)(),n=t.query,r=t.actions,a=(0,o.Dk)(),l=a.activeKey,d=a.setActiveKey,x=(0,s.useState)(!1),p=x[0],f=x[1],h=function(){f(!1),d(null)},m=[{key:c.Ey.TEXT,title:"Văn bản",icon:(0,u.jsx)(tr.wUc,{size:24}),content:(0,u.jsx)(e8.Z,{})},{key:c.Ey.PHOTO,title:"H\xecnh ảnh",icon:(0,u.jsx)(eZ.LfC,{}),content:(0,u.jsx)(tt.Z,{isMobile:!0,onClose:h})},{key:c.Ey.MATERIAL,title:"Stock",icon:(0,u.jsx)(C.DgG,{}),content:(0,u.jsx)(te.Z,{isMobile:!0,onClose:h})},{key:c.Ey.BACKGROUND,title:"Th\xeam nền",icon:(0,u.jsx)(eu.fmc,{}),content:(0,u.jsx)(to.Z,{})},{key:c.Ey.MUSIC,title:"\xc2m nhạc",icon:(0,u.jsx)(e7.rkz,{}),content:(0,u.jsx)(ti.Z,{})},{key:c.Ey.PLUGIN,title:"Tiện \xedch",icon:(0,u.jsx)(e7.pNA,{}),content:(0,u.jsx)(tn.Z,{isMobile:!0,onClose:h})},{key:c.Ey.EFFECT,title:"Hiệu ứng",icon:(0,u.jsx)(V.hWE,{size:20}),content:(0,u.jsx)(tc.Z,{isMobile:!0})},{key:c.Ey.TEMPLATE,title:"Mẫu",icon:(0,u.jsx)(e7.H5o,{}),content:(0,u.jsx)(ts.Z,{})}],g=function(){var e=document.getElementById("root-page-container"),t=document.getElementById("main-scroll-container");if(e&&t){var a=t.scrollTop,o=e.getBoundingClientRect().width,i=n.createNode(s.createElement(ta.z,{top:Math.round(a+window.innerHeight/2-150),left:10,width:o-20,fontSize:22}));r.add(i,"ROOT"),r.selectNode(i.id)}},b=l===c.Ey.PHOTO||l===c.Ey.MATERIAL;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{background:"white",borderTop:"1px solid #eee",paddingTop:"5px",paddingBottom:"5px"},className:"jsx-478851306",children:(0,u.jsx)(e3.nj,{activeKey:l,onChange:function(e){if(e===c.Ey.TEXT){g();return}d(e),f(!0)},className:"mobile-toolbox-tab-bar",children:m.map(function(e){return(0,u.jsx)(e3.nj.Item,{icon:e.icon,title:e.title},e.key)})})}),(0,u.jsx)(e3.GI,{visible:p,onMaskClick:h,position:"bottom",bodyStyle:{height:"60vh"},children:null===(e=m.find(function(e){return e.key===l}))||void 0===e?void 0:e.content}),(0,u.jsxs)(e3.GI,{visible:b,onMaskClick:h,position:"bottom",bodyStyle:{height:"60vh"},children:[l===c.Ey.PHOTO&&(0,u.jsx)(tt.Z,{isMobile:!0,onClose:h}),l===c.Ey.MATERIAL&&(0,u.jsx)(te.Z,{isMobile:!0,onClose:h})]}),(0,u.jsx)(R(),{id:"478851306",children:[".mobile-toolbox-tab-bar .adm-tab-bar-wrap{overflow:auto;}"]}),(0,u.jsx)(e3.GI,{onMaskClick:h,position:"bottom",bodyStyle:{height:"60vh"},children:(0,u.jsx)(tt.Z,{isMobile:!0,onClose:h})})]})},td=function(e){var t=e.children,n=e.pageId,r=e.isTemplate,a=e.templateCategoryId,o=(0,i.jE)(function(e,t){return{active:t.getEvent("selected").first()}}),c=o.connectors,l=o.active,d=o.actions,x=(0,eH.useRouter)(),p=(0,S.useSession)().data,f=(0,s.useState)(!1),h=f[0],m=f[1],g=(0,er.X2)().setCategoryId;e1({pageIdParam:n,isTemplate:r}),(0,s.useEffect)(function(){a&&g(a)},[a,g]);var b=x.pathname.includes("/editor-template/")||x.asPath.includes("/editor-template/"),j=(0,eL.E)(),y=j.checkCanCreateWebsite,v=j.showLimitModal,w=j.closeLimitModal,k=j.plan,N=j.pagesCount,C=j.isLoading,O=j.canCreate,T=j.enhancedLimits,Z=j.addonBonuses,E=j.hasAddons,D="new-blank"===n||b;(0,s.useEffect)(function(){D&&null!=p&&p.user&&!C&&!y()&&m(!0)},[D,p,C,O]),(0,s.useEffect)(function(){if(h&&!v){var e=setTimeout(function(){x.push("/dashboard")},1e3);return function(){return clearTimeout(e)}}},[h,v,x]),(0,s.useEffect)(function(){return document.documentElement.style.overscrollBehavior="none",document.documentElement.style.overflow="hidden",document.documentElement.style.height="100%",document.documentElement.style.width="100%",document.documentElement.style.position="fixed",document.body.style.overscrollBehavior="none",document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.width="100%",document.body.style.position="fixed",function(){document.documentElement.style.removeProperty("overscroll-behavior"),document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("height"),document.documentElement.style.removeProperty("width"),document.documentElement.style.removeProperty("position"),document.body.style.removeProperty("overscroll-behavior"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("height"),document.body.style.removeProperty("width"),document.body.style.removeProperty("position")}},[]);var P=eV({pageId:"new-blank"===n?void 0:n,isTemplate:r,autoDetect:!0,onRestore:function(e){try{e.pageData&&(d.deserialize(e.pageData),eY())}catch(e){console.error("Error restoring backup:",e)}}}),R=P.availableBackups,I=P.hasRelevantBackups,z=P.manualRestore,B=P.dismissBackup,_=P.deleteBackup;(0,s.useEffect)(function(){I&&R.length>0&&eW({backup:R[0],onRestore:z,onDismiss:B,onDelete:_})},[I,R,z,B,_]);var F=!(D&&h);return(0,u.jsxs)("div",{className:"viewport",children:[(0,u.jsx)(eF,{pageId:"new-blank"===n?null:n,mobileView:!0,isTemplate:r,canCreate:O}),(0,u.jsx)("div",{className:"h-16"}),F?(0,u.jsxs)("div",{className:A()(["flex h-full overflow-hidden flex-row w-full fixed"]),children:[(0,u.jsx)("div",{className:"page-container flex flex-1 h-full flex-col",children:(0,u.jsx)("div",{className:"page-builder-renderer flex-1 h-full w-full transition pb-8 overflow-auto bg-renderer-gray",id:"main-scroll-container",ref:function(e){return c.select(c.hover(e,null),null)},children:(0,u.jsx)("div",{className:"relative flex-col flex items-center pt-10 pb-48",children:t})})}),(0,u.jsx)(e9,{}),("ROOT"===l||!l)&&(0,u.jsx)("div",{className:"fixed bottom-0 w-full bg-white",style:{zIndex:99999999},children:(0,u.jsx)(tl,{})})]}):(0,u.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,u.jsxs)("div",{className:"text-center p-8",children:[(0,u.jsx)("div",{className:"text-lg text-gray-600 mb-4",children:"Đang kiểm tra quyền truy cập..."}),(0,u.jsx)("div",{className:"text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng trong gi\xe2y l\xe1t"})]})}),(0,u.jsx)(eU.Z,{isOpen:v,onClose:w,currentPlan:k,currentCount:N,limitType:"website",enhancedLimit:T.maxWebsites,addonBonus:Z.websites,hasAddons:E})]})}},21402:function(e,t,n){"use strict";var r=n(67294),a=n(53298),o=n(80122),i=n(22567),s=n(46425),c=n(83062),l=n(85893);t.Z=function(e){var t=e.visible,n=e.onClose,d=e.advancedItems,u=e.onRemoveAdvancedItem,x=e.templateType,p=e.userPlan,f=void 0===p?"free":p,h=x?"premium"===x&&"premium"!==f?{type:"premium",displayName:"Template Premium",requiredPlans:["premium"],message:"Mẫu n\xe0y chỉ d\xe0nh cho người d\xf9ng g\xf3i Premium."}:"basic"===x&&"free"===f?{type:"basic",displayName:"Template Basic",requiredPlans:["basic","premium"],message:"Template n\xe0y chỉ d\xe0nh cho người d\xf9ng g\xf3i Basic trở l\xean."}:null:null,m=h?s.T0.filter(function(e){return h.requiredPlans.includes(e.name)}):s.T0.filter(function(e){return"basic"===e.name||"premium"===e.name}),g=function(e){window.open(e,"_blank"),n()},b=function(e){u&&(u(e),(d.length<=1||"Bản đồ n\xe2ng cao"===e.displayName)&&n())},j="advanced-items-".concat(h?"template-restriction":"regular");return(0,l.jsx)(a.u,{appear:!0,show:t,as:r.Fragment,children:(0,l.jsxs)(o.Vq,{as:"div",className:"relative",style:{zIndex:9999},onClose:n,children:[(0,l.jsx)(a.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,l.jsx)(a.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsxs)(o.Vq.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,l.jsx)(o.Vq.Title,{as:"h3",className:"text-xl font-semibold leading-6 text-gray-900 text-center mb-2",children:h?"Mẫu cao cấp":"Ph\xe1t hiện t\xednh năng n\xe2ng cao"}),(0,l.jsxs)("div",{className:"mt-4 text-center",children:[h&&(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4 mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,l.jsx)(i.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-6 w-6 text-purple-500"}),(0,l.jsx)("span",{className:"font-semibold text-purple-900",children:h.displayName})]}),(0,l.jsx)("p",{className:"text-purple-800 text-sm",children:h.message})]})}),!h&&d.length>0&&(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Trang của bạn c\xf3 chứa c\xe1c t\xednh năng n\xe2ng cao sau đ\xe2y:"}),!h&&d.length>0&&(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,l.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center justify-center",children:[(0,l.jsx)(i.JO,{icon:"solar:star-bold",className:"mr-2 h-5 w-5 text-yellow-500"}),"T\xednh năng n\xe2ng cao được sử dụng"]}),(0,l.jsx)("div",{className:"space-y-2",children:d.map(function(e,t){var n="Bản đồ n\xe2ng cao"===e.displayName,r=e.isPremium,a=n?"Thay thế bản đồ":"X\xf3a ".concat(e.displayName.toLowerCase());return(0,l.jsxs)("div",{className:"flex items-center justify-center text-sm relative p-3 rounded-lg transition-all duration-200 ".concat(r?"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 shadow-sm":"bg-white border border-blue-200 shadow-sm"),children:[r?(0,l.jsxs)("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-md",children:[(0,l.jsx)(i.JO,{icon:"solar:crown-bold",className:"inline-block mr-1 h-3 w-3"}),"PREMIUM"]}):(0,l.jsxs)("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-md",children:[(0,l.jsx)(i.JO,{icon:"solar:star-bold",className:"inline-block mr-1 h-3 w-3"}),"BASIC"]}),(0,l.jsx)(i.JO,{icon:r?"solar:crown-star-bold":"solar:star-bold",className:"mr-2 h-4 w-4 ".concat(r?"text-purple-500":"text-blue-500")}),(0,l.jsx)("span",{className:"font-semibold ".concat(r?"text-purple-800":"text-blue-800"),children:e.displayName}),(0,l.jsxs)("div",{className:"ml-2 flex items-center",children:[(0,l.jsx)(i.JO,{icon:"solar:star-bold",className:"h-3 w-3 mr-1 ".concat(r?"text-yellow-500":"text-blue-500")}),(0,l.jsx)("span",{className:"text-xs font-semibold ".concat(r?"text-purple-600":"text-blue-600"),children:r?"Chỉ c\xf3 trong g\xf3i Premium":"C\xf3 trong g\xf3i Basic trở l\xean"})]}),(0,l.jsx)(c.Z,{title:a,styles:{root:{zIndex:1e4}},placement:"top",children:(0,l.jsx)("button",{onClick:function(){return b(e)},className:"ml-3 p-1 rounded-full transition-all duration-200 hover:scale-110 ".concat(n?"bg-blue-200 hover:bg-blue-300 text-blue-500":r?"bg-purple-200 hover:bg-purple-300 text-purple-500":"bg-blue-200 hover:bg-blue-300 text-blue-500"),children:(0,l.jsx)(i.JO,{icon:n?"solar:refresh-circle-bold":"solar:trash-bin-trash-bold",className:"h-4 w-4"})})})]},t)})})]}),(0,l.jsx)("div",{className:"text-gray-600 mb-6 space-y-3",children:h?(0,l.jsxs)("p",{children:["Bạn đang sử dụng mẫu n\xe2ng cao (",h.displayName,"), để xuất bản mẫu n\xe0y, bạn cần n\xe2ng cấp l\xean g\xf3i"," ",h.requiredPlans.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" hoặc "),"."]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)(i.JO,{icon:"solar:info-circle-bold",className:"mr-2 h-5 w-5 text-yellow-500 mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-semibold text-yellow-800 mb-1",children:["Với g\xf3i ",(0,l.jsx)("span",{className:"uppercase",children:f})]}),(0,l.jsx)("p",{className:"text-yellow-700 text-sm",children:"Bạn cần loại bỏ c\xe1c t\xednh năng n\xe2ng cao n\xe0y để c\xf3 thể xuất bản website."})]})]})})})}),(0,l.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,l.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,l.jsx)(i.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"Hoặc n\xe2ng cấp để sử dụng đầy đủ"]}),(0,l.jsx)("div",{className:"grid gap-4 ".concat(1===m.length?"grid-cols-1 max-w-xs mx-auto":"grid-cols-1 md:grid-cols-2"),children:m.map(function(e){return(0,l.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[e.popular&&(0,l.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,l.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,l.jsx)(i.JO,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,l.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,l.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,l.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,s.vs)(e.price,e.originalPrice),"%"]})]}):(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,l.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,l.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,l.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,l.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,l.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,l.jsx)("div",{className:"text-gray-700",children:"• Sử dụng c\xe1c t\xednh năng n\xe2ng cao"}),e.featured&&(0,l.jsx)("div",{className:"text-gray-700",children:"• Template Basic + Premium"}),"basic"===e.name&&(0,l.jsx)("div",{className:"text-gray-700",children:"• Template Basic"})]}),(0,l.jsxs)("button",{onClick:function(){return g(e.ctaLink+"&upgradeSource=".concat(j))},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]}),(0,l.jsx)("div",{className:"flex justify-center gap-3",children:(0,l.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 transition-colors",onClick:n,children:"Đ\xf3ng"})})]})]})})})})]})})}},96208:function(e,t,n){"use strict";var r=n(50029),a=n(87794),o=n.n(a),i=n(67294),s=n(25593),c=n(2453),l=n(17788),d=n(40056),u=n(78957),x=n(38289),p=n(83622),f=n(68795),h=n(11475),m=n(48689),g=n(67623),b=n(85893),j=s.Z.Text,y=s.Z.Title;t.Z=function(e){var t,n=e.visible,a=e.onClose,s=(0,i.useState)(""),v=s[0],w=s[1],k=(0,i.useState)(null),N=k[0],C=k[1],O=(0,i.useState)(!1),S=O[0],T=O[1],Z=(0,i.useState)(!1),E=Z[0],D=Z[1],P=(0,g.jE)(),R=P.query,I=P.actions,A=function(){if(!v.trim()){c.ZP.warning("Vui l\xf2ng nhập ID của node");return}T(!0);try{var e,t=R.getNodes()[v.trim()];t?(C({id:t.id,displayName:(null===(e=t.data)||void 0===e?void 0:e.displayName)||"Kh\xf4ng c\xf3 t\xean"}),c.ZP.success("T\xecm thấy node!")):(C(null),c.ZP.error("Kh\xf4ng t\xecm thấy node với ID n\xe0y"))}catch(e){console.error("Error searching for node:",e),c.ZP.error("C\xf3 lỗi xảy ra khi t\xecm kiếm")}finally{T(!1)}},z=(t=(0,r.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:try{D(!0),I.delete(N.id),c.ZP.success("Đ\xe3 x\xf3a node th\xe0nh c\xf4ng!"),C(null),w("")}catch(e){console.error("Error removing node:",e),c.ZP.error("C\xf3 lỗi xảy ra khi x\xf3a node")}finally{D(!1)}case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,b.jsx)(l.Z,{title:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Z,{}),(0,b.jsx)("span",{children:"T\xecm v\xe0 x\xf3a node theo ID (N\xe2ng cao)"})]}),open:n,onCancel:function(){w(""),C(null),a()},footer:null,width:600,destroyOnClose:!0,children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(d.Z,{message:"T\xcdNH NĂNG N\xc2NG CAO - CẢNH B\xc1O",description:"Đ\xe2y l\xe0 t\xednh năng d\xe0nh cho c\xe1c nh\xe0 ph\xe1t triển c\xf3 chuy\xean m\xf4n. Việc x\xf3a node c\xf3 thể l\xe0m hỏng cấu tr\xfac trang v\xe0 g\xe2y ra lỗi kh\xf4ng mong muốn. Chỉ sử dụng khi bạn thực sự hiểu r\xf5 về cấu tr\xfac trang v\xe0 biết ch\xednh x\xe1c node n\xe0o cần x\xf3a.",type:"warning",showIcon:!0,className:"mb-4 text-sm"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j,{strong:!0,children:"Nhập ID của node:"}),(0,b.jsxs)(u.Z.Compact,{style:{width:"100%"},children:[(0,b.jsx)(x.Z,{placeholder:"Nhập ID node cần t\xecm...",value:v,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&A()},disabled:S}),(0,b.jsx)(p.ZP,{type:"primary",icon:(0,b.jsx)(f.Z,{}),onClick:A,loading:S,children:"T\xecm kiếm"})]})]}),N&&(0,b.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,b.jsx)(y,{level:5,className:"mb-3",children:"Kết quả t\xecm kiếm:"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(j,{strong:!0,children:"ID:"}),(0,b.jsx)(j,{code:!0,children:N.id})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(j,{strong:!0,children:"T\xean hiển thị:"}),(0,b.jsx)(j,{children:N.displayName})]})]}),(0,b.jsx)(d.Z,{message:"Cảnh b\xe1o",description:"Việc x\xf3a node n\xe0y sẽ kh\xf4ng thể ho\xe0n t\xe1c. H\xe3y chắc chắn rằng bạn muốn x\xf3a node n\xe0y.",type:"warning",showIcon:!0,icon:(0,b.jsx)(h.Z,{}),className:"mt-3"}),(0,b.jsx)("div",{className:"mt-4 flex justify-end",children:(0,b.jsx)(p.ZP,{danger:!0,icon:(0,b.jsx)(m.Z,{}),onClick:z,loading:E,children:"X\xf3a node"})})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,b.jsx)(j,{strong:!0,children:"Hướng dẫn sử dụng:"}),(0,b.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,b.jsx)("li",{children:"• Nhập ID của node cần t\xecm v\xe0o \xf4 t\xecm kiếm"}),(0,b.jsx)("li",{children:'• Nhấn Enter hoặc click n\xfat "T\xecm kiếm"'}),(0,b.jsx)("li",{children:"• Nếu t\xecm thấy, bạn c\xf3 thể xem th\xf4ng tin v\xe0 x\xf3a node"}),(0,b.jsx)("li",{children:"• Lưu \xfd: Việc x\xf3a node kh\xf4ng thể ho\xe0n t\xe1c"})]})]})]})})}},18036:function(e,t,n){"use strict";n.d(t,{h:function(){return d}});var r=n(67294),a=n(40411),o=n(83622),i=n(66309),s=n(22567),c=n(69595),l=n(85893),d=function(e){var t,n,d,u,x,p,f,h,m=e.pageData,g=e.userPlan,b=e.className,j=e.showPlanInfo,y=void 0===j||j,v=(0,r.useState)(!1),w=v[0],k=v[1];return null!=m&&m.expirationDate?(t=new Date(m.createdAt),n=new Date(m.expirationDate),d=new Date,u=Math.ceil((n.getTime()-t.getTime())/864e5),x=Math.max(0,Math.ceil((n.getTime()-d.getTime())/864e5)),p=Math.min(100,Math.min(u,Math.max(0,Math.ceil((d.getTime()-t.getTime())/864e5)))/u*100),f=x<=("free"===g?30:"basic"===g?90:365),h=0===x,(0,l.jsxs)("div",{className:"space-y-3 ".concat(void 0===b?"":b),children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(a.Z,{status:h?"error":f?"warning":"processing"}),(0,l.jsx)("span",{className:h?"text-red-600 font-medium":f?"text-orange-500 font-medium":"premium"===g?"text-green-500 font-medium":"basic"===g?"text-blue-500 font-medium":"text-yellow-500 font-medium",children:h?"Đ\xe3 hết hạn":"C\xf2n ".concat(x," ng\xe0y")})]}),(0,l.jsxs)("span",{className:"text-gray-500",children:[Math.round(p),"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:(0,l.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(h?"bg-red-500":f?"bg-orange-500":"premium"===g?"bg-green-500":"basic"===g?"bg-blue-500":"bg-yellow-500"),style:{width:"".concat(p,"%")}})}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Ng\xe0y tạo: ",t.toLocaleDateString("vi-VN")]}),(0,l.jsxs)("span",{children:["Hết hạn: ",n.toLocaleDateString("vi-VN")]})]})]}),(0,l.jsxs)("div",{className:"mt-3 flex items-start gap-3 bg-gray-50 rounded-lg p-3 border border-gray-100",children:[y&&(0,l.jsx)("div",{className:"text-amber-500 mt-0.5",children:(0,l.jsx)(s.JO,{icon:"solar:bell-bold",className:"text-lg"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-sm text-gray-700",children:h?"Trang web đ\xe3 hết hạn. Nhấn n\xfat b\xean dưới để xem c\xe1c t\xf9y chọn gia hạn.":f?"Trang web sắp hết hạn! H\xe3y gia hạn ngay để tr\xe1nh gi\xe1n đoạn.":"free"===g?"Với g\xf3i Free, trang web sẽ c\xf3 thời hạn 6 th\xe1ng kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn.":"basic"===g?"Với g\xf3i Basic, trang web sẽ c\xf3 thời hạn 2 năm kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn.":"Với g\xf3i Premium, trang web sẽ c\xf3 thời hạn 5 năm kể từ khi tạo. Bạn c\xf3 thể gia hạn th\xeam thời gian bằng c\xe1ch n\xe2ng cấp g\xf3i hoặc n\xe2ng thời gian gia hạn."}),(h||f||"premium"!==g)&&(0,l.jsx)("div",{className:"flex gap-2 mt-3",children:(0,l.jsx)(o.ZP,{type:"primary",size:"small",className:h||f?"bg-red-500 hover:bg-red-600 border-red-500":"free"===g?"bg-blue-500 hover:bg-blue-600 border-blue-500":"bg-orange-500 hover:bg-orange-600 border-orange-500",onClick:function(){return k(!0)},children:h?"Gia hạn ngay":f?"Gia hạn trang":"Xem c\xe1c g\xf3i"})}),"premium"===g&&(h||f)&&(0,l.jsx)("div",{className:"flex gap-2 mt-3",children:(0,l.jsx)(o.ZP,{type:"primary",size:"small",className:"bg-green-500 hover:bg-green-600 border-green-500",onClick:function(){return k(!0)},children:"Gia hạn trang web"})})]})]}),y&&(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("span",{className:"text-sm sm:text-base",children:"G\xf3i hiện tại"}),(0,l.jsx)(i.Z,{className:"uppercase",color:"free"===g?"warning":"basic"===g?"blue":"green",children:g})]}),"premium"!==g&&(0,l.jsxs)(o.ZP,{type:"link",size:"small",className:"text-xs sm:text-xs text-blue-500 hover:text-blue-600 p-0 h-auto flex items-center self-start sm:self-auto min-h-[32px] sm:min-h-auto",onClick:function(){return window.open("/pricing-plans?upgradeSource=time-extension-".concat(h?"expired":f?"expiring-soon":"upgrade"),"_blank")},children:[(0,l.jsx)(s.JO,{icon:"solar:arrow-up-bold",className:"text-xs mr-0.5"}),"N\xe2ng cấp"]}),"premium"===g&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs sm:text-xs text-green-600 self-start sm:self-auto",children:[(0,l.jsx)(s.JO,{icon:"solar:star-bold",className:"text-sm"}),(0,l.jsx)("span",{children:"G\xf3i cao nhất"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-2 pt-3 sm:pt-2 border-t border-gray-100",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)(s.JO,{icon:"solar:clock-circle-bold",className:"text-green-500"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Gia hạn thời gian"})]}),(0,l.jsxs)(o.ZP,{type:"link",size:"small",className:"text-xs sm:text-xs text-green-600 hover:text-green-700 p-0 h-auto flex items-center self-start sm:self-auto min-h-[32px] sm:min-h-auto",onClick:function(){return k(!0)},children:[(0,l.jsx)(s.JO,{icon:"solar:calendar-add-bold",className:"text-xs mr-0.5"}),"Gia hạn"]})]})]}),(0,l.jsx)(c.Z,{isOpen:w,onClose:function(){return k(!1)},currentPlan:g,expirationDate:m.expirationDate,isExpired:h,isExpiringSoon:f,daysLeft:x,openInNewTab:!0})]})):null}},34342:function(e,t,n){"use strict";n.d(t,{r:function(){return E}});var r=n(50029),a=n(59499),o=n(19848),i=n.n(o),s=n(87794),c=n.n(s),l=n(67294),d=n(67623),u=n(34304),x=n(93773),p=n(99621),f=n(63054),h=n(56084),m=n(35959),g=n(66748),b=n(42179),j=n(85893),y=n(99101),v=n(57581),w=n(17018),k=n(35282),N=n(29786),C={COLOR:"M\xe0u sắc",ROTATION:"Đối xứng",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"},O=n(7764);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Z={top:10,left:10,width:100,height:100,backgroundColor:"transparent",color:"#999999",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,materialType:"img",locked:!1,transition:b.b},E=function(e){var t=(0,l.useState)(""),n=t[0],a=t[1],o=(0,l.useRef)(null),s=(0,l.useState)([]),u=s[0],x=s[1],p=(0,l.useState)(!1),f=p[0],h=p[1],m=e=T(T({},Z),e),g=m.top,w=m.left,k=m.height,N=m.width,C=m.opacity,S=m.backgroundColor,E=m.shadow,D=m.padding,P=m.borderRadius,R=m.rotation,I=m.flipX,A=m.flipY,z=m.borderPosition,B=m.borderSize,_=m.borderStyle,F=m.borderColor,M=m.hasShadow,H=m.boxShadow,L=m.imgKey,U=m.materialType,X=m.zIndex,K=m.locked,q=m.transition||b.b,W=(0,d.Zo)(function(e){return{active:e.events.selected,id:e.id}}),Y=W.connectors.connect,G=W.actions.setProp,V=W.active,Q=W.id,J=(0,d.jE)(function(e){return{enabled:e.options.enabled}}).enabled;(0,l.useEffect)(function(){var t;(t=(0,r.Z)(c().mark(function t(){var n,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("svg"===e.materialType&&e.imgKey)){t.next=16;break}return t.prev=1,t.next=4,fetch("".concat(O.Z.CDN_RESOURCE_URL,"/").concat(e.imgKey));case 4:return n=t.sent,t.next=7,n.text();case 7:r=(r=t.sent).replace(/<svg/,'<svg preserveAspectRatio="none" width="100%" height="100%"'),e.color&&"transparent"!==e.color&&(r=r.replace(/<svg([^>]*)>/,"<svg$1><style>#svg-".concat(Q," svg path { fill: ").concat(e.color,"; }</style>"))),a(r),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("Failed to fetch SVG:",t.t0);case 16:case"end":return t.stop()}},t,null,[[1,13]])})),function(){return t.apply(this,arguments)})()},[e.imgKey,e.materialType,e.color]),(0,l.useEffect)(function(){if(V&&J){var e=document.querySelector("#root-page-container");e&&x(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==Q}))}},[V,J,Q]);var $=(0,l.useState)({width:0,height:0,left:0,top:0}),ee=$[0],et=$[1],en=(0,l.useState)(null),er=en[0],ea=en[1];(0,l.useEffect)(function(){if(V&&J){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();et({width:t.width,height:t.height,left:t.left,top:t.top}),ea(e)}}},[V,J]);var eo=function(){switch(z){case"all":return{border:"".concat(B,"px ").concat(_," ").concat(F)};case"top":return{borderTop:"".concat(B,"px ").concat(_," ").concat(F)};case"bottom":return{borderBottom:"".concat(B,"px ").concat(_," ").concat(F)};case"right":return{borderRight:"".concat(B,"px ").concat(_," ").concat(F)};case"left":return{borderLeft:"".concat(B,"px ").concat(_," ").concat(F)};case"top-bottom":return{borderTop:"".concat(B,"px ").concat(_," ").concat(F),borderBottom:"".concat(B,"px ").concat(_," ").concat(F)};case"right-left":return{borderRight:"".concat(B,"px ").concat(_," ").concat(F),borderLeft:"".concat(B,"px ").concat(_," ").concat(F)};case"upper-left":return{borderTop:"".concat(B,"px ").concat(_," ").concat(F),borderLeft:"".concat(B,"px ").concat(_," ").concat(F)};case"upper-right":return{borderTop:"".concat(B,"px ").concat(_," ").concat(F),borderRight:"".concat(B,"px ").concat(_," ").concat(F)};case"lower-left":return{borderBottom:"".concat(B,"px ").concat(_," ").concat(F),borderLeft:"".concat(B,"px ").concat(_," ").concat(F)};case"lower-right":return{borderBottom:"".concat(B,"px ").concat(_," ").concat(F),borderRight:"".concat(B,"px ").concat(_," ").concat(F)};default:return{}}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{"data-node-id":Q,ref:function(e){e&&(Y(e),o.current=e)},style:{position:"absolute",top:"".concat(g,"px"),left:"".concat(w,"px"),width:"".concat(N,"px"),height:"".concat(k,"px"),zIndex:X,cursor:J?"move":"default",transform:"rotate(".concat(R,"deg) scale(").concat(I?-1:1,", ").concat(A?-1:1,")")},className:"jsx-3557960200",children:(0,j.jsx)(v.Z,{transition:q,targetRef:o,enabled:J,nodeId:Q,onTransitionStart:function(){h(!0)},onTransitionEnd:function(){h(!1)},children:(0,j.jsx)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:S,textShadow:"0px 0px 2px rgba(0,0,0,".concat((E||0)/100,")"),opacity:C},className:"jsx-3557960200",children:(0,j.jsxs)("div",{className:"jsx-3557960200 material-component",children:["img"===U&&(0,j.jsx)("div",{style:T(T({backgroundImage:"url(".concat(O.Z.CDN_RESOURCE_URL,"/").concat(L,")")},eo),{},{borderRadius:"".concat(P[0],"px \n                  ").concat(P[1],"px \n                  ").concat(P[2],"px \n                  ").concat(P[3],"px"),padding:"".concat(D[0],"px ").concat(D[1],"px ").concat(D[2],"px ").concat(D[3],"px"),boxShadow:M?"".concat(H.offsetX,"px ").concat(H.offsetY,"px ").concat(H.blur,"px ").concat(H.spread,"px ").concat(H.color):"none"}),className:"jsx-3557960200 photo-bg-wrap"}),"svg"===U&&n&&(0,j.jsx)("div",{id:"svg-".concat(Q),dangerouslySetInnerHTML:{__html:n},style:T(T({width:"100%",height:"100%",overflow:"hidden"},eo),{},{borderRadius:"".concat(P[0],"px \n                  ").concat(P[1],"px \n                  ").concat(P[2],"px \n                  ").concat(P[3],"px"),padding:"".concat(D[0],"px ").concat(D[1],"px ").concat(D[2],"px ").concat(D[3],"px"),boxShadow:M?"".concat(H.offsetX,"px ").concat(H.offsetY,"px ").concat(H.blur,"px ").concat(H.spread,"px ").concat(H.color):"none"}),className:"jsx-3557960200 svg-wrap"})]})})})}),V&&J&&o.current&&!f&&(0,j.jsx)(y.Z,{target:o.current,container:er,otherElements:u,containerBounds:ee,currentProps:{top:g,left:w,width:N,height:k,rotation:R,flipX:I,flipY:A,locked:K},onUpdateProps:function(e){G(function(t){Object.assign(t,e)})}}),(0,j.jsx)(i(),{id:"3557960200",children:[".material-component.jsx-3557960200{width:100%;height:100%;}",".material-component.jsx-3557960200 img.jsx-3557960200{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".material-component.jsx-3557960200 .photo-bg-wrap.jsx-3557960200{width:100%;height:100%;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]})]})};E.craft={displayName:"Material Item",props:Z,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e=(0,d.Zo)(function(e){return{materialType:e.data.props.materialType}}).materialType;return(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(g.e,{type:"material"}),(0,j.jsxs)(u.Z2,{title:"M\xe0u sắc",defaultOpen:!0,children:[(0,j.jsx)(x.R,{isColor:"svg"===e,defaultColor:"#999999",isBackground:!0}),(0,j.jsx)(m.n,{})]}),(0,j.jsx)(u.Z2,{title:"Đối xứng",children:(0,j.jsx)(p.J,{flipable:!0})}),(0,j.jsx)(u.Z2,{title:"Đường viền",children:(0,j.jsx)(f.j,{})}),(0,j.jsx)(u.Z2,{title:"Đổ b\xf3ng",children:(0,j.jsx)(h.O,{})}),(0,j.jsx)(u.Z2,{title:"Hiệu ứng chuyển động",children:(0,j.jsx)(b.C,{})})]})},mobileToolbar:function(){var e=(0,l.useState)(null),t=e[0],n=e[1],r=(0,d.Zo)(function(e){return{materialType:e.data.props.materialType}}).materialType,a=function(e){n(e)};return(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(w.Z,{icon:(0,j.jsx)(k.l9F,{size:20}),label:"M\xe0u sắc",onClick:function(){return a(C.COLOR)}}),(0,j.jsx)(w.Z,{icon:(0,j.jsx)(k.Dbk,{size:20}),label:C.ROTATION,onClick:function(){return a(C.ROTATION)}}),(0,j.jsx)(w.Z,{icon:(0,j.jsx)(k.QT8,{size:20}),label:C.BORDER,onClick:function(){return a(C.BORDER)}}),(0,j.jsx)(w.Z,{icon:(0,j.jsx)(k.HkK,{size:20}),label:C.BOX_SHADOW,onClick:function(){return a(C.BOX_SHADOW)}}),(0,j.jsx)(w.Z,{icon:(0,j.jsx)(k.AO4,{size:20}),label:C.TRANSITION,onClick:function(){return a(C.TRANSITION)}}),(0,j.jsx)(N.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,j.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,j.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,j.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,j.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,j.jsx)("div",{className:"setting-content",children:function(){switch(t){case C.COLOR:return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.R,{isColor:"svg"===r,defaultColor:"#999999",isBackground:!0}),(0,j.jsx)(m.n,{})]});case C.ROTATION:return(0,j.jsx)(p.J,{flipable:!0});case C.BORDER:return(0,j.jsx)(f.j,{});case C.BOX_SHADOW:return(0,j.jsx)(h.O,{});case C.TRANSITION:return(0,j.jsx)(b.C,{});default:return(0,j.jsx)(j.Fragment,{})}}()})})]})})]})}}}},99101:function(e,t,n){"use strict";var r=n(19848),a=n.n(r),o=n(67294),i=n(31695),s=n(85893);t.Z=function(e){var t=e.target,n=e.container,r=e.otherElements,c=e.containerBounds,l=e.currentProps,d=e.onUpdateProps,u=e.resizeDirections,x=e.keepRatio,p=(0,o.useRef)(null),f=l.top,h=l.left,m=l.width,g=l.height,b=l.rotation,j=l.flipX,y=l.flipY,v=!!l.locked;return(0,o.useEffect)(function(){l&&p.current&&p.current.updateRect()},[l]),(0,o.useEffect)(function(){if(!v&&t){var e=function(e){if(t&&document.activeElement===t){var n=e.shiftKey?10:1,r=f,a=h,o=!1;switch(e.key){case"ArrowUp":r-=n,o=!0;break;case"ArrowDown":r+=n,o=!0;break;case"ArrowLeft":a-=n,o=!0;break;case"ArrowRight":a+=n,o=!0}o&&(e.preventDefault(),t.style.top="".concat(r,"px"),t.style.left="".concat(a,"px"),d({top:r,left:a}))}};return t&&!t.hasAttribute("tabindex")&&t.setAttribute("tabindex","0"),window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}},[t,f,h,v,d]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.ZP,{ref:p,target:t,container:n,origin:!1,resizable:!v,keepRatio:void 0===x||x,throttleResize:0,renderDirections:v?[]:void 0===u?["nw","n","ne","w","e","sw","s","se"]:u,edge:!1,zoom:1,padding:{left:0,top:0,right:0,bottom:0},draggable:!v,throttleDrag:0,rotatable:!v,throttleRotate:0,rotationPosition:"bottom",scalable:!1,snappable:!v,snapContainer:n,snapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},snapThreshold:3,horizontalGuidelines:function(){if(0===c.height)return[];var e=c.height;return[0,e/2,e]}(),verticalGuidelines:function(){if(0===c.width)return[];var e=c.width;return[0,e/2,e]}(),elementGuidelines:r,snapDistFormat:function(e){return"".concat(e,"px")},isDisplaySnapDigit:!0,snapDigit:0,onResizeStart:function(e){if(!v){e.setOrigin(["%","%"]),e.dragStart&&e.dragStart.set([h,f]);var t=e.direction||[];2===t.length&&0!==t[0]&&0!==t[1]?e.setRatio(m/g):e.setRatio(0);var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="hidden")}},onResize:function(e){if(!v){var n=e.width,r=e.height,a=f,o=h;e.drag&&(a=e.drag.top,o=e.drag.left),t&&(t.style.width="".concat(n,"px"),t.style.height="".concat(r,"px"),t.style.top="".concat(a,"px"),t.style.left="".concat(o,"px"),e.drag&&e.drag.transform&&(t.style.transform="rotate(".concat(b,"deg) scale(").concat(j?-1:1,", ").concat(y?-1:1,")"))),e.drag||window.requestAnimationFrame(function(){d({width:n,height:r,top:a,left:o})})}},onResizeEnd:function(){if(!v){var e=document.getElementById("floating-toolbar");e&&(e.style.visibility="visible")}},onDragStart:function(){if(!v){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow="hidden");var t=document.getElementById("floating-toolbar");t&&(t.style.visibility="hidden")}},onDrag:function(e){!v&&(t&&(t.style.top="".concat(e.top,"px"),t.style.left="".concat(e.left,"px")),p.current&&(p.current.__dragDebounce=p.current.__dragDebounce||0,clearTimeout(p.current.__dragDebounce),p.current.__dragDebounce=setTimeout(function(){d({top:e.top,left:e.left})},20)))},onDragEnd:function(){if(!v){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow="");var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="visible"),t&&d({top:parseFloat(t.style.top),left:parseFloat(t.style.left)})}},onRotateStart:function(e){e.set(b);var n=document.getElementById("floating-toolbar");n&&(n.style.visibility="hidden");var r=document.createElement("div");if(r.id="angle-display",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.backgroundColor="rgba(51, 51, 51, 0.8)",r.style.color="white",r.style.padding="4px 8px",r.style.borderRadius="4px",r.style.fontSize="12px",r.style.zIndex="9999",r.textContent="".concat(Math.round(b),"\xb0"),document.body.appendChild(r),t){var a=t.getBoundingClientRect();r.style.top="".concat(a.top-40,"px"),r.style.left="".concat(a.left+a.width/2-17,"px")}},onRotate:function(e){var n=e.rotate%360;n<0&&(n+=360);for(var r=n,a=Math.round(r),o=0,i=[0,45,90,135,180,225,270,315];o<i.length;o++){var s=i[o];if(2>=Math.abs(r-s)){r=s;break}}if(t){var c=2>=Math.abs(r-n)?r:n;t.style.transform="rotate(".concat(c,"deg) scale(").concat(j?-1:1,", ").concat(y?-1:1,")");var l=document.getElementById("angle-display");if(l){2>=Math.abs(r-n)?l.textContent="".concat(r.toFixed(1),"\xb0"):l.textContent="".concat(a.toFixed(1),"\xb0");var u=t.getBoundingClientRect();l.style.top="".concat(u.top-40,"px"),l.style.left="".concat(u.left+u.width/2-17,"px")}}p.current&&(p.current.__rotateDebounce=p.current.__rotateDebounce||0,clearTimeout(p.current.__rotateDebounce),p.current.__rotateDebounce=setTimeout(function(){d({rotation:2>=Math.abs(r-n)?r:n})},20))},onRotateEnd:function(){var e=document.getElementById("floating-toolbar");if(e&&(e.style.visibility="visible"),t){var n=t.style.transform.match(/rotate\(([^)]+)deg\)/),r=n?parseFloat(n[1]):0;(r%=360)<0&&(r+=360),d({rotation:r});var a=document.getElementById("angle-display");a&&a.remove()}},onRenderEnd:function(e){d({width:parseFloat(e.target.style.width)||m,height:parseFloat(e.target.style.height)||g,top:parseFloat(e.target.style.top)||f,left:parseFloat(e.target.style.left)||h})}}),(0,s.jsx)(a(),{id:"3059266317",children:[".moveable-control.moveable-rotation-control{width:24px !important;height:24px !important;margin-top:-12px !important;margin-left:-12px !important;border-radius:50% !important;background-color:white !important;border:1px solid #333 !important;box-shadow:0 2px 5px rgba(0,0,0,0.2) !important;cursor:-webkit-grab !important;cursor:-moz-grab !important;cursor:grab !important;}",".moveable-control.moveable-rotation-control:active{cursor:-webkit-grabbing !important;cursor:-moz-grabbing !important;cursor:grabbing !important;}",".moveable-rotation-digit{background-color:#333 !important;color:white !important;font-weight:bold !important;padding:2px 6px !important;border-radius:4px !important;}",".moveable-line.moveable-rotation-line{display:none !important;}",".moveable-control.moveable-rotation-control::before{content:\"\";position:absolute;top:50%;left:50%;width:15px;height:15px;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23333'%3E%3Cpath d='M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z'/%3E%3C/svg%3E\");background-size:contain;background-repeat:no-repeat;background-position:center;}"]})]})}},3885:function(e,t,n){"use strict";n.d(t,{A:function(){return eu}});var r=n(59499),a=n(19848),o=n.n(a),i=n(67294),s=n(67623),c=n(34304),l=n(93773),d=n(15720),u=n(99621),x=n(63054),p=n(56084),f=n(35959),h=n(50029),m=n(87794),g=n.n(m),b=n(76975),j=n(86745),y=n(77917),v=n(2453),w=n(4393),k=n(52804),N=n(84249),C=n(22567),O=n(16835),S=n(17788),T=n(42016),Z=n(27812),E=n(7764),D=n(85518),P=n(85893),R=function(e){var t=e.selectedShape,n=e.onShapeSelect,r=(0,i.useState)([]),a=r[0],s=r[1],c=(0,i.useState)(!0),l=c[0],d=c[1];return((0,i.useEffect)(function(){var e;(e=(0,h.Z)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E.Z.API_URL,"/api/resources/categories/cropShapes"));case 3:return t=e.sent,e.next=6,t.json();case 6:s(e.sent.items||[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching crop shapes:",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])})),function(){return e.apply(this,arguments)})()},[]),l)?(0,P.jsxs)("div",{className:"control-group",children:[(0,P.jsx)("h4",{className:"control-title",children:"H\xecnh dạng cắt"}),(0,P.jsx)("div",{className:"crop-shape-list loading",style:{height:"190px"},children:(0,Z.Z)(Array(8)).map(function(e,t){return(0,P.jsx)("div",{className:"crop-shape-item skeleton"},t)})})]}):(0,P.jsxs)("div",{className:o().dynamic([["537451976",[D.tq?"120px":"250px"]]])+" control-group",children:[(0,P.jsxs)("h4",{className:o().dynamic([["537451976",[D.tq?"120px":"250px"]]])+" control-title flex items-center gap-2",children:[(0,P.jsx)("span",{className:o().dynamic([["537451976",[D.tq?"120px":"250px"]]])+" crop-shape-title",children:"H\xecnh dạng cắt:"}),t&&(0,P.jsx)("span",{onClick:function(){return n("")},style:{backgroundImage:"url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(t,")")},className:o().dynamic([["537451976",[D.tq?"120px":"250px"]]])+" active-indicator crop-shape-item inline-block w-6 h-6 relative",children:(0,P.jsx)("button",{style:{backgroundColor:"#76828e",borderRadius:"4px",border:"2px solid #fff"},onClick:function(){return n("")},"aria-label":"Reset shape",className:o().dynamic([["537451976",[D.tq?"120px":"250px"]]])+" reset-button absolute -top-1 -right-1",children:(0,P.jsx)(C.JO,{icon:"mdi:close",color:"#fff",height:10})})})]}),(0,P.jsx)("ul",{className:o().dynamic([["537451976",[D.tq?"120px":"250px"]]])+" crop-shape-list custom-scrollbar",children:a.map(function(e){return(0,P.jsx)("li",{onClick:function(){return n(e.fileKey)},style:{backgroundImage:"url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(e.fileKey,")")},className:o().dynamic([["537451976",[D.tq?"120px":"250px"]]])+" "+"crop-shape-item ".concat(t===e.fileKey?"active":"")},e.id)})}),(0,P.jsx)(o(),{id:"537451976",dynamic:[D.tq?"120px":"250px"],children:[".control-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:15px;}",".control-title.__jsx-style-dynamic-selector{font-size:15px;margin:0;color:#666;}",".crop-shape-list.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:0;margin:0;list-style:none;font-size:0;height:".concat(D.tq?"120px":"250px",";overflow-y:auto;padding-right:5px;}"),".crop-shape-item.__jsx-style-dynamic-selector{aspect-ratio:1;background-size:contain;background-position:center;background-repeat:no-repeat;cursor:pointer;-webkit-transition:all 0.2s;transition:all 0.2s;}",".crop-shape-item.__jsx-style-dynamic-selector:hover{border-color:#1677ff;}",".crop-shape-item.active.__jsx-style-dynamic-selector{border:2px solid #1677ff;box-shadow:0 0 0 2px rgba(22,119,255,0.2);}",".skeleton.__jsx-style-dynamic-selector{background:linear-gradient( 90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75% );background-size:200% 100%;-webkit-animation:loading-__jsx-style-dynamic-selector 1.5s infinite;animation:loading-__jsx-style-dynamic-selector 1.5s infinite;}","@-webkit-keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}100%{background-position:-200% 0;}}","@keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}100%{background-position:-200% 0;}}","@media (max-width:768px){.crop-shape-list.__jsx-style-dynamic-selector{grid-template-columns:repeat(6,1fr);}}"]})]})},I=function(e){var t,n=e.visible,r=e.onClose,a=e.onComplete,s=e.imageUrl,c=e.maskShapeImg,l=(0,i.useRef)(null),d=(0,i.useState)(void 0),u=d[0],x=d[1],p=(0,i.useState)(!1),f=p[0],m=p[1],b=(0,i.useState)(c),j=b[0],y=b[1],w=(0,i.useState)(!1),k=w[0],N=w[1],C=function(e){try{var t=new URL(e),n=t.searchParams.get("crop"),r="".concat(t.origin).concat(t.pathname),a=null;if(n){var o=n.split(",").map(Number),i=(0,O.Z)(o,4),s=i[0],c=i[1],l=i[2],d=i[3];a={x:s,y:c,width:l,height:d}}return{originalUrl:r,cropData:a}}catch(t){return console.error("Invalid URL:",t),{originalUrl:e,cropData:null}}};(0,i.useEffect)(function(){var e;if(n&&k&&null!==(e=l.current)&&void 0!==e&&e.cropper){var t=C(s).cropData;t&&l.current.cropper.setData(t)}},[n,s,k]);var Z=function(e){var t;x(e),null!==(t=l.current)&&void 0!==t&&t.cropper&&l.current.cropper.setAspectRatio(e||NaN)},I=(t=(0,h.Z)(g().mark(function e(){var t,n,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=l.current)&&void 0!==t&&t.cropper){e.next=3;break}return v.ZP.error("Vui l\xf2ng chọn v\xf9ng cắt cảnh"),e.abrupt("return");case 3:return m(!0),e.prev=4,n=l.current.cropper.getData(!0),r="crop=".concat(n.x,",").concat(n.y,",").concat(n.width,",").concat(n.height),"".concat(r,"&quality=").concat(90),e.next=11,a(r,j);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Error processing image:",e.t0),v.ZP.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh");case 17:return e.prev=17,m(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[4,13,17,20]])})),function(){return t.apply(this,arguments)}),A=C(s).originalUrl;return(0,P.jsxs)(S.Z,{title:"Cắt ảnh",centered:!0,open:n,closable:!1,styles:{body:{display:"flex",flexDirection:D.tq?"column":"row",gap:"20px",alignItems:"flex-start",maxHeight:"600px",position:"relative"}},onCancel:r,cancelText:"Hủy",okText:"X\xe1c nhận",onOk:I,width:800,okButtonProps:{loading:f,disabled:f},cancelButtonProps:{disabled:f},children:[(0,P.jsx)("div",{className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" crop-container",children:(0,P.jsx)("div",{className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" crop-wrapper",children:(0,P.jsx)(T.f,{ref:l,src:A,style:{width:"100%",height:D.tq?"30vh":"60vh",maxHeight:D.tq?"300px":"600px"},aspectRatio:u,responsive:!0,guides:!0,preview:".img-preview",viewMode:1,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCropArea:.8,ready:function(){N(!0)},rotatable:!1,scalable:!1,zoomable:!1,zoomOnTouch:!1,zoomOnWheel:!1})})}),(0,P.jsxs)("div",{className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" controls-container",children:[(0,P.jsx)(R,{selectedShape:j,onShapeSelect:function(e){y(e)}}),(0,P.jsxs)("div",{className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" control-group",children:[(0,P.jsx)("h4",{className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" control-title",children:"Tỷ lệ khung h\xecnh"}),(0,P.jsxs)("div",{className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" aspect-ratio-group",children:[(0,P.jsx)("button",{onClick:function(){return Z(void 0)},className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(void 0===u?"active":""),children:"Tự do"}),(0,P.jsx)("button",{onClick:function(){return Z(1)},className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(1===u?"active":""),children:"1:1"}),(0,P.jsx)("button",{onClick:function(){return Z(1.5)},className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(1.5===u?"active":""),children:"3:2"}),(0,P.jsx)("button",{onClick:function(){return Z(2/3)},className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(u===2/3?"active":""),children:"2:3"}),(0,P.jsx)("button",{onClick:function(){return Z(4/3)},className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(u===4/3?"active":""),children:"4:3"}),(0,P.jsx)("button",{onClick:function(){return Z(16/9)},className:o().dynamic([["2969881256",[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""]],["3429721221",[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"]]])+" "+"aspect-ratio-btn ".concat(u===16/9?"active":""),children:"16:9"})]})]})]}),(0,P.jsx)(o(),{id:"2969881256",dynamic:[j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):""],children:[".cropper-view-box{".concat(j?"-webkit-mask-box-image: url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(j,");"):"",";}"),".cropper-modal{opacity:0.6;}",".cropper-bg{background:none;}"]}),(0,P.jsx)(o(),{id:"3429721221",dynamic:[D.tq?"100%":"180px",D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)"],children:[".crop-container.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".controls-container.__jsx-style-dynamic-selector{width:".concat(D.tq?"100%":"180px",";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:24px;}"),".control-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:15px;}",".control-title.__jsx-style-dynamic-selector{font-size:15px;margin:0;color:#666;}",".aspect-ratio-group.__jsx-style-dynamic-selector{display:grid;grid-template-columns:".concat(D.tq?"repeat(3, 1fr)":"repeat(2, 1fr)",";gap:8px;}"),".aspect-ratio-btn.__jsx-style-dynamic-selector{padding:6px 12px;border:1px solid #d9d9d9;background:white;border-radius:6px;cursor:pointer;font-size:14px;-webkit-transition:all 0.2s;transition:all 0.2s;width:100%;text-align:center;}",".aspect-ratio-btn.__jsx-style-dynamic-selector:hover{border-color:#1677ff;color:#1677ff;}",".aspect-ratio-btn.active.__jsx-style-dynamic-selector{background:#1677ff;border-color:#1677ff;color:white;}"]})]})},A=n(4730),z=n(29104),B=["src","alt","width","height","style","className","errorMessage","subMessage"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=function(e){var t=e.src,n=e.alt,r=e.width,a=e.height,o=e.style,s=void 0===o?{}:o,c=e.className,l=e.errorMessage,d=e.subMessage,u=void 0===d?"Vui l\xf2ng cập nhật lại":d,x=(0,A.Z)(e,B),p=(0,i.useState)(!1),f=p[0],h=p[1];if(f)return(0,P.jsxs)("div",{className:c,style:F({width:r,height:a,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",border:"1px dashed #ff4d4f",borderRadius:"6px",color:"#8c8c8c",fontSize:"12px",textAlign:"center",padding:"8px"},s),children:[(0,P.jsx)(C.JO,{icon:"mdi:image-broken-variant",style:{fontSize:r&&r<50?"16px":"24px",marginBottom:"4px",color:"#ff4d4f"}}),(0,P.jsx)("div",{style:{fontWeight:500,fontSize:r&&r<50?"10px":"12px"},children:void 0===l?"Ảnh lỗi hoặc đ\xe3 bị x\xf3a":l}),u&&(0,P.jsx)("div",{style:{fontSize:r&&r<50?"8px":"10px",marginTop:"2px",opacity:.8},children:u})]});var m="".concat(E.Z.CDN_URL,"/").concat((0,N.jN)(t));return(0,P.jsx)(z.Z,F({src:t,alt:n,width:r,height:a,className:c,style:s,preview:!f&&{src:m},onError:function(){h(!0)}},x))},H=n(41371),L=n(53298),U=n(80122),X=function(e){var t=e.isOpen,n=e.onClose;return(0,P.jsx)(L.u,{appear:!0,show:t,as:i.Fragment,children:(0,P.jsxs)(U.Vq,{as:"div",className:"relative z-[9999]",onClose:n,children:[(0,P.jsx)(L.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,P.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,P.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,P.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,P.jsx)(L.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,P.jsx)(U.Vq.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:(0,P.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,P.jsxs)("div",{className:"flex-1 flex flex-col justify-between p-4 sm:p-6 lg:p-8",children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex items-center gap-2 text-purple-600 text-sm mb-4",children:[(0,P.jsx)(C.JO,{icon:"solar:crown-bold",className:"w-5 h-5 text-purple-600"}),(0,P.jsx)("span",{children:"H\xe3y n\xe2ng cấp để sử dụng t\xednh năng n\xe0y"})]}),(0,P.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4",children:"X\xf3a nền ảnh tự động"}),(0,P.jsx)("p",{className:"text-gray-700 text-sm sm:text-base mb-6 sm:mb-8",children:"C\xf4ng cụ AI x\xf3a nền ảnh nhanh ch\xf3ng v\xe0 ch\xednh x\xe1c, gi\xfap bạn tạo ra những thiệp cưới đẹp mắt."}),(0,P.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,P.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Tận hưởng c\xe1c t\xednh năng sau với Premium:"}),(0,P.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,P.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,P.jsx)(C.JO,{icon:"solar:eraser-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"X\xf3a nền ảnh AI chuy\xean nghiệp"}),(0,P.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"C\xf4ng cụ AI mạnh mẽ x\xf3a nền ảnh tự động, tạo ra những bức ảnh đẹp mắt cho thiệp online"})]})]}),(0,P.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,P.jsx)(C.JO,{icon:"solar:gallery-wide-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Kh\xf4ng gian lưu trữ ảnh nhiều hơn"}),(0,P.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Tải l\xean v\xe0 lưu trữ h\xe0ng trăm ảnh cho thiệp online của bạn"})]})]}),(0,P.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,P.jsx)(C.JO,{icon:"solar:calendar-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Lưu trữ thiệp online l\xe2u d\xe0i"}),(0,P.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Thiệp online của bạn được lưu trữ 5 năm, xem lại bất cứ l\xfac n\xe0o"})]})]}),(0,P.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,P.jsx)(C.JO,{icon:"solar:star-bold",className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600 mt-1 flex-shrink-0"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"T\xednh năng cao cấp kh\xe1c"}),(0,P.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Th\xeam nhiều t\xednh năng n\xe2ng cao kh\xe1c như t\xean kh\xe1ch mời tự động, hộp mừng QR, tải nhạc c\xe1 nh\xe2n, mẫu cao cấp, ..."})]})]})]})]})]}),(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)("button",{onClick:function(){n()},className:"w-full bg-white hover:bg-gray-50 text-gray-700 font-medium py-2.5 sm:py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl border border-gray-300 transition-colors duration-200 text-sm sm:text-base",children:"D\xf9ng g\xf3i hiện tại"}),(0,P.jsx)("button",{onClick:function(){n(),window.open("/checkout/upgrade?plan=premium&upgradeSource=background-removal-upgrade-modal","_blank")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2.5 sm:py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl transition-colors duration-200 text-sm sm:text-base",children:"N\xe2ng cấp Premium"})]})]}),(0,P.jsxs)("div",{className:"flex-1 bg-gradient-to-br from-purple-500 to-purple-700 relative overflow-hidden min-h-auto",children:[(0,P.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,P.jsx)("div",{className:"absolute top-4 left-4 sm:top-10 sm:left-10 w-12 h-12 sm:w-20 sm:h-20 bg-white rounded-full"}),(0,P.jsx)("div",{className:"absolute top-16 right-8 sm:top-32 sm:right-16 w-8 h-8 sm:w-16 sm:h-16 bg-white rounded-full"}),(0,P.jsx)("div",{className:"absolute bottom-12 left-8 sm:bottom-20 sm:left-20 w-6 h-6 sm:w-12 sm:h-12 bg-white rounded-full"}),(0,P.jsx)("div",{className:"absolute bottom-20 right-4 sm:bottom-32 sm:right-10 w-4 h-4 sm:w-8 sm:h-8 bg-white rounded-full"})]}),(0,P.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center p-4 sm:p-6 lg:p-8 text-white",children:[(0,P.jsx)("div",{className:"mb-4 sm:mb-6 lg:mb-8",children:(0,P.jsx)("div",{className:"w-36 h-36 lg:w-64 lg:h-64 rounded-xl sm:rounded-2xl overflow-hidden shadow-2xl",children:(0,P.jsx)("img",{src:"".concat(E.Z.CDN_URL,"/assets/remove-bg.webp"),alt:"X\xf3a nền ảnh tự động",className:"w-full h-full object-cover"})})}),(0,P.jsx)("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-white text-center mb-2 sm:mb-4",children:"Tạo thiệp online ho\xe0n hảo"}),(0,P.jsx)("div",{className:"hidden sm:block absolute top-4 right-4 lg:top-8 lg:right-8",children:(0,P.jsx)("div",{className:"w-3 h-3 lg:w-4 lg:h-4 bg-yellow-400 rounded-full"})}),(0,P.jsx)("div",{className:"hidden sm:block absolute top-8 right-8 lg:top-16 lg:right-16",children:(0,P.jsx)("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-yellow-300 rounded-full"})}),(0,P.jsx)("div",{className:"hidden sm:block absolute bottom-8 right-6 lg:bottom-16 lg:right-12",children:(0,P.jsx)("div",{className:"w-1 h-1 lg:w-2 lg:h-2 bg-yellow-400 rounded-full"})}),(0,P.jsx)("div",{className:"hidden sm:block absolute bottom-4 right-10 lg:bottom-8 lg:right-20",children:(0,P.jsx)("div",{className:"w-2 h-2 lg:w-3 lg:h-3 bg-yellow-300 rounded-full"})})]})]})]})})})})})]})})},K=n(83622),q=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,a=e.creditsInfo,o=e.isLoading,s=void 0!==o&&o,c=a&&a.remainingCredits>0;return(0,P.jsx)(L.u,{appear:!0,show:t,as:i.Fragment,children:(0,P.jsxs)(U.Vq,{as:"div",className:"relative z-[9999]",onClose:s?function(){}:n,children:[(0,P.jsx)(L.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,P.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,P.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,P.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,P.jsx)(L.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,P.jsx)(U.Vq.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:s||!a?(0,P.jsxs)("div",{className:"p-8 text-center",children:[(0,P.jsxs)("div",{className:"mb-6",children:[(0,P.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-4 bg-gradient-to-r from-purple-100 to-pink-100",children:(0,P.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-200 border-t-purple-600"})}),(0,P.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s?"Đang xử l\xfd...":"Đang tải th\xf4ng tin..."}),(0,P.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:s?"AI đang x\xf3a nền ảnh của bạn, vui l\xf2ng chờ trong gi\xe2y l\xe1t":"Đang kiểm tra credit v\xe0 th\xf4ng tin t\xe0i khoản của bạn"})]}),(0,P.jsx)("div",{className:"space-y-3 mb-6",children:s?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,P.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:(0,P.jsx)(C.JO,{icon:"solar:check-bold",className:"w-4 h-4 text-white"})}),(0,P.jsx)("span",{className:"text-gray-700",children:"Đ\xe3 nhận ảnh"})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,P.jsx)("div",{className:"w-6 h-6 rounded-full bg-purple-500 flex items-center justify-center",children:(0,P.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}),(0,P.jsx)("span",{className:"text-gray-700",children:"AI đang xử l\xfd x\xf3a nền"})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,P.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center",children:(0,P.jsx)(C.JO,{icon:"solar:download-bold",className:"w-4 h-4 text-gray-500"})}),(0,P.jsx)("span",{className:"text-gray-500",children:"Đang tải kết quả"})]})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,P.jsx)("div",{className:"w-6 h-6 rounded-full bg-purple-500 flex items-center justify-center",children:(0,P.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"})}),(0,P.jsx)("span",{className:"text-gray-700",children:"Đang kiểm tra t\xe0i khoản"})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,P.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center",children:(0,P.jsx)(C.JO,{icon:"solar:star-bold",className:"w-4 h-4 text-gray-500"})}),(0,P.jsx)("span",{className:"text-gray-500",children:"Đang tải th\xf4ng tin credit"})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,P.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-300 flex items-center justify-center",children:(0,P.jsx)(C.JO,{icon:"solar:shield-check-bold",className:"w-4 h-4 text-gray-500"})}),(0,P.jsx)("span",{className:"text-gray-500",children:"Đang chuẩn bị giao diện"})]})]})}),(0,P.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,P.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce"}),(0,P.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,P.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}):(0,P.jsxs)("div",{className:"p-6",children:[(0,P.jsxs)("div",{className:"text-center mb-6",children:[(0,P.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 bg-gradient-to-r from-purple-100 to-pink-100",children:(0,P.jsx)(C.JO,{icon:"solar:eraser-bold",className:"text-3xl text-purple-600"})}),(0,P.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"X\xf3a nền ảnh tự động"}),(0,P.jsx)("p",{className:"text-gray-600 text-sm",children:"C\xf4ng cụ AI sẽ x\xf3a nền ảnh một c\xe1ch tự động v\xe0 ch\xednh x\xe1c"})]}),a&&(0,P.jsxs)("div",{className:"rounded-lg p-4 mb-6 ".concat(c?"bg-gray-50":"bg-red-50 border border-red-200"),children:[(0,P.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)(C.JO,{icon:"solar:star-bold",className:"w-5 h-5 ".concat(c?"text-purple-600":"text-red-500")}),(0,P.jsx)("span",{className:"font-medium text-gray-900",children:"Credit c\xf2n lại"})]}),(0,P.jsx)("span",{className:"text-lg font-bold ".concat(c?"text-purple-600":"text-red-500"),children:a.remainingCredits})]}),(0,P.jsx)("div",{className:"text-xs ".concat(c?"text-gray-600":"text-red-600"),children:c?"Sử dụng 1 credit để x\xf3a nền ảnh n\xe0y":"Bạn đ\xe3 d\xf9ng hết credit cho t\xednh năng x\xf3a nền ảnh bằng AI. H\xe3y mua th\xeam credit để tiếp tục."})]}),(0,P.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,P.jsxs)("div",{className:"flex items-center gap-3",children:[(0,P.jsx)(C.JO,{icon:"solar:magic-stick-bold",className:"w-5 h-5 text-purple-600"}),(0,P.jsx)("span",{className:"text-sm text-gray-700",children:"X\xf3a nền tự động bằng AI"})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3",children:[(0,P.jsx)(C.JO,{icon:"solar:time-bold",className:"w-5 h-5 text-purple-600"}),(0,P.jsx)("span",{className:"text-sm text-gray-700",children:"Xử l\xfd nhanh ch\xf3ng trong v\xe0i gi\xe2y"})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3",children:[(0,P.jsx)(C.JO,{icon:"solar:image-bold",className:"w-5 h-5 text-purple-600"}),(0,P.jsx)("span",{className:"text-sm text-gray-700",children:"Kết quả chất lượng cao"})]})]}),a&&(0,P.jsxs)("div",{className:"flex gap-3",children:[(0,P.jsx)(K.ZP,{onClick:n,className:"flex-1",disabled:s,children:"Hủy"}),c?(0,P.jsx)(K.ZP,{type:"primary",onClick:r,loading:s,className:"flex-1 bg-purple-600 hover:bg-purple-700 border-purple-600",children:"X\xe1c nhận x\xf3a nền"}):(0,P.jsx)(K.ZP,{type:"primary",onClick:function(){window.open("/dashboard/addons?category=AI_FEATURES","_blank"),n()},className:"flex-1 bg-red-500 hover:bg-red-600 border-red-500",children:"Mua th\xeam credit"})]})]})})})})})]})})},W=n(33299);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V=function(){var e,t,n,r,a,c=(0,s.Zo)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,maskShapeImg:e.data.props.maskShapeImg}}),l=c.id,d=c.imgKey,u=c.maskShapeImg,x=c.actions.setProp,p=(0,W.useSession)().data,f=(null==p?void 0:null===(a=p.user)||void 0===a?void 0:a.plan)||"free",m=(0,j.Dk)(),O=m.setActiveKey;m.activeKey;var S=(0,j.Hj)(),T=S.setReplacing,Z=S.setReplaceType,E=S.setSelectedNodeId,D=S.isReplacing,R=S.multipleReplace,A=S.resetReplaceItem,z=(0,P.jsx)(M,{src:(0,N.VM)(d,200),alt:"User Photo Upload",width:120,height:120,style:{height:"100%",objectFit:"contain",objectPosition:"center"},errorMessage:"Ảnh lỗi hoặc đ\xe3 bị x\xf3a",subMessage:"Vui l\xf2ng cập nhật ảnh kh\xe1c"}),B=(0,i.useState)(!1),_=B[0],F=B[1],L=(0,i.useState)(!1),U=L[0],K=L[1],Y=(0,i.useState)(null),V=Y[0],Q=Y[1],J=(0,i.useState)(!1),$=J[0],ee=J[1],et=(0,i.useState)(!1),en=et[0],er=et[1],ea=(0,k.$)(function(e){return e.triggerRefresh}),eo=(e=(0,h.Z)(g().mark(function e(t,n){var r,a,o,i,s,c,l,u,p;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{a="".concat((0,N.jN)(d),"?").concat(t),o=new URLSearchParams(t),s=(i=(null===(r=o.get("crop"))||void 0===r?void 0:r.split(",").map(Number))||[])[2],c=i[3],u=(l=(0,y.M)(b.qp,s,c)).scaleWidth,p=l.scaleHeight,F(!1),x(function(e){e.imgKey=a,e.width=u,e.height=p,e.maskShapeImg=n||null},1e3),v.ZP.success("Cập nhật ảnh th\xe0nh c\xf4ng"),ea()}catch(e){v.ZP.error("C\xf3 lỗi xảy ra khi cập nhật ảnh, vui l\xf2ng thử lại sau"),console.error("Error updating cropped image:",e)}case 1:case"end":return e.stop()}},e)})),function(t,n){return e.apply(this,arguments)}),ei=(t=(0,h.Z)(g().mark(function e(){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.R.getCredits();case 3:Q(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading credits info:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),es=(n=(0,h.Z)(g().mark(function e(){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}return v.ZP.warning("Vui l\xf2ng chọn ảnh trước khi x\xf3a nền"),e.abrupt("return");case 3:if(!("premium"!==f)){e.next=6;break}return ee(!0),e.abrupt("return");case 6:return er(!0),e.next=9,ei();case 9:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),ec=(r=(0,h.Z)(g().mark(function e(){var t,n,r,a,o,i;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=3;break}return v.ZP.warning("Kh\xf4ng thể lấy th\xf4ng tin credit"),e.abrupt("return");case 3:if(!(!V.hasCredits||V.remainingCredits<=0)){e.next=7;break}return v.ZP.warning(V.message),er(!1),e.abrupt("return");case 7:return K(!0),e.prev=8,e.next=11,H.R.removeBackground(d);case 11:(t=e.sent).success&&t.data?(x(function(e){e.imgKey=t.data.fileKey},1e3),er(!1),v.ZP.success(t.message||"X\xf3a nền ảnh th\xe0nh c\xf4ng"),void 0!==t.data.remainingCredits&&Q(function(e){return e?G(G({},e),{},{remainingCredits:t.data.remainingCredits,usedCredits:e.totalCredits-t.data.remainingCredits}):null}),ea()):void 0!==t.currentImageCount&&void 0!==t.maxImages?v.ZP.error("Bạn đ\xe3 đạt giới hạn ".concat(t.maxImages," ảnh. Vui l\xf2ng x\xf3a bớt ảnh để sử dụng t\xednh năng x\xf3a nền.")):v.ZP.error(t.error||"C\xf3 lỗi xảy ra khi x\xf3a nền ảnh"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Error removing background:",e.t0),null!==(n=e.t0.message)&&void 0!==n&&n.includes("504")||null!==(r=e.t0.message)&&void 0!==r&&r.includes("timeout")||null!==(a=e.t0.message)&&void 0!==a&&a.includes("Lambda timeout")?v.ZP.error("Qu\xe1 tr\xecnh x\xf3a nền đang mất nhiều thời gian. Vui l\xf2ng thử lại sau hoặc li\xean hệ hỗ trợ nếu vấn đề tiếp tục xảy ra."):null!==(o=e.t0.message)&&void 0!==o&&o.includes("Network Error")||null!==(i=e.t0.message)&&void 0!==i&&i.includes("fetch")?v.ZP.error("Lỗi kết nối mạng. Vui l\xf2ng kiểm tra kết nối internet v\xe0 thử lại."):v.ZP.error("C\xf3 lỗi xảy ra khi x\xf3a nền ảnh, vui l\xf2ng thử lại sau");case 19:return e.prev=19,K(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[8,15,19,22]])})),function(){return r.apply(this,arguments)});return(0,i.useEffect)(function(){return function(){D&&!R&&(A(),O(null))}},[D,R]),(0,P.jsxs)("div",{className:"jsx-1302557010 mb-4 flex flex-col gap-4 items-center",children:[(0,P.jsx)("div",{className:"jsx-1302557010 flex justify-center items-center overflow-hidden",children:(0,P.jsx)(w.Z,{variant:"outlined",style:{width:140,height:140,padding:10},cover:z})}),(0,P.jsxs)("div",{className:"jsx-1302557010 button-container mt-2",children:[(0,P.jsxs)("button",{onClick:function(){return F(!0)},className:"jsx-1302557010 px-4 py-2 rounded-lg font-medium text-sm transition-colors duration-200 ease-in-out bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-2",children:[(0,P.jsx)(C.JO,{icon:"solar:crop-minimalistic-broken",className:"w-4 h-4"}),"Cắt ảnh"]}),(0,P.jsxs)("button",{onClick:function(){T(!0),Z("photo"),O(b.Ey.PHOTO),E(l)},className:"jsx-1302557010 px-4 py-2 rounded-lg font-medium text-sm transition-colors duration-200 ease-in-out bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-2",children:[(0,P.jsx)(C.JO,{icon:"solar:gallery-wide-bold",className:"w-4 h-4"}),"Đổi ảnh"]})]}),(0,P.jsx)("div",{className:"jsx-1302557010 mb-2",children:(0,P.jsxs)("button",{onClick:es,disabled:!d||U,className:"jsx-1302557010 "+"\n            relative overflow-hidden px-6 py-2 rounded-xl font-semibold text-sm\n            transition-all duration-300 ease-in-out transform\n            ".concat(!d||U?"opacity-50 cursor-not-allowed":"hover:scale-105 active:scale-95 cursor-pointer","\n            bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700\n            hover:from-purple-500 hover:via-pink-500 hover:to-purple-600\n            shadow-lg hover:shadow-xl hover:shadow-purple-500/25\n            border border-purple-400/30\n            text-white\n            flex items-center gap-2\n            ").concat(U?"animate-pulse":"","\n          "),children:[(0,P.jsx)("div",{className:"jsx-1302557010 absolute inset-0 bg-gradient-to-r from-purple-400/20 via-pink-400/20 to-purple-400/20 opacity-0 hover:opacity-100 transition-opacity duration-300"}),(0,P.jsx)("div",{className:"jsx-1302557010 absolute inset-0 rounded-xl bg-gradient-to-r from-purple-500/10 via-pink-500/10 to-purple-500/10 blur-sm opacity-0 hover:opacity-100 transition-opacity duration-300"}),(0,P.jsx)("div",{className:"jsx-1302557010 relative z-10 flex items-center gap-2",children:U?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:"jsx-1302557010 w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,P.jsx)("span",{className:"jsx-1302557010",children:"Đang xử l\xfd..."})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"jsx-1302557010 relative",children:[(0,P.jsx)(C.JO,{icon:"solar:eraser-bold",className:"w-4 h-4"}),(0,P.jsx)("div",{className:"jsx-1302557010 absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full animate-ping"}),(0,P.jsx)("div",{className:"jsx-1302557010 absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full"})]}),(0,P.jsx)("span",{className:"jsx-1302557010 bg-gradient-to-r from-white to-purple-100 bg-clip-text text-transparent",children:"X\xf3a nền (AI)"})]})}),(0,P.jsx)("div",{className:"jsx-1302557010 absolute inset-0 -skew-x-12 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 hover:opacity-100 transition-all duration-700 transform translate-x-[-100%] hover:translate-x-[100%]"})]})}),(0,P.jsx)(I,{visible:_,onClose:function(){return F(!1)},onComplete:eo,imageUrl:(0,N.eQ)(d),maskShapeImg:u}),(0,P.jsx)(X,{isOpen:$,onClose:function(){return ee(!1)}}),(0,P.jsx)(q,{isOpen:en,onClose:function(){return er(!1)},onConfirm:ec,creditsInfo:V,isLoading:U}),(0,P.jsx)(o(),{id:"1302557010",children:[".shape-component.jsx-1302557010{opacity:1;z-index:151;border-radius:0px;background-color:rgb(204,204,204);border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}",".button-container.jsx-1302557010{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}"]})]})},Q=n(72269),J=n(11163),$=function(){var e=(0,J.useRouter)(),t=(0,i.useState)(!1),n=t[0],r=t[1],a=(0,s.Zo)(function(e){return{isReplaceable:e.data.props.isReplaceable||!1}}),o=a.actions.setProp,c=a.isReplaceable;return((0,i.useEffect)(function(){r(e.pathname.includes("admin/templates/edit/")||e.asPath.includes("admin/templates/edit/"))},[e.pathname,e.asPath]),n)?(0,P.jsxs)("div",{className:"flex items-center mb-4",children:[(0,P.jsx)("label",{className:"text-sm font-medium mr-2",children:"Cho ph\xe9p thay thế ảnh:"}),(0,P.jsx)(Q.Z,{checked:c,onChange:function(e){o(function(t){t.isReplaceable=e})}})]}):null},ee=n(42179),et=n(99101),en=n(57581),er=n(17018),ea=n(35282),eo=n(29786),ei=n(11936),es={IMAGE:"T\xf9y chỉnh",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ed={top:10,left:10,width:100,height:100,backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},maskShapeImg:null,zIndex:0,locked:!1,transition:ee.b},eu=function(e){var t=e=el(el({},ed),e),n=t.top,r=t.left,a=t.height,c=t.width,l=t.opacity,d=t.backgroundColor,u=t.shadow,x=t.padding,p=t.borderRadius,f=t.rotation,h=t.flipX,m=t.flipY,g=t.borderPosition,b=t.borderSize,j=t.borderStyle,y=t.borderColor,v=t.hasShadow,w=t.boxShadow,k=t.imgKey,C=t.maskShapeImg,O=t.zIndex,S=t.locked,T=t.transition||ee.b,Z=(0,i.useRef)(null),D=(0,i.useState)([]),R=D[0],I=D[1],A=(0,i.useState)(!1),z=A[0],B=A[1],_=(0,s.Zo)(function(e){return{active:e.events.selected,id:e.id}}),F=_.connectors.connect,M=_.actions.setProp,H=_.active,L=_.id,U=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled;(0,i.useEffect)(function(){if(H&&U){var e=document.querySelector("#root-page-container");e&&I(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==L}))}},[H,U,L]);var X=(0,i.useState)({width:0,height:0,left:0,top:0}),K=X[0],q=X[1],W=(0,i.useState)(null),Y=W[0],G=W[1];(0,i.useEffect)(function(){if(H&&U){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();q({width:t.width,height:t.height,left:t.left,top:t.top}),G(e)}}},[H,U]);var V=function(){switch(g){case"all":return{border:"".concat(b,"px ").concat(j," ").concat(y)};case"top":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y)};case"bottom":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(y)};case"right":return{borderRight:"".concat(b,"px ").concat(j," ").concat(y)};case"left":return{borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"top-bottom":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y),borderBottom:"".concat(b,"px ").concat(j," ").concat(y)};case"right-left":return{borderRight:"".concat(b,"px ").concat(j," ").concat(y),borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"upper-left":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y),borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"upper-right":return{borderTop:"".concat(b,"px ").concat(j," ").concat(y),borderRight:"".concat(b,"px ").concat(j," ").concat(y)};case"lower-left":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(y),borderLeft:"".concat(b,"px ").concat(j," ").concat(y)};case"lower-right":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(y),borderRight:"".concat(b,"px ").concat(j," ").concat(y)};default:return{}}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{"data-node-id":L,ref:function(e){e&&(F(e),Z.current=e)},style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),width:"".concat(c,"px"),height:"".concat(a,"px"),zIndex:O,cursor:U?"move":"default",transform:"rotate(".concat(f,"deg) scale(").concat(h?-1:1,", ").concat(m?-1:1,")")},className:"jsx-1944329802",children:(0,P.jsx)(en.Z,{transition:T,targetRef:Z,enabled:U,nodeId:L,onTransitionStart:function(){B(!0)},onTransitionEnd:function(){B(!1)},children:(0,P.jsx)("div",{style:el(el({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},V),{},{padding:"".concat(x[0],"px ").concat(x[1],"px ").concat(x[2],"px ").concat(x[3],"px"),backgroundColor:d,textShadow:"0px 0px 2px rgba(0,0,0,".concat((u||0)/100,")"),opacity:l,boxShadow:v?"".concat(w.offsetX,"px ").concat(w.offsetY,"px ").concat(w.blur,"px ").concat(w.spread,"px ").concat(w.color):"none",borderRadius:"".concat(p[0],"px \n              ").concat(p[1],"px \n              ").concat(p[2],"px \n              ").concat(p[3],"px")}),className:"jsx-1944329802",children:(0,P.jsx)("div",{style:{WebkitMaskBoxImageSource:C?"url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(C,")"):"none",WebkitMaskBoxImageSlice:"0 fill",maskImage:C?"url(".concat(E.Z.CDN_RESOURCE_URL,"/").concat(C,")"):"none",maskSize:"100% 100%",maskRepeat:"no-repeat"},className:"jsx-1944329802 photo-component",children:(0,P.jsx)("div",{style:{backgroundImage:"url(".concat((0,N.eQ)(k),")"),borderRadius:"".concat(p[0],"px \n                  ").concat(p[1],"px \n                  ").concat(p[2],"px \n                  ").concat(p[3],"px")},className:"jsx-1944329802 photo-bg-wrap"})})})})}),H&&U&&Z.current&&!z&&(0,P.jsx)(et.Z,{target:Z.current,container:Y,otherElements:R,containerBounds:K,currentProps:{top:n,left:r,width:c,height:a,rotation:f,flipX:h,flipY:m,locked:S},onUpdateProps:function(e){M(function(t){Object.assign(t,e)})}}),(0,P.jsx)(o(),{id:"1944329802",children:[".photo-component.jsx-1944329802{width:100%;height:100%;}",".photo-component.jsx-1944329802 img.jsx-1944329802{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".photo-component.jsx-1944329802 .photo-bg-wrap.jsx-1944329802{width:100%;height:100%;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]})]})};eu.craft={displayName:"Photo Item",props:ed,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(V,{}),(0,P.jsx)($,{}),(0,P.jsxs)(c.Z2,{title:"M\xe0u sắc",children:[(0,P.jsx)(l.R,{isColor:!1,isBackground:!0}),(0,P.jsx)(f.n,{})]}),(0,P.jsxs)(c.Z2,{title:"Khoảng đệm",children:[(0,P.jsx)(d.I,{}),(0,P.jsx)(u.J,{flipable:!0})]}),(0,P.jsx)(c.Z2,{title:"Đường viền",children:(0,P.jsx)(x.j,{})}),(0,P.jsx)(c.Z2,{title:"Đổ b\xf3ng",children:(0,P.jsx)(p.O,{})}),(0,P.jsx)(c.Z2,{title:"Hiệu ứng chuyển động",children:(0,P.jsx)(ee.C,{})})]})},mobileToolbar:function(){var e=(0,i.useState)(null),t=e[0],n=e[1],r=function(e){n(e)},a=(0,j.Hj)(),o=a.isReplacing,s=a.replaceType,c=a.setReplacing,h=a.setReplaceType,m=a.setSelectedNodeId,g=(0,i.useState)(!1),b=g[0],y=g[1];(0,i.useEffect)(function(){o&&"photo"===s&&y(!0)},[o,s]);var v=function(){y(!1),c(!1),h(null),m(null),n(null)};return(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(er.Z,{icon:(0,P.jsx)(ea.iUv,{size:20}),label:es.IMAGE,onClick:function(){return r(es.IMAGE)}}),(0,P.jsx)(er.Z,{icon:(0,P.jsx)(ea.l9F,{size:20}),label:es.COLOR,onClick:function(){return r(es.COLOR)}}),(0,P.jsx)(er.Z,{icon:(0,P.jsx)(ea.cWl,{size:20}),label:es.PADDING,onClick:function(){return r(es.PADDING)}}),(0,P.jsx)(er.Z,{icon:(0,P.jsx)(ea.QT8,{size:20}),label:es.BORDER,onClick:function(){return r(es.BORDER)}}),(0,P.jsx)(er.Z,{icon:(0,P.jsx)(ea.HkK,{size:20}),label:es.BOX_SHADOW,onClick:function(){return r(es.BOX_SHADOW)}}),(0,P.jsx)(er.Z,{icon:(0,P.jsx)(ea.AO4,{size:20}),label:es.TRANSITION,onClick:function(){return r(es.TRANSITION)}}),(0,P.jsx)(eo.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,P.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,P.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,P.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,P.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,P.jsx)("div",{className:"setting-content",children:function(){switch(t){case es.IMAGE:return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(V,{}),(0,P.jsx)($,{})]});case es.COLOR:return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.R,{isColor:!1,isBackground:!0}),(0,P.jsx)(f.n,{})]});case es.PADDING:return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.I,{}),(0,P.jsx)(u.J,{flipable:!0})]});case es.BORDER:return(0,P.jsx)(x.j,{});case es.BOX_SHADOW:return(0,P.jsx)(p.O,{});case es.TRANSITION:return(0,P.jsx)(ee.C,{});default:return(0,P.jsx)(P.Fragment,{})}}()})})]})}),(0,P.jsx)(eo.GI,{visible:b,onMaskClick:v,position:"bottom",bodyStyle:{height:"60vh"},children:(0,P.jsx)(ei.Z,{isMobile:!0,onClose:v})})]})}}}},4002:function(e,t,n){"use strict";n.d(t,{q:function(){return z}});var r=n(59499),a=n(67294),o=n(67623),i=n(84413),s=n(76975),c=n(99101),l=n(7764),d=n(85893),u=function(e){var t=e.fontSize,n=e.fontFamily,r=e.calendarData,a=e.textColor,o=e.themeColor,i=e.calendarType,c=e.selectedDate,u=new Date(c),x=u.getFullYear(),p=u.getMonth()+1,f=r.map(function(e,t){return"empty"===e.type?(0,d.jsx)("div",{className:"empty",children:(0,d.jsx)("div",{})},"empty-".concat(t)):e.isSelected?(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{className:"heart-date",src:"".concat(l.Z.CDN_URL,"/assets/plugins/calen_heart_1.png"),alt:"heart"}),(0,d.jsx)("div",{className:"colorF",children:e.date})]},e.date):(0,d.jsx)("div",{children:(0,d.jsx)("div",{children:e.date})},e.date)}),h=(0,d.jsxs)("div",{className:"template-one",children:[(0,d.jsx)("div",{className:"one-back"}),(0,d.jsxs)("div",{className:"one-head",style:{backgroundColor:o},children:[p,".",x]}),(0,d.jsxs)("div",{className:"one-body",children:[(0,d.jsx)("div",{className:"body-week",children:"MON"}),(0,d.jsx)("div",{className:"body-week",children:"TUE"}),(0,d.jsx)("div",{className:"body-week",children:"WED"}),(0,d.jsx)("div",{className:"body-week",children:"THU"}),(0,d.jsx)("div",{className:"body-week",children:"FRI"}),(0,d.jsx)("div",{className:"body-week",children:"SAT"}),(0,d.jsx)("div",{className:"body-week",children:"SUN"}),f,(0,d.jsx)("div",{className:"body-year",style:{color:o},children:x})]})]}),m=(0,d.jsxs)("div",{className:"template-two",children:[(0,d.jsx)("div",{className:"two-back"}),(0,d.jsxs)("div",{className:"two-body",style:{border:"2px solid ".concat(o)},children:[(0,d.jsxs)("div",{className:"body-axis",children:[(0,d.jsx)("div",{style:{backgroundColor:o}}),(0,d.jsx)("div",{style:{backgroundColor:o}})]}),(0,d.jsxs)("div",{className:"body-box",children:[(0,d.jsxs)("div",{className:"two-head",style:{color:o},children:[(0,d.jsx)("div",{children:p}),(0,d.jsx)("div",{children:x})]}),(0,d.jsxs)("div",{className:"two-date",children:[(0,d.jsx)("div",{className:"body-week",children:"MON"}),(0,d.jsx)("div",{className:"body-week",children:"TUE"}),(0,d.jsx)("div",{className:"body-week",children:"WED"}),(0,d.jsx)("div",{className:"body-week",children:"THU"}),(0,d.jsx)("div",{className:"body-week",children:"FRI"}),(0,d.jsx)("div",{className:"body-week",children:"SAT"}),(0,d.jsx)("div",{className:"body-week",children:"SUN"}),f,(0,d.jsx)("div",{className:"shadow",style:{backgroundColor:o}})]})]})]})]}),g=(0,d.jsx)("div",{className:"template-three",children:f}),b=i===s.GI.TYPE_ONE?h:i===s.GI.TYPE_TWO?m:g;return(0,d.jsx)("div",{className:"calendar componentBOX",style:{opacity:1,zIndex:154,borderRadius:0,width:"100%",height:"100%",color:a,fontSize:t,fontFamily:n},children:b})},x=n(15720),p=n(99621),f=n(63054),h=n(56084),m=n(35959),g=n(42179),b=n(34304),j=n(81567),y=j.Z.Option,v=[{value:s.GI.NO_STYLE,display:"No Style"},{value:s.GI.TYPE_ONE,display:"Kiểu 1"},{value:s.GI.TYPE_TWO,display:"Kiểu 2"}],w=function(){var e=(0,o.Zo)(function(e){return{calendarType:e.data.props.calendarType}}),t=e.actions.setProp,n=e.calendarType;return(0,d.jsxs)("div",{className:"flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Style"}),(0,d.jsx)(j.Z,{value:n,style:{width:"75%"},onChange:function(e){t(function(t){t.calendarType=e})},placeholder:"Select a style",children:v.map(function(e){return(0,d.jsx)(y,{value:e.value,children:(0,d.jsx)("span",{children:e.display})},e.value)})})]})},k=n(85970),N=n(76071),C=n(12157),O=n(85253),S=function(){var e=(0,o.Zo)(function(e){return{propValue:{color:e.data.props.color,backgroundColor:e.data.props.backgroundColor,themeColor:e.data.props.themeColor,calendarType:e.data.props.calendarType}}}),t=e.actions.setProp,n=e.propValue,r=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,d.jsxs)("div",{className:"justify-between my-4 flex flex-col gap-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u Chữ"}),(0,d.jsx)(O.Z,{value:"transparent"!==n.color?n.color:"#000000",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.color=r(e.rgba):t.color=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,d.jsx)(O.Z,{value:"transparent"!==n.backgroundColor?n.backgroundColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=r(e.rgba):t.backgroundColor=e.hex})}})]}),n.calendarType!==s.GI.NO_STYLE&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u giao diện"}),(0,d.jsx)(O.Z,{value:"transparent"!==n.themeColor?n.themeColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.themeColor=r(e.rgba):t.themeColor=e.hex})}})]})]})},T=n(57581),Z=n(17018),E=n(35282),D=n(29786),P={CUSTOMIZE:"T\xf9y chỉnh lịch",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A={top:10,left:10,width:s.Yx.calendarWidth,height:s.Yx.calendarHeight,backgroundColor:s.QP.calendarBackground,color:s.QP.calendarText,themeColor:s.QP.calendarTheme,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},calendarType:s.GI.TYPE_ONE,fontSize:14,fontFamily:"Arial",selectedDate:new Date,zIndex:0,locked:!1,transition:g.b},z=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],s=n[1],l=e=I(I({},A),e),x=l.top,p=l.left,f=l.height,h=l.width,m=l.opacity,b=l.backgroundColor,j=l.color,y=l.themeColor,v=l.shadow,w=l.padding,k=l.borderRadius,N=l.rotation,C=l.borderPosition,O=l.borderSize,S=l.borderStyle,Z=l.borderColor,E=l.hasShadow,D=l.boxShadow,P=l.calendarType,R=l.fontSize,z=l.fontFamily,B=l.selectedDate,_=l.zIndex,F=l.locked,M=l.transition||g.b,H=(0,o.Zo)(function(e){return{active:e.events.selected,id:e.id}}),L=H.connectors.connect,U=H.actions.setProp,X=H.active,K=H.id,q=(0,o.jE)(function(e){return{enabled:e.options.enabled}}).enabled,W=(0,a.useState)(!1),Y=W[0],G=W[1];(0,a.useEffect)(function(){if(X&&q){var e=document.querySelector("#root-page-container");e&&s(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==K}))}},[X,q,K]);var V=(0,a.useState)({width:0,height:0,left:0,top:0}),Q=V[0],J=V[1],$=(0,a.useState)(null),ee=$[0],et=$[1];(0,a.useEffect)(function(){if(X&&q){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();J({width:t.width,height:t.height,left:t.left,top:t.top}),et(e)}}},[X,q]);var en=function(){switch(C){case"all":return{border:"".concat(O,"px ").concat(S," ").concat(Z)};case"top":return{borderTop:"".concat(O,"px ").concat(S," ").concat(Z)};case"bottom":return{borderBottom:"".concat(O,"px ").concat(S," ").concat(Z)};case"right":return{borderRight:"".concat(O,"px ").concat(S," ").concat(Z)};case"left":return{borderLeft:"".concat(O,"px ").concat(S," ").concat(Z)};case"top-bottom":return{borderTop:"".concat(O,"px ").concat(S," ").concat(Z),borderBottom:"".concat(O,"px ").concat(S," ").concat(Z)};case"right-left":return{borderRight:"".concat(O,"px ").concat(S," ").concat(Z),borderLeft:"".concat(O,"px ").concat(S," ").concat(Z)};case"upper-left":return{borderTop:"".concat(O,"px ").concat(S," ").concat(Z),borderLeft:"".concat(O,"px ").concat(S," ").concat(Z)};case"upper-right":return{borderTop:"".concat(O,"px ").concat(S," ").concat(Z),borderRight:"".concat(O,"px ").concat(S," ").concat(Z)};case"lower-left":return{borderBottom:"".concat(O,"px ").concat(S," ").concat(Z),borderLeft:"".concat(O,"px ").concat(S," ").concat(Z)};case"lower-right":return{borderBottom:"".concat(O,"px ").concat(S," ").concat(Z),borderRight:"".concat(O,"px ").concat(S," ").concat(Z)};default:return{}}}(),er=new Date(B),ea=(0,i.s)(er);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{"data-node-id":K,ref:function(e){e&&(L(e),t.current=e)},style:{position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(f,"px"),zIndex:_,cursor:q?"move":"default",transform:"rotate(".concat(N,"deg)")},children:(0,d.jsx)(T.Z,{transition:M,targetRef:t,enabled:q,nodeId:K,onTransitionStart:function(){G(!0)},onTransitionEnd:function(){G(!1)},children:(0,d.jsx)("div",{style:I(I({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},en),{},{padding:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px"),backgroundColor:b,textShadow:"0px 0px 2px rgba(0,0,0,".concat((v||0)/100,")"),opacity:m,borderRadius:"".concat(k[0],"px \n              ").concat(k[1],"px \n              ").concat(k[2],"px \n              ").concat(k[3],"px"),boxShadow:E?"".concat(D.offsetX,"px ").concat(D.offsetY,"px ").concat(D.blur,"px ").concat(D.spread,"px ").concat(D.color):"none"}),children:(0,d.jsx)(u,{fontSize:R,fontFamily:z,textColor:j,themeColor:y,calendarData:ea,calendarType:P,selectedDate:B})})})}),X&&q&&t.current&&!Y&&(0,d.jsx)(c.Z,{target:t.current,container:ee,otherElements:r,containerBounds:Q,currentProps:{top:x,left:p,width:h,height:f,rotation:N,flipX:!1,flipY:!1,locked:F},onUpdateProps:function(e){U(function(t){Object.assign(t,e)})}})]})};z.craft={displayName:"Calendar",props:A,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)(b.Z2,{defaultOpen:!0,title:"T\xf9y chỉnh lịch",children:[(0,d.jsx)(C.v,{}),(0,d.jsx)(w,{}),(0,d.jsx)(S,{}),(0,d.jsx)(k.B,{}),(0,d.jsx)(N.v,{}),(0,d.jsx)(m.n,{})]}),(0,d.jsxs)(b.Z2,{title:"Khoảng đệm",children:[(0,d.jsx)(x.I,{}),(0,d.jsx)(p.J,{})]}),(0,d.jsx)(b.Z2,{title:"Đường viền",children:(0,d.jsx)(f.j,{})}),(0,d.jsx)(b.Z2,{title:"Đổ b\xf3ng",children:(0,d.jsx)(h.O,{})}),(0,d.jsx)(b.Z2,{title:"Hiệu ứng chuyển động",children:(0,d.jsx)(g.C,{})})]})},mobileToolbar:function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(Z.Z,{icon:(0,d.jsx)(E.Uu2,{size:20}),label:"T\xf9y chỉnh lịch",onClick:function(){return r(P.CUSTOMIZE)}}),(0,d.jsx)(Z.Z,{icon:(0,d.jsx)(E.cWl,{size:20}),label:P.PADDING,onClick:function(){return r(P.PADDING)}}),(0,d.jsx)(Z.Z,{icon:(0,d.jsx)(E.QT8,{size:20}),label:P.BORDER,onClick:function(){return r(P.BORDER)}}),(0,d.jsx)(Z.Z,{icon:(0,d.jsx)(E.HkK,{size:20}),label:P.BOX_SHADOW,onClick:function(){return r(P.BOX_SHADOW)}}),(0,d.jsx)(Z.Z,{icon:(0,d.jsx)(E.AO4,{size:20}),label:P.TRANSITION,onClick:function(){return r(P.TRANSITION)}}),(0,d.jsx)(D.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,d.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,d.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,d.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,d.jsx)("div",{className:"setting-content",children:function(){switch(t){case P.CUSTOMIZE:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(C.v,{}),(0,d.jsx)(w,{}),(0,d.jsx)(S,{}),(0,d.jsx)(k.B,{}),(0,d.jsx)(N.v,{}),(0,d.jsx)(m.n,{})]});case P.PADDING:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.I,{}),(0,d.jsx)(p.J,{})]});case P.BORDER:return(0,d.jsx)(f.j,{});case P.BOX_SHADOW:return(0,d.jsx)(h.O,{});case P.TRANSITION:return(0,d.jsx)(g.C,{});default:return(0,d.jsx)(d.Fragment,{})}}()})})]})})]})}}}},50649:function(e,t,n){"use strict";n.d(t,{D:function(){return U}});var r=n(59499),a=n(67294),o=n(67623),i=n(76975),s=n(99101),c=n(19848),l=n.n(c),d=n(85893),u=function(e){var t=e.themeColor,n=e.color,r=e.fontSize,o=e.fontFamily,i=e.targetDate,s=e.direction,c=e.spacing,u=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0}),x=u[0],p=u[1];return(0,a.useEffect)(function(){var e=setInterval(function(){var e=new Date,t=new Date(i);if(isNaN(t.getTime())){console.error("Invalid targetDate provided: ",i),p({days:0,hours:0,minutes:0,seconds:0});return}var n=t.getTime()-e.getTime();n>0?p({days:Math.floor(n/864e5),hours:Math.floor(n/36e5%24),minutes:Math.floor(n/6e4%60),seconds:Math.floor(n/1e3%60)}):p({days:0,hours:0,minutes:0,seconds:0})},1e3);return function(){return clearInterval(e)}},[i]),(0,d.jsxs)("div",{style:{color:n,backgroundColor:t,width:"100%",height:"100%",fontSize:r,fontFamily:o,"--spacing":"".concat(void 0===c?20:c,"px")},className:"jsx-3272123691 "+"countdown componentBOX ".concat("vertical"===(void 0===s?"horizontal":s)?"vertical":""),children:[(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.days}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"ng\xe0y"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.hours}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"giờ"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.minutes}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"ph\xfat"})]}),(0,d.jsxs)("div",{style:{backgroundColor:t},className:"jsx-3272123691",children:[(0,d.jsx)("div",{className:"jsx-3272123691",children:x.seconds}),(0,d.jsx)("div",{className:"jsx-3272123691",children:"gi\xe2y"})]}),(0,d.jsx)(l(),{id:"3272123691",children:[".countdown.jsx-3272123691{width:100%;margin:0 auto;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background-color:transparent !important;gap:var(--spacing);}",".countdown.jsx-3272123691>div.jsx-3272123691,.countdown.jsx-3272123691{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".countdown.jsx-3272123691>div.jsx-3272123691{width:25%;border-radius:4px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".countdown.jsx-3272123691>div.jsx-3272123691{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".countdown.vertical.jsx-3272123691{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}",".countdown.vertical.jsx-3272123691>div.jsx-3272123691{width:100% !important;-webkit-flex-direction:row !important;-ms-flex-direction:row !important;flex-direction:row !important;gap:5px !important;}"]})]})},x=n(15720),p=n(99621),f=n(63054),h=n(56084),m=n(35959),g=n(42179),b=n(34304),j=n(85970),y=n(76071),v=n(12157),w=n(9198),k=n.n(w),N=n(57806);(0,w.registerLocale)("vi",N.vi);var C=function(){var e=(0,o.Zo)(function(e){return{selectedTime:e.data.props.selectedTime||new Date}}),t=e.actions.setProp,n=e.selectedTime,r=(0,a.useState)(new Date(n)),i=r[0],s=r[1];return(0,d.jsxs)("div",{className:"jsx-2933662760 flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"jsx-2933662760 text-sm font-medium w-24",children:"Chọn giờ"}),(0,d.jsx)(k(),{className:"custom-datepicker",selected:i,onChange:function(e){(e instanceof Date||null===e)&&(s(e),t(function(t){t.selectedTime=e}))},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,showTimeCaption:!1,dateFormat:"HH:mm",timeFormat:"HH:mm"}),(0,d.jsx)(l(),{id:"2933662760",children:[".custom-datepicker{border:1px solid #ccc;border-radius:4px;padding:4px 8px;width:100%;font-size:14px;}",".react-datepicker-popper{width:-webkit-max-content;width:-moz-max-content;width:max-content;}"]})]})},O=n(85253),S=function(){var e=(0,o.Zo)(function(e){return{propValue:{color:e.data.props.color,backgroundColor:e.data.props.backgroundColor,themeColor:e.data.props.themeColor}}}),t=e.actions.setProp,n=e.propValue,r=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,d.jsxs)("div",{className:"justify-between my-4 flex flex-col gap-1",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u chữ"}),(0,d.jsx)(O.Z,{value:n.color,onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.color=r(e.rgba):t.color=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u khung"}),(0,d.jsx)(O.Z,{value:"transparent"!==n.themeColor?n.themeColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.themeColor=r(e.rgba):t.themeColor=e.hex})}})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,d.jsx)(O.Z,{value:"transparent"!==n.backgroundColor?n.backgroundColor:"#ffffff",onChange:function(e){t(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=r(e.rgba):t.backgroundColor=e.hex})}})]})]})},T=n(24435),Z=n(86125),E=function(){var e=(0,o.Zo)(function(e){return{spacing:e.data.props.spacing||20}}),t=e.actions.setProp,n=e.spacing,r=function(e){t(function(t){t.spacing=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Khoảng c\xe1ch"}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(T.Z,{min:1,max:50,step:1,value:n,onChange:r,style:{width:"70px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(Z.Z,{min:1,max:50,step:1,value:n,onChange:r})]})},D=function(){var e=(0,o.Zo)(function(e){return{direction:e.data.props.direction}}),t=e.actions.setProp,n=e.direction,r=function(e){t(function(t){if(t.direction!==e){var n=t.width;t.width=t.height,t.height=n}t.direction=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Hướng hiển thị"}),(0,d.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("horizontal"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("horizontal")},children:"Ngang"}),(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("vertical"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("vertical")},children:"Dọc"})]})]})},P=n(84413),R=n(57581),I=n(17018),A=n(35282),z=n(29786),B=function(){var e=(0,o.Zo)(function(e){return{spacing:e.data.props.spacing||20}}),t=e.actions.setProp,n=e.spacing,r=function(e){t(function(t){t.spacing=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Khoảng c\xe1ch"}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(T.Z,{min:1,max:50,step:1,value:n,onChange:r,style:{width:"70px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(Z.Z,{min:1,max:50,step:1,value:n,onChange:r})]})},_=function(){var e=(0,o.Zo)(function(e){return{direction:e.data.props.direction}}),t=e.actions.setProp,n=e.direction,r=function(e){t(function(t){if(t.direction!==e){var n=t.width;t.width=t.height,t.height=n}t.direction=e})};return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Hướng hiển thị"}),(0,d.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("horizontal"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("horizontal")},children:"Ngang"}),(0,d.jsx)("button",{className:"px-3 py-2 text-sm rounded-md ".concat("vertical"===n?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),onClick:function(){return r("vertical")},children:"Dọc"})]})]})},F={CUSTOMIZE:"T\xf9y chỉnh lịch",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L={top:10,left:10,width:i.Yx.countdownWidth,height:i.Yx.countdownHeight,backgroundColor:i.QP.countdownBackground,color:i.QP.countdownText,themeColor:i.QP.countdownTheme,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},fontSize:14,fontFamily:"Arial",selectedDate:new Date,selectedTime:new Date,zIndex:0,locked:!1,direction:"horizontal",spacing:20,transition:g.b},U=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],i=n[1],c=e=H(H({},L),e),l=c.top,x=c.left,p=c.height,f=c.width,h=c.opacity,m=c.backgroundColor,b=c.color,j=c.themeColor,y=c.shadow,v=c.padding,w=c.borderRadius,k=c.rotation,N=c.borderPosition,C=c.borderSize,O=c.borderStyle,S=c.borderColor,T=c.hasShadow,Z=c.boxShadow,E=c.fontSize,D=c.fontFamily,I=c.selectedDate,A=c.selectedTime,z=c.zIndex,B=c.locked,_=c.direction,F=c.spacing,M=c.transition,U=(0,o.Zo)(function(e){return{active:e.events.selected,id:e.id}}),X=U.connectors.connect,K=U.actions.setProp,q=U.active,W=U.id,Y=(0,o.jE)(function(e){return{enabled:e.options.enabled}}).enabled,G=M||g.b,V=(0,a.useState)(!1),Q=V[0],J=V[1];(0,a.useEffect)(function(){if(q&&Y){var e=document.querySelector("#root-page-container");e&&i(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==W}))}},[q,Y,W]);var $=(0,a.useState)({width:0,height:0,left:0,top:0}),ee=$[0],et=$[1],en=(0,a.useState)(null),er=en[0],ea=en[1];(0,a.useEffect)(function(){if(q&&Y){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();et({width:t.width,height:t.height,left:t.left,top:t.top}),ea(e)}}},[q,Y]);var eo=function(){switch(N){case"all":return{border:"".concat(C,"px ").concat(O," ").concat(S)};case"top":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S)};case"bottom":return{borderBottom:"".concat(C,"px ").concat(O," ").concat(S)};case"right":return{borderRight:"".concat(C,"px ").concat(O," ").concat(S)};case"left":return{borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"top-bottom":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S),borderBottom:"".concat(C,"px ").concat(O," ").concat(S)};case"right-left":return{borderRight:"".concat(C,"px ").concat(O," ").concat(S),borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"upper-left":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S),borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"upper-right":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S),borderRight:"".concat(C,"px ").concat(O," ").concat(S)};case"lower-left":return{borderBottom:"".concat(C,"px ").concat(O," ").concat(S),borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"lower-right":return{borderBottom:"".concat(C,"px ").concat(O," ").concat(S),borderRight:"".concat(C,"px ").concat(O," ").concat(S)};default:return{}}}(),ei=(0,P.o)(new Date(I),new Date(A));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{"data-node-id":W,ref:function(e){e&&(X(e),t.current=e)},style:{position:"absolute",top:"".concat(l,"px"),left:"".concat(x,"px"),width:"".concat(f,"px"),height:"".concat(p,"px"),zIndex:z,cursor:Y?"move":"default",transform:"rotate(".concat(k,"deg)")},children:(0,d.jsx)(R.Z,{transition:G,targetRef:t,enabled:Y,nodeId:W,onTransitionStart:function(){J(!0)},onTransitionEnd:function(){J(!1)},children:(0,d.jsx)("div",{style:H(H({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},eo),{},{padding:"".concat(v[0],"px ").concat(v[1],"px ").concat(v[2],"px ").concat(v[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((y||0)/100,")"),opacity:h,backgroundColor:m,borderRadius:"".concat(w[0],"px \n              ").concat(w[1],"px \n              ").concat(w[2],"px \n              ").concat(w[3],"px"),boxShadow:T?"".concat(Z.offsetX,"px ").concat(Z.offsetY,"px ").concat(Z.blur,"px ").concat(Z.spread,"px ").concat(Z.color):"none"}),children:(0,d.jsx)(u,{themeColor:j,color:b,fontSize:E,fontFamily:D,targetDate:new Date(ei),direction:_,spacing:F})})})}),q&&Y&&t.current&&!Q&&(0,d.jsx)(s.Z,{target:t.current,container:er,otherElements:r,containerBounds:ee,currentProps:{top:l,left:x,width:f,height:p,rotation:k,flipX:!1,flipY:!1,locked:B},onUpdateProps:function(e){K(function(t){Object.assign(t,e)})}})]})};U.craft={displayName:"CountDown",props:L,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsxs)(b.Z2,{defaultOpen:!0,title:"T\xf9y chỉnh lịch",children:[(0,d.jsx)(v.v,{}),(0,d.jsx)(C,{}),(0,d.jsx)(D,{}),(0,d.jsx)(E,{}),(0,d.jsx)(S,{}),(0,d.jsx)(j.B,{}),(0,d.jsx)(y.v,{}),(0,d.jsx)(m.n,{})]}),(0,d.jsxs)(b.Z2,{title:"Khoảng đệm",children:[(0,d.jsx)(x.I,{}),(0,d.jsx)(p.J,{})]}),(0,d.jsx)(b.Z2,{title:"Đường viền",children:(0,d.jsx)(f.j,{})}),(0,d.jsx)(b.Z2,{title:"Đổ b\xf3ng",children:(0,d.jsx)(h.O,{})}),(0,d.jsx)(b.Z2,{title:"Hiệu ứng chuyển động",children:(0,d.jsx)(g.C,{})})]})},mobileToolbar:function(){var e=(0,a.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(I.Z,{icon:(0,d.jsx)(A.VWw,{size:20}),label:"T\xf9y chỉnh lịch",onClick:function(){return r(F.CUSTOMIZE)}}),(0,d.jsx)(I.Z,{icon:(0,d.jsx)(A.cWl,{size:20}),label:F.PADDING,onClick:function(){return r(F.PADDING)}}),(0,d.jsx)(I.Z,{icon:(0,d.jsx)(A.QT8,{size:20}),label:F.BORDER,onClick:function(){return r(F.BORDER)}}),(0,d.jsx)(I.Z,{icon:(0,d.jsx)(A.HkK,{size:20}),label:F.BOX_SHADOW,onClick:function(){return r(F.BOX_SHADOW)}}),(0,d.jsx)(I.Z,{icon:(0,d.jsx)(A.AO4,{size:20}),label:F.TRANSITION,onClick:function(){return r(F.TRANSITION)}}),(0,d.jsx)(z.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,d.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,d.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,d.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,d.jsx)("div",{className:"setting-content",children:function(){switch(t){case F.CUSTOMIZE:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.v,{}),(0,d.jsx)(C,{}),(0,d.jsx)(_,{}),(0,d.jsx)(B,{}),(0,d.jsx)(S,{}),(0,d.jsx)(j.B,{}),(0,d.jsx)(y.v,{}),(0,d.jsx)(m.n,{})]});case F.PADDING:return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.I,{}),(0,d.jsx)(p.J,{})]});case F.BORDER:return(0,d.jsx)(f.j,{});case F.BOX_SHADOW:return(0,d.jsx)(h.O,{});case F.TRANSITION:return(0,d.jsx)(g.C,{});default:return(0,d.jsx)(d.Fragment,{})}}()})})]})})]})}}}},20359:function(e,t,n){"use strict";n.d(t,{g:function(){return I}});var r=n(59499),a=n(19848),o=n.n(a),i=n(67623),s=n(67294),c=n(26294),l=n(99101),d=n(57581),u=n(42179),x=n(34304),p=n(85970),f=n(4846),h=n(76071),m=n(93773),g=n(32265),b=n(15720),j=n(99621),y=n(63054),v=n(56084),w=n(35959),k=n(85518),N=n(46256),C=n(11163),O=n(2453),S=n(85893),T=n(17018),Z=n(35282),E=n(29786),D={DYNAMIC:"Dynamic Text",STYLE:"Kiểu chữ",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"},P=n(22746);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var I=function(e){var t,n=e.fontSize,a=e.textAlign,x=e.fontWeight,p=e.color,f=e.backgroundColor,h=e.shadow,m=e.padding,g=e.top,b=e.left,j=e.width,y=e.fontFamily,v=e.letterSpacing,w=e.lineHeight,k=e.opacity,N=e.textTransform,C=e.textDecoration,O=e.fontStyle,T=e.borderRadius,Z=e.rotation,E=e.borderPosition,D=e.borderSize,I=e.borderStyle,A=e.borderColor,z=e.hasShadow,B=e.boxShadow,_=e.zIndex,F=e.locked,M=e.transition,H=void 0===M?u.b:M,L=e.fallbackText,U=(0,i.Zo)(function(e){return{active:e.events.selected,id:e.id}}),X=U.connectors.connect,K=U.actions.setProp,q=U.id,W=U.active,Y=(0,i.jE)(function(e){return{enabled:e.options.enabled}}).enabled,G=H||u.b,V=(0,s.useRef)(null),Q=(0,s.useState)([]),J=Q[0],$=Q[1],ee=(0,s.useState)({width:0,height:0,left:0,top:0}),et=ee[0],en=ee[1],er=(0,s.useState)(null),ea=er[0],eo=er[1],ei=(0,s.useState)(!1),es=ei[0],ec=ei[1],el=(0,s.useState)(""),ed=el[0],eu=el[1],ex=(0,P.H)(),ep=ex.guestData,ef=ex.getGuestName;(0,s.useEffect)(function(){var e;if(null!=ep&&ep.success&&null!=ep&&null!==(e=ep.data)&&void 0!==e&&e.guest)eu(ef());else{var t=new URLSearchParams(window.location.search).get("guestName");t?eu(t):eu(L||"T\xean kh\xe1ch mời")}},[ep,L,ef]),(0,s.useEffect)(function(){y&&"Arial"!==y&&(0,c.af)(y)},[y]),(0,s.useEffect)(function(){if(W&&Y){var e=document.querySelector("#root-page-container");e&&$(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==q}))}},[W,Y,q]),(0,s.useEffect)(function(){if(W&&Y){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();en({width:t.width,height:t.height,left:t.left,top:t.top}),eo(e)}}},[W,Y]);var eh=j||et.width,em=(0,s.useState)(!!j),eg=em[0],eb=em[1],ej=(0,s.useRef)(null);(0,s.useEffect)(function(){if(!eg&&ej.current&&W){var e=ej.current.scrollWidth;Math.abs((j||0)-e)>10&&ey({width:e})}},[n,y,m,W]);var ey=function(e){e.width&&eb(!0),K(function(t){Object.assign(t,e)})},ev=function(){switch(E){case"all":return{border:"".concat(D,"px ").concat(I," ").concat(A)};case"top":return{borderTop:"".concat(D,"px ").concat(I," ").concat(A)};case"bottom":return{borderBottom:"".concat(D,"px ").concat(I," ").concat(A)};case"right":return{borderRight:"".concat(D,"px ").concat(I," ").concat(A)};case"left":return{borderLeft:"".concat(D,"px ").concat(I," ").concat(A)};case"top-bottom":return{borderTop:"".concat(D,"px ").concat(I," ").concat(A),borderBottom:"".concat(D,"px ").concat(I," ").concat(A)};case"right-left":return{borderRight:"".concat(D,"px ").concat(I," ").concat(A),borderLeft:"".concat(D,"px ").concat(I," ").concat(A)};case"upper-left":return{borderTop:"".concat(D,"px ").concat(I," ").concat(A),borderLeft:"".concat(D,"px ").concat(I," ").concat(A)};case"upper-right":return{borderTop:"".concat(D,"px ").concat(I," ").concat(A),borderRight:"".concat(D,"px ").concat(I," ").concat(A)};case"lower-left":return{borderBottom:"".concat(D,"px ").concat(I," ").concat(A),borderLeft:"".concat(D,"px ").concat(I," ").concat(A)};case"lower-right":return{borderBottom:"".concat(D,"px ").concat(I," ").concat(A),borderRight:"".concat(D,"px ").concat(I," ").concat(A)};default:return{}}}(),ew=y?(0,c.Rd)(y):"Arial",ek=Y&&!ed?"T\xean kh\xe1ch mời":ed;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{"data-node-id":q,ref:function(e){e&&(X(e),V.current=e)},style:{position:"absolute",top:"".concat(g,"px"),left:"".concat(b,"px"),width:"".concat(j||eh,"px"),height:"auto",zIndex:_,cursor:Y?"move":"default",transform:"rotate(".concat(Z,"deg)")},className:o().dynamic([["2553181427",[D||0]]])+" text-box-component",children:(0,S.jsx)(d.Z,{transition:G,targetRef:V,enabled:Y,nodeId:q,onTransitionStart:function(){ec(!0)},onTransitionEnd:function(){ec(!1)},children:(0,S.jsx)("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({position:"relative",width:"100%",height:"100%",padding:"".concat(m[0],"px ").concat(m[1],"px ").concat(m[2],"px ").concat(m[3],"px"),borderRadius:"".concat(T[0],"px \n            ").concat(T[1],"px \n            ").concat(T[2],"px \n            ").concat(T[3],"px"),boxShadow:z?"".concat(B.offsetX,"px ").concat(B.offsetY,"px ").concat(B.blur,"px ").concat(B.spread,"px ").concat(B.color):"none",backgroundColor:f,display:"flex",alignItems:"center",justifyContent:"center"===a?"center":"right"===a?"flex-end":"flex-start",boxSizing:"border-box",opacity:k},ev),className:o().dynamic([["2553181427",[D||0]]]),children:(0,S.jsx)("div",{ref:ej,style:{height:"auto",width:"100%",minWidth:20,color:p,fontSize:"".concat(n,"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((h||0)/100,")"),fontWeight:x,fontFamily:ew,textAlign:a,lineHeight:w,letterSpacing:"".concat(v,"px"),textTransform:N,textDecoration:C,fontStyle:O,pointerEvents:"none",overflow:"hidden",wordBreak:"break-word"},className:o().dynamic([["2553181427",[D||0]]]),children:ek})})})}),W&&Y&&V.current&&!es&&(0,S.jsx)(l.Z,{target:V.current,container:ea,otherElements:J,containerBounds:et,currentProps:{top:g,left:b,width:j||eh,height:null===(t=ej.current)||void 0===t?void 0:t.scrollHeight,rotation:Z,flipX:!1,flipY:!1,locked:F},onUpdateProps:ey,resizeDirections:["w","e"],keepRatio:!1}),(0,S.jsx)(o(),{id:"2553181427",dynamic:[D||0],children:[".text-box-component.__jsx-style-dynamic-selector{height:auto !important;position:relative;}",'.text-box-component.component-hovered.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px dashed var(--color-primary);position:absolute;pointer-events:none;inset:-'.concat(D||0,"px;display:block;}")]})]})};I.craft={displayName:"Dynamic Text Box",props:{fontSize:26,textAlign:"center",fontWeight:"500",fontFamily:"Arial",lineHeight:"normal",letterSpacing:"0",textTransform:"none",textDecoration:"none",color:"#000000",backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,top:10,left:10,width:200,height:50,fontStyle:"normal",borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,locked:!1,transition:u.b,fallbackText:""},related:{toolbar:function(){k.tq||k.Em;var e=(0,i.Zo)(function(e){return{values:e.data.props}}),t=e.actions.setProp,n=e.values,r=(0,N.TN)().pageId,a=(0,C.useRouter)();return(0,S.jsxs)(s.Fragment,{children:[(0,S.jsx)(x.Z2,{defaultOpen:!0,title:"Dynamic Text Settings",props:["fallbackText"],children:(0,S.jsxs)("div",{className:"py-2",children:[(0,S.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,S.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"T\xean kh\xe1ch mời tự động"}),(0,S.jsxs)("div",{className:"space-y-2 text-sm text-blue-700",children:[(0,S.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"T\xean kh\xe1ch mời sẽ được lấy tự động từ mỗi link được tạo"}),(0,S.jsxs)("p",{className:"text-xs text-blue-600",children:["Tạo link t\xean kh\xe1ch mời tự động"," ",(0,S.jsx)("span",{onClick:function(){var e=a.pathname.includes("/editor-template/");if("new-blank"===r||e){O.ZP.warning("Vui l\xf2ng xuất bản trang trước khi tạo link t\xean kh\xe1ch mời tự động!");return}window.open("/pages/".concat(r,"/guests-v2"),"_blank")},className:"text-blue-500 font-bold underline cursor-pointer",children:"tại đ\xe2y"})]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text mặc định"}),(0,S.jsx)("input",{type:"text",value:n.fallbackText||"",onChange:function(e){t(function(t){return t.fallbackText=e.target.value})},placeholder:"V\xed dụ: Bạn v\xe0 người thương,...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,S.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Text n\xe0y sẽ hiển thị khi kh\xf4ng c\xf3 t\xean kh\xe1ch mời cụ thể trong đường dẫn. ",(0,S.jsx)("br",{}),"C\xf3 thể để trống nếu kh\xf4ng muốn hiển thị g\xec."]})]})]})}),(0,S.jsxs)(x.Z2,{defaultOpen:!0,title:"Kiểu chữ",props:["fontSize","fontWeight","textAlign","fontFamily","lineHeight","letterSpacing","textTransform","textDecoration","fontStyle"],children:[(0,S.jsx)(f.S,{}),(0,S.jsx)(g.X,{}),(0,S.jsx)(p.B,{}),(0,S.jsx)(h.v,{}),(0,S.jsx)(m.R,{colorTitle:"M\xe0u chữ"}),(0,S.jsx)(w.n,{})]}),(0,S.jsxs)(x.Z2,{title:"Khoảng đệm",props:["padding"],children:[(0,S.jsx)(b.I,{}),(0,S.jsx)(j.J,{})]}),(0,S.jsx)(x.Z2,{title:"Đường viền",children:(0,S.jsx)(y.j,{})}),(0,S.jsx)(x.Z2,{title:"Đổ b\xf3ng",children:(0,S.jsx)(v.O,{})}),(0,S.jsx)(x.Z2,{title:"Hiệu ứng chuyển động",children:(0,S.jsx)(u.C,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=(0,i.Zo)(function(e){return{values:e.data.props}}),a=r.actions.setProp,o=r.values,c=(0,N.TN)().pageId,l=(0,C.useRouter)(),d=function(){var e=l.pathname.includes("/editor-template/");if("new-blank"===c||e){O.ZP.warning("Vui l\xf2ng xuất bản trang trước khi tạo link t\xean kh\xe1ch mời tự động!");return}window.open("/pages/".concat(c,"/guests-v2"),"_blank")},x=function(e){n(e)};return(0,S.jsxs)(s.Fragment,{children:[(0,S.jsx)(T.Z,{icon:(0,S.jsx)(Z.dyI,{size:20}),label:"Dynamic Text",onClick:function(){return x(D.DYNAMIC)}}),(0,S.jsx)(T.Z,{icon:(0,S.jsx)(Z.Gyp,{size:20}),label:"Kiểu chữ",onClick:function(){return x(D.STYLE)}}),(0,S.jsx)(T.Z,{icon:(0,S.jsx)(Z.cWl,{size:20}),label:D.PADDING,onClick:function(){return x(D.PADDING)}}),(0,S.jsx)(T.Z,{icon:(0,S.jsx)(Z.QT8,{size:20}),label:D.BORDER,onClick:function(){return x(D.BORDER)}}),(0,S.jsx)(T.Z,{icon:(0,S.jsx)(Z.HkK,{size:20}),label:D.BOX_SHADOW,onClick:function(){return x(D.BOX_SHADOW)}}),(0,S.jsx)(T.Z,{icon:(0,S.jsx)(Z.AO4,{size:20}),label:D.TRANSITION,onClick:function(){return x(D.TRANSITION)}}),(0,S.jsx)(E.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,S.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,S.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,S.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,S.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,S.jsx)("div",{className:"setting-content",children:function(){switch(t){case D.DYNAMIC:return(0,S.jsxs)("div",{className:"py-2",children:[(0,S.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,S.jsx)("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"T\xean kh\xe1ch mời tự động"}),(0,S.jsxs)("div",{className:"space-y-2 text-sm text-blue-700",children:[(0,S.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"T\xean kh\xe1ch mời sẽ được lấy tự động từ mỗi link được tạo"}),(0,S.jsxs)("p",{className:"text-xs text-blue-600",children:["Tạo link t\xean kh\xe1ch mời tự động"," ",(0,S.jsx)("span",{onClick:d,className:"text-blue-500 font-bold underline cursor-pointer",children:"tại đ\xe2y"})]})]})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text mặc định"}),(0,S.jsx)("input",{type:"text",value:o.fallbackText||"",onChange:function(e){a(function(t){return t.fallbackText=e.target.value})},placeholder:"V\xed dụ: Bạn v\xe0 người thương,...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"}),(0,S.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Text n\xe0y sẽ hiển thị khi kh\xf4ng c\xf3 t\xean kh\xe1ch mời cụ thể trong đường dẫn. ",(0,S.jsx)("br",{}),"C\xf3 thể để trống nếu kh\xf4ng muốn hiển thị g\xec."]})]})]});case D.STYLE:return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(f.S,{}),(0,S.jsx)(g.X,{}),(0,S.jsx)(p.B,{}),(0,S.jsx)(h.v,{}),(0,S.jsx)(m.R,{colorTitle:"M\xe0u chữ"}),(0,S.jsx)(w.n,{})]});case D.PADDING:return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.I,{}),(0,S.jsx)(j.J,{})]});case D.BORDER:return(0,S.jsx)(y.j,{});case D.BOX_SHADOW:return(0,S.jsx)(v.O,{});case D.TRANSITION:return(0,S.jsx)(u.C,{});default:return(0,S.jsx)(S.Fragment,{})}}()})})]})})]})}}}},59854:function(e,t,n){"use strict";n.d(t,{N:function(){return G}});var r=n(59499),a=n(19848),o=n.n(a),i=n(67294),s=n(67623),c=n(76975),l=n(99101),d=n(50029),u=n(87794),x=n.n(u),p=n(2453),f=n(78045),h=n(81567),m=n(49846),g=n(48026),b=n(11163),j=n(22746),y=n(46256),v=n(85893);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var k=function(e){var t,n,a=e.backgroundColor,o=e.color,c=e.borderColor,l=e.buttonColor,u=e.buttonTextColor,k=e.titleText,N=e.nameLabel,C=e.attendLabel,O=e.attendYesText,S=e.attendNoText,T=e.attendeeCountLabel,Z=e.enableAttendeeCount,E=e.submitText,D=e.fontSize,P=e.fontFamily,R=e.borderRadius,I=e.boxShadow,A=e.padding,z=e.borderStyles,B=(0,b.useRouter)(),_=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled,F=(0,y.TN)().pageId,M=(0,i.useState)(""),H=M[0],L=M[1],U=(0,i.useState)("yes"),X=U[0],K=U[1],q=(0,i.useState)(1),W=q[0],Y=q[1],G=(0,i.useState)(!1),V=G[0],Q=G[1],J=(0,i.useState)(""),$=J[0],ee=J[1],et=(0,i.useState)(!1),en=et[0],er=et[1],ea=B.pathname.startsWith("/showcase"),eo=B.pathname.startsWith("/invite/"),ei=(0,j.H)(),es=ei.guestData,ec=ei.getGuestName;(0,i.useEffect)(function(){var e;if(eo&&null!=es&&es.success&&null!=es&&null!==(e=es.data)&&void 0!==e&&e.guest){var t=ec();t&&L(t)}},[eo,es,ec]);var el=(t=(0,d.Z)(x().mark(function e(t){var n,r,a,o,i;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("new-blank"===F||window.location.pathname.includes("/editor/")||ea)){e.next=4;break}return console.log("Form submission simulated in editor mode"),e.abrupt("return",{success:!0});case 4:return e.next=6,(0,m.$T)(F,t.name,t.willAttend,t.attendeeCount);case 6:if((r=e.sent).success){e.next=9;break}throw Error(r.message||"Failed to submit RSVP");case 9:if(!(eo&&null!=es&&es.success&&null!=es&&null!==(n=es.data)&&void 0!==n&&n.guest)){e.next=21;break}return e.prev=10,o=(a=window.location.pathname.split("/"))[a.length-1],i=t.willAttend?"confirmed":"declined",e.next=16,(0,g.aV)(o,{rsvpStatus:i,numberOfGuests:t.willAttend?t.attendeeCount:0});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.error("Error updating guest RSVP:",e.t0);case 21:return e.abrupt("return",r);case 24:throw e.prev=24,e.t1=e.catch(0),console.error("Error submitting form:",e.t1),e.t1;case 28:case"end":return e.stop()}},e,null,[[0,24],[10,18]])})),function(e){return t.apply(this,arguments)}),ed=(n=(0,d.Z)(x().mark(function e(t){var n;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!_){e.next=3;break}return e.abrupt("return");case 3:if(H.trim()){e.next=6;break}return ee("Vui l\xf2ng nhập t\xean của bạn"),e.abrupt("return");case 6:return er(!0),e.prev=7,n={name:H.trim(),willAttend:"yes"===X,attendeeCount:"yes"===X?Z?W:1:0,pageId:F},e.next=11,el(n);case 11:Q(!0),ee("Cảm ơn ".concat(H," đ\xe3 x\xe1c nhận!")),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),p.ZP.error("Đ\xe3 xảy ra lỗi khi gửi x\xe1c nhận. Vui l\xf2ng thử lại sau."),ee("Đ\xe3 xảy ra lỗi, vui l\xf2ng thử lại sau");case 19:return e.prev=19,er(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[7,15,19,22]])})),function(e){return n.apply(this,arguments)});return(0,v.jsxs)("div",{className:"rsvp-form",style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({backgroundColor:a,color:o,boxShadow:I,borderRadius:"".concat(R[0],"px ").concat(R[1],"px ").concat(R[2],"px ").concat(R[3],"px"),padding:"".concat(A[0],"px ").concat(A[1],"px ").concat(A[2],"px ").concat(A[3],"px"),minHeight:"100%",width:"100%",fontSize:"".concat(D,"px"),fontFamily:P,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",overflow:"visible"},z),children:[(0,v.jsx)("h3",{style:{marginBottom:"16px",color:o,fontWeight:"bold",fontSize:"".concat(D+4,"px"),textAlign:"center"},children:k}),V?(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",padding:"20px",color:"#52c41a"},children:[(0,v.jsxs)("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"none",stroke:"#52c41a",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,v.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,v.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),(0,v.jsx)("p",{style:{marginTop:"16px",fontSize:"".concat(D,"px")},children:$})]}):(0,v.jsxs)("form",{onSubmit:ed,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"rsvp-name",style:{display:"block",marginBottom:"6px",fontSize:"".concat(D,"px")},children:N}),(0,v.jsx)("input",{type:"text",name:"rsvp-name",value:H,onChange:function(e){return L(e.target.value)},style:{width:"100%",padding:"4px 8px",borderRadius:"4px",border:"1px solid ".concat(c),fontSize:"".concat(D,"px"),backgroundColor:eo?"#f5f5f5":"white",color:eo?"#666":"#333"},placeholder:eo?"T\xean đ\xe3 được điền sẵn":"Nhập t\xean của bạn",disabled:en||eo}),eo&&(0,v.jsx)("div",{style:{fontSize:"".concat(D-2,"px"),color:"#666",marginTop:"4px",fontStyle:"italic"},children:"T\xean đ\xe3 được điền sẵn từ th\xf4ng tin kh\xe1ch mời"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"".concat(D,"px")},htmlFor:"rsvp-attendance",children:C}),(0,v.jsx)(f.ZP.Group,{name:"rsvp-attendance",onChange:function(e){K(e.target.value)},value:X,style:{width:"100%"},disabled:en,children:(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,v.jsx)(f.ZP,{value:"yes",style:{fontSize:"".concat(D,"px"),fontFamily:P,whiteSpace:"break-spaces",color:o},children:O}),(0,v.jsx)(f.ZP,{value:"no",style:{fontSize:"".concat(D,"px"),fontFamily:P,whiteSpace:"break-spaces",color:o},children:S})]})})]}),"yes"===X&&Z&&(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"rsvp-attendee-count",style:{display:"block",marginBottom:"6px",fontSize:"".concat(D,"px")},children:T}),(0,v.jsxs)(h.Z,{value:W,onChange:function(e){return Y(e)},disabled:en,style:{width:"100%",fontSize:"".concat(D,"px")},size:"middle",placeholder:"Chọn số người tham dự",getPopupContainer:function(e){return e.parentElement},dropdownStyle:{zIndex:9999},children:[(0,v.jsx)(h.Z.Option,{value:1,children:"1 người"}),(0,v.jsx)(h.Z.Option,{value:2,children:"2 người"}),(0,v.jsx)(h.Z.Option,{value:3,children:"3 người"}),(0,v.jsx)(h.Z.Option,{value:4,children:"4 người"}),(0,v.jsx)(h.Z.Option,{value:5,children:"5 người"}),(0,v.jsx)(h.Z.Option,{value:6,children:"6 người"}),(0,v.jsx)(h.Z.Option,{value:7,children:"7 người"}),(0,v.jsx)(h.Z.Option,{value:8,children:"8 người"}),(0,v.jsx)(h.Z.Option,{value:9,children:"9 người"}),(0,v.jsx)(h.Z.Option,{value:10,children:"10 người"})]})]}),$&&!V&&(0,v.jsx)("div",{style:{color:"#ff4d4f",marginTop:"-8px",fontSize:"".concat(D-2,"px")},children:$}),(0,v.jsx)("button",{type:"submit",style:{backgroundColor:l,color:u,padding:"6px 12px",borderRadius:"4px",border:"none",fontSize:"".concat(D,"px"),cursor:en?"wait":"pointer",marginTop:"8px",opacity:en?.7:1},disabled:en,children:en?"Đang gửi...":E})]})]})},N=n(25593),C=n(72269),O=n(83622),S=n(54811),T=n(93773),Z=n(63054),E=n(56084),D=n(35959),P=n(42179),R=n(34304),I=n(85970),A=n(76071),z=function(e){var t=e.label,n=e.propName,r=e.placeholder,a=(0,s.Zo)(function(e){return{value:e.data.props[n]}}),o=a.actions.setProp,i=a.value;return(0,v.jsxs)("div",{className:"mb-4",children:[(0,v.jsx)("div",{className:"text-gray-700 mb-1",children:t}),(0,v.jsx)("input",{type:"text",className:"w-full rounded border border-gray-300 p-2",value:i||"",onChange:function(e){return o(function(t){return t[n]=e.target.value})},placeholder:r})]})},B=n(85253),_=function(e){var t=e.label,n=e.propName,r=(0,s.Zo)(function(e){return{value:e.data.props[n]}}),a=r.actions.setProp,o=r.value;return(0,v.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,v.jsx)("label",{className:"text-sm font-medium",children:t}),(0,v.jsx)(B.Z,{value:o,onChange:function(e){a(function(t){if(e.rgba&&e.rgba.a<1){var r;t[n]=(r=e.rgba)?"rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(r.a,")"):""}else t[n]=e.hex})}})]})},F=n(33299),M=N.Z.Text,H=n(57581),L=n(17018),U=n(35282),X=n(29786),K={FORM:"Biểu mẫu",COLORS:"M\xe0u sắc",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Y={top:10,left:10,width:c.Yx.formWidth,height:c.Yx.formHeight,backgroundColor:"#ffffff",color:"#333333",borderColor:"#e0e0e0",buttonColor:"#ff5757",buttonTextColor:"#ffffff",titleText:"X\xe1c nhận tham dự",nameLabel:"Họ v\xe0 t\xean",attendLabel:"Bạn sẽ tham dự chứ?",attendYesText:"C\xf3, t\xf4i sẽ tham dự",attendNoText:"T\xf4i bận, rất tiếc kh\xf4ng thể tham dự",attendeeCountLabel:"Số lượng người tham dự",enableAttendeeCount:!1,submitText:"Gửi x\xe1c nhận",padding:[16,16,16,16],opacity:1,rotation:0,borderRadius:[5,5,5,5],borderPosition:"all",borderSize:1,borderStyle:"solid",hasShadow:!0,boxShadow:{offsetX:0,offsetY:2,blur:10,spread:0,color:"rgba(0, 0, 0, 0.1)"},fontSize:14,fontFamily:"Arial",zIndex:0,locked:!1,transition:P.b},G=function(e){var t=(0,i.useRef)(null),n=(0,i.useState)([]),r=n[0],a=n[1],c=e=W(W({},Y),e),d=c.top,u=c.left,x=c.height,p=c.width,f=c.opacity,h=c.backgroundColor,m=c.color,g=c.borderColor,b=c.buttonColor,j=c.buttonTextColor,y=c.titleText,w=c.nameLabel,N=c.attendLabel,C=c.attendYesText,O=c.attendNoText,S=c.attendeeCountLabel,T=c.enableAttendeeCount,Z=c.submitText,E=c.padding,D=c.borderRadius,R=c.rotation,I=c.borderPosition,A=c.borderSize,z=c.borderStyle,B=c.hasShadow,_=c.boxShadow,F=c.fontSize,M=c.fontFamily,L=c.zIndex,U=c.locked,X=c.transition,K=(0,s.Zo)(function(e){return{active:e.events.selected,id:e.id}}),q=K.connectors.connect,G=K.actions.setProp,V=K.active,Q=K.id,J=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled,$=X||P.b,ee=(0,i.useState)(!1),et=ee[0],en=ee[1];(0,i.useEffect)(function(){if(V&&J){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==Q}))}},[V,J,Q]);var er=(0,i.useState)({width:0,height:0,left:0,top:0}),ea=er[0],eo=er[1],ei=(0,i.useState)(null),es=ei[0],ec=ei[1];(0,i.useEffect)(function(){if(V&&J){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();eo({width:t.width,height:t.height,left:t.left,top:t.top}),ec(e)}}},[V,J]);var el=function(){switch(I){case"all":return{border:"".concat(A,"px ").concat(z," ").concat(g)};case"top":return{borderTop:"".concat(A,"px ").concat(z," ").concat(g)};case"bottom":return{borderBottom:"".concat(A,"px ").concat(z," ").concat(g)};case"right":return{borderRight:"".concat(A,"px ").concat(z," ").concat(g)};case"left":return{borderLeft:"".concat(A,"px ").concat(z," ").concat(g)};case"top-bottom":return{borderTop:"".concat(A,"px ").concat(z," ").concat(g),borderBottom:"".concat(A,"px ").concat(z," ").concat(g)};case"right-left":return{borderRight:"".concat(A,"px ").concat(z," ").concat(g),borderLeft:"".concat(A,"px ").concat(z," ").concat(g)};case"upper-left":return{borderTop:"".concat(A,"px ").concat(z," ").concat(g),borderLeft:"".concat(A,"px ").concat(z," ").concat(g)};case"upper-right":return{borderTop:"".concat(A,"px ").concat(z," ").concat(g),borderRight:"".concat(A,"px ").concat(z," ").concat(g)};case"lower-left":return{borderBottom:"".concat(A,"px ").concat(z," ").concat(g),borderLeft:"".concat(A,"px ").concat(z," ").concat(g)};case"lower-right":return{borderBottom:"".concat(A,"px ").concat(z," ").concat(g),borderRight:"".concat(A,"px ").concat(z," ").concat(g)};default:return{}}}(),ed=B?"".concat(_.offsetX,"px ").concat(_.offsetY,"px ").concat(_.blur,"px ").concat(_.spread,"px ").concat(_.color):"none";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{ref:function(e){e&&!U&&q(e),t.current=e},style:{width:"".concat(p,"px"),height:"".concat(x,"px"),minWidth:200,position:"absolute",top:"".concat(d,"px"),left:"".concat(u,"px"),transform:"rotate(".concat(R,"deg)"),cursor:J?"move":"default",zIndex:L},"data-node-id":Q,className:o().dynamic([["3385065320",[J?L:9999999]]])+" rsvp-form-container",children:(0,v.jsx)(H.Z,{transition:$,targetRef:t,enabled:J,nodeId:Q,onTransitionStart:function(){en(!0)},onTransitionEnd:function(){en(!1)},children:(0,v.jsx)("div",{style:{width:"100%",height:"100%",minWidth:200,position:"relative",borderRadius:"".concat(D[0],"px \n              ").concat(D[1],"px \n              ").concat(D[2],"px \n              ").concat(D[3],"px"),opacity:f},className:o().dynamic([["3385065320",[J?L:9999999]]]),children:(0,v.jsx)(k,{backgroundColor:h,color:m,borderColor:g,buttonColor:b,buttonTextColor:j,titleText:y,nameLabel:w,attendLabel:N,attendYesText:C,attendNoText:O,attendeeCountLabel:S,enableAttendeeCount:T,submitText:Z,fontSize:F,fontFamily:M,borderRadius:D,boxShadow:ed,padding:E,borderStyles:el})})})}),t.current&&V&&J&&!et&&(0,v.jsx)(l.Z,{target:t.current,container:es,otherElements:r,containerBounds:ea,currentProps:{top:d,left:u,width:p,height:x,rotation:R,flipX:!1,flipY:!1,locked:U},onUpdateProps:function(e){G(function(t){Object.assign(t,e)})},resizeDirections:["w","e","n","s"],keepRatio:!1}),(0,v.jsx)(o(),{id:"3385065320",dynamic:[J?L:9999999],children:[".rsvp-form-container:hover{z-index:".concat(J?L:9999999," !important;}")]})]})};G.craft={displayName:"Biểu mẫu tham dự",props:Y,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e=(0,F.useSession)().data,t=(null==e?void 0:e.user)&&(null==e?void 0:e.user.plan)==="free",n=(null==e?void 0:e.user)&&(null==e?void 0:e.user.plan),r=(0,s.Zo)(function(e){return{enableAttendeeCount:e.data.props.enableAttendeeCount}}),a=r.actions.setProp,o=r.enableAttendeeCount;return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(R.Z2,{defaultOpen:!0,title:"C\xe0i đặt biểu mẫu",children:[(0,v.jsx)(z,{label:"Ti\xeau đề biểu mẫu",propName:"titleText",placeholder:"Ti\xeau đề biểu mẫu"}),(0,v.jsx)(z,{label:"Nh\xe3n trường t\xean",propName:"nameLabel",placeholder:"Nh\xe3n trường t\xean"}),(0,v.jsx)(z,{label:"Nh\xe3n x\xe1c nhận tham dự",propName:"attendLabel",placeholder:"Nh\xe3n x\xe1c nhận tham dự"}),!t&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(z,{label:"Text lựa chọn 'C\xf3'",propName:"attendYesText",placeholder:"C\xf3, t\xf4i sẽ tham dự"}),(0,v.jsx)(z,{label:"Text lựa chọn 'Kh\xf4ng'",propName:"attendNoText",placeholder:"T\xf4i bận, rất tiếc kh\xf4ng thể tham dự"}),(0,v.jsxs)("div",{className:"my-4",children:[(0,v.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,v.jsx)("div",{className:"text-gray-700 font-semibold",children:"Kiểm so\xe1t số lượng người tham dự"})}),(0,v.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p người d\xf9ng nhập số lượng người tham dự"}),(0,v.jsx)(C.Z,{checked:o,onChange:function(e){a(function(t){return t.enableAttendeeCount=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),o&&(0,v.jsx)(z,{label:"Nh\xe3n số lượng người tham dự",propName:"attendeeCountLabel",placeholder:"Nh\xe3n số lượng người tham dự"})]}),(0,v.jsx)(z,{label:"Nội dung n\xfat gửi",propName:"submitText",placeholder:"Nội dung n\xfat gửi"}),t&&(0,v.jsxs)("div",{className:"p-2 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[(0,v.jsx)("div",{className:"mb-3",children:(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsxs)(M,{strong:!0,className:"text-lg",children:["T\xednh năng n\xe2ng cao"," ",(0,v.jsx)(S.Z,{style:{color:"#1677ff",fontSize:"18px",marginLeft:"6px"}})]}),(0,v.jsx)("div",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium ml-3",children:"Basic+"})]})}),(0,v.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"N\xe2ng cấp l\xean g\xf3i Basic+ để sử dụng c\xe1c t\xednh năng cao cấp sau:"}),(0,v.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,v.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,v.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsx)(M,{strong:!0,className:"text-base",children:"T\xf9y chỉnh text lựa chọn"}),(0,v.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:'Thay đổi nội dung text "C\xf3" v\xe0 "Kh\xf4ng" theo \xfd muốn'}),(0,v.jsx)("div",{className:"mt-2 text-sm text-gray-500 italic",children:'V\xed dụ: "C\xf3, t\xf4i sẽ tham dự" → "Chắc chắn sẽ đến"'})]})]}),(0,v.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,v.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsx)(M,{strong:!0,className:"text-base",children:"Kiểm so\xe1t số lượng người tham dự"}),(0,v.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Cho ph\xe9p kh\xe1ch mời nhập số lượng người tham dự c\xf9ng họ"}),(0,v.jsx)("div",{className:"mt-2 text-sm text-gray-500 italic",children:"Hữu \xedch để thống k\xea ch\xednh x\xe1c số kh\xe1ch tham dự"})]})]})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2",children:[(0,v.jsxs)(M,{type:"secondary",className:"text-xs",children:["G\xf3i hiện tại:"," ",(0,v.jsx)("span",{className:"font-semibold",children:null==n?void 0:n.toUpperCase()})]}),(0,v.jsxs)(O.ZP,{type:"primary",size:"large",onClick:function(){window.open("/pricing-plans?upgradeSource=advanced-features-form-setting","_blank")},className:"h-10",children:[(0,v.jsx)(S.Z,{})," N\xe2ng cấp ngay"]})]})]}),(0,v.jsx)("hr",{className:"my-4"}),(0,v.jsxs)("div",{className:"my-4",children:[(0,v.jsx)("div",{className:"text-gray-700 mb-3",children:"M\xe0u sắc biểu mẫu"}),(0,v.jsx)(T.R,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,v.jsx)(_,{label:"M\xe0u viền input",propName:"borderColor"}),(0,v.jsx)(_,{label:"M\xe0u n\xfat gửi",propName:"buttonColor"}),(0,v.jsx)(_,{label:"M\xe0u chữ n\xfat gửi",propName:"buttonTextColor"}),(0,v.jsx)(I.B,{}),(0,v.jsx)(A.v,{}),(0,v.jsx)(D.n,{})]}),(0,v.jsx)(R.Z2,{title:"Đường viền",children:(0,v.jsx)(Z.j,{})}),(0,v.jsx)(R.Z2,{title:"Đổ b\xf3ng",children:(0,v.jsx)(E.O,{})}),(0,v.jsx)(R.Z2,{title:"Hiệu ứng chuyển động",children:(0,v.jsx)(P.C,{})})]})},mobileToolbar:function(){var e=(0,i.useState)(null),t=e[0],n=e[1],r=(0,F.useSession)().data,a=(null==r?void 0:r.user)&&(null==r?void 0:r.user.plan)==="free";(null==r?void 0:r.user)&&(null==r||r.user.plan);var o=(0,s.Zo)(function(e){return{enableAttendeeCount:e.data.props.enableAttendeeCount}}),c=o.actions.setProp,l=o.enableAttendeeCount,d=function(e){n(e)};return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(L.Z,{icon:(0,v.jsx)(U.rw6,{size:20}),label:K.FORM,onClick:function(){return d(K.FORM)}}),(0,v.jsx)(L.Z,{icon:(0,v.jsx)(U.l9F,{size:20}),label:K.COLORS,onClick:function(){return d(K.COLORS)}}),(0,v.jsx)(L.Z,{icon:(0,v.jsx)(U.QT8,{size:20}),label:K.BORDER,onClick:function(){return d(K.BORDER)}}),(0,v.jsx)(L.Z,{icon:(0,v.jsx)(U.HkK,{size:20}),label:K.BOX_SHADOW,onClick:function(){return d(K.BOX_SHADOW)}}),(0,v.jsx)(L.Z,{icon:(0,v.jsx)(U.AO4,{size:20}),label:K.TRANSITION,onClick:function(){return d(K.TRANSITION)}}),(0,v.jsx)(X.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,v.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,v.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,v.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,v.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,v.jsx)("div",{className:"setting-content",children:function(){switch(t){case K.FORM:return(0,v.jsxs)("div",{className:"py-2",children:[(0,v.jsx)(z,{label:"Ti\xeau đề biểu mẫu",propName:"titleText",placeholder:"Ti\xeau đề biểu mẫu"}),(0,v.jsx)(z,{label:"Nh\xe3n trường t\xean",propName:"nameLabel",placeholder:"Nh\xe3n trường t\xean"}),(0,v.jsx)(z,{label:"Nh\xe3n x\xe1c nhận tham dự",propName:"attendLabel",placeholder:"Nh\xe3n x\xe1c nhận tham dự"}),!a&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(z,{label:"Text lựa chọn 'C\xf3'",propName:"attendYesText",placeholder:"C\xf3, t\xf4i sẽ tham dự"}),(0,v.jsx)(z,{label:"Text lựa chọn 'Kh\xf4ng'",propName:"attendNoText",placeholder:"T\xf4i bận, rất tiếc kh\xf4ng thể tham dự"}),(0,v.jsxs)("div",{className:"my-4",children:[(0,v.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,v.jsx)("div",{className:"text-gray-700 font-semibold",children:"Kiểm so\xe1t số lượng người tham dự"})}),(0,v.jsx)("div",{className:"text-gray-500 text-xs mt-1 mb-1",children:"Cho ph\xe9p người d\xf9ng nhập số lượng người tham dự"}),(0,v.jsx)(C.Z,{checked:l,onChange:function(e){c(function(t){return t.enableAttendeeCount=e})},checkedChildren:"Bật",unCheckedChildren:"Tắt"})]}),l&&(0,v.jsx)(z,{label:"Nh\xe3n số lượng người tham dự",propName:"attendeeCountLabel",placeholder:"Nh\xe3n số lượng người tham dự"})]}),a&&(0,v.jsxs)("div",{className:"p-3 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-100 my-4",children:[(0,v.jsx)("div",{className:"mb-2",children:(0,v.jsxs)("div",{className:"flex items-center justify-center",children:[(0,v.jsxs)("div",{className:"text-sm font-semibold text-blue-700",children:["T\xednh năng n\xe2ng cao"," ",(0,v.jsx)(S.Z,{style:{color:"#1677ff",fontSize:"14px",marginLeft:"4px"}})]}),(0,v.jsx)("div",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium ml-2",children:"Basic+"})]})}),(0,v.jsx)("div",{className:"text-xs text-gray-600 mb-3 text-center",children:"N\xe2ng cấp để sử dụng:"}),(0,v.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,v.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,v.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,v.jsx)("span",{className:"text-gray-700",children:'T\xf9y chỉnh text "C\xf3/Kh\xf4ng"'})]}),(0,v.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,v.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,v.jsx)("span",{className:"text-gray-700",children:"Kiểm so\xe1t số lượng người tham dự"})]})]}),(0,v.jsx)("div",{className:"text-center",children:(0,v.jsxs)("button",{onClick:function(){window.open("/pricing-plans?upgradeSource=mobile-form-setting","_blank")},className:"bg-blue-600 text-white text-xs px-3 py-1.5 rounded-md font-medium",children:[(0,v.jsx)(S.Z,{className:"mr-1"})," N\xe2ng cấp"]})})]}),(0,v.jsx)(z,{label:"Nội dung n\xfat gửi",propName:"submitText",placeholder:"Nội dung n\xfat gửi"}),(0,v.jsx)(I.B,{}),(0,v.jsx)(A.v,{}),(0,v.jsx)(D.n,{})]});case K.COLORS:return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"my-4",children:[(0,v.jsx)("div",{className:"text-gray-700 mb-3",children:"M\xe0u sắc biểu mẫu"}),(0,v.jsx)(T.R,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,v.jsx)(_,{label:"M\xe0u viền input",propName:"borderColor"}),(0,v.jsx)(_,{label:"M\xe0u n\xfat gửi",propName:"buttonColor"}),(0,v.jsx)(_,{label:"M\xe0u chữ n\xfat gửi",propName:"buttonTextColor"})]});case K.BORDER:return(0,v.jsx)(Z.j,{});case K.BOX_SHADOW:return(0,v.jsx)(E.O,{});case K.TRANSITION:return(0,v.jsx)(P.C,{});default:return(0,v.jsx)(v.Fragment,{})}}()})})]})})]})}}}},41930:function(e,t,n){"use strict";n.d(t,{u:function(){return B}});var r=n(59499),a=n(19848),o=n.n(a),i=n(67294),s=n(67623),c=n(99101),l=n(85893),d=function(e){var t=e.color,n=e.fontSize,r=e.fontFamily,a=e.phoneNumber,i=e.buttonText,c=e.showIcon,d=e.iconSize,u=e.iconColor,x=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,l.jsxs)("div",{style:{width:"100%",height:"100%"},className:"jsx-1005507239",children:[(0,l.jsxs)("button",{onClick:function(e){!x&&(e.preventDefault(),e.stopPropagation(),a&&(window.location.href="tel:".concat(a)))},style:{color:t,fontSize:"".concat(n,"px"),fontFamily:r,width:"100%",height:"100%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",textDecoration:"none",position:"relative"},className:"jsx-1005507239 phone-button",children:[c&&(0,l.jsx)("svg",{width:d,height:d,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"5px"},className:"jsx-1005507239",children:(0,l.jsx)("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z",stroke:u,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-1005507239"})}),i]}),(0,l.jsx)(o(),{id:"1005507239",children:[".phone-button.jsx-1005507239:hover{opacity:0.9;-webkit-transform:translateY(-1px);-ms-transform:translateY(-1px);transform:translateY(-1px);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".phone-button.jsx-1005507239:active{-webkit-transform:translateY(1px);-ms-transform:translateY(1px);transform:translateY(1px);}"]})]})},u=n(93773),x=n(63054),p=n(56084),f=n(35959),h=n(42179),m=n(34304),g=n(85970),b=n(76071),j=function(e){var t=e.label,n=e.propName,r=e.placeholder,a=e.type,o=(0,s.Zo)(function(e){return{value:e.data.props[n]}}),i=o.actions.setProp,c=o.value;return(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:t}),(0,l.jsx)("input",{type:void 0===a?"text":a,className:"w-full rounded border border-gray-300 p-2",value:c||"",onChange:function(e){return i(function(t){return t[n]=e.target.value})},placeholder:r})]})},y=n(81567),v=n(83622),w=n(72269),k=n(52745),N=n(24969),C=n(85253),O=y.Z.Option,S=function(){var e=(0,s.Zo)(function(e){return{iconSize:e.data.props.iconSize}}),t=e.actions.setProp,n=e.iconSize;return(0,l.jsxs)("div",{className:"jsx-1531429221 icon-size-container flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"jsx-1531429221 text-sm font-medium",children:"Icon size"}),(0,l.jsxs)("div",{className:"jsx-1531429221 flex",children:[(0,l.jsx)(v.ZP,{icon:(0,l.jsx)(k.Z,{}),onClick:function(){var e=Math.max(10,n-1);t(function(t){return t.iconSize=e},1e3)},style:{borderRadius:"4px 0 0 4px",width:30,display:"flex",justifyContent:"center",alignItems:"center"}}),(0,l.jsx)(y.Z,{value:n,style:{width:65},className:"icon-size-input",onChange:function(e){t(function(t){return t.iconSize=e},1e3)},children:[12,14,16,18,20,22,24,28,32].map(function(e){return(0,l.jsx)(O,{value:e,children:e},e)})}),(0,l.jsx)(v.ZP,{icon:(0,l.jsx)(N.Z,{}),onClick:function(){var e=n+1;t(function(t){return t.iconSize=e},1e3)},style:{borderRadius:"0 4px 4px 0",width:30,display:"flex",justifyContent:"center",alignItems:"center"}})]}),(0,l.jsx)(o(),{id:"1531429221",children:[".icon-size-input .ant-select-selector{border-radius:0px !important;}",".icon-size-container .ant-btn.ant-btn-icon-only .anticon{font-size:15px;}",".icon-size-container .ant-select-selection-item,.icon-size-container .ant-select-item-option-content{font-size:14px;}"]})]})},T=function(){var e=(0,s.Zo)(function(e){return{showIcon:e.data.props.showIcon,iconColor:e.data.props.iconColor}}),t=e.actions.setProp,n=e.showIcon,r=e.iconColor;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Hiển thị icon điện thoại"}),(0,l.jsx)(w.Z,{checked:n,onChange:function(e){return t(function(t){return t.showIcon=e})}})]}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S,{}),(0,l.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u icon"}),(0,l.jsx)(C.Z,{value:r,onChange:function(e){t(function(t){if(e.rgba&&e.rgba.a<1){var n;t.iconColor=(n=e.rgba)?"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(n.a,")"):""}else t.iconColor=e.hex})}})]})]})]})},Z=n(57581),E=n(17018),D=n(35282),P=n(29786),R={SETUP:"Thiết lập",ICON:"Hiển thị",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var z={top:10,left:10,width:130,height:40,backgroundColor:"#ff5757",color:"#ffffff",phoneNumber:"",padding:[0,0,0,0],opacity:1,rotation:0,borderRadius:[5,5,5,5],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},fontSize:16,fontFamily:"Arial",buttonText:"Gọi ngay",showIcon:!0,iconSize:16,iconColor:"#ffffff",zIndex:0,locked:!1,transition:h.b},B=function(e){var t=(0,i.useRef)(null),n=(0,i.useState)([]),r=n[0],a=n[1],u=e=A(A({},z),e),x=u.top,p=u.left,f=u.height,m=u.width,g=u.opacity,b=u.backgroundColor,j=u.color,y=u.phoneNumber,v=u.padding,w=u.borderRadius,k=u.rotation,N=u.borderPosition,C=u.borderSize,O=u.borderStyle,S=u.borderColor,T=u.hasShadow,E=u.boxShadow,D=u.fontSize,P=u.fontFamily,R=u.buttonText,I=u.showIcon,B=u.iconSize,_=u.iconColor,F=u.zIndex,M=u.locked,H=u.transition,L=(0,s.Zo)(function(e){return{active:e.events.selected,id:e.id}}),U=L.connectors.connect,X=L.actions.setProp,K=L.active,q=L.id,W=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled,Y=H||h.b,G=(0,i.useState)(!1),V=G[0],Q=G[1];(0,i.useEffect)(function(){if(K&&W){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==q}))}},[K,W,q]);var J=(0,i.useState)({width:0,height:0,left:0,top:0}),$=J[0],ee=J[1],et=(0,i.useState)(null),en=et[0],er=et[1];(0,i.useEffect)(function(){if(K&&W){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ee({width:t.width,height:t.height,left:t.left,top:t.top}),er(e)}}},[K,W]);var ea=function(){switch(N){case"all":return{border:"".concat(C,"px ").concat(O," ").concat(S)};case"top":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S)};case"bottom":return{borderBottom:"".concat(C,"px ").concat(O," ").concat(S)};case"right":return{borderRight:"".concat(C,"px ").concat(O," ").concat(S)};case"left":return{borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"top-bottom":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S),borderBottom:"".concat(C,"px ").concat(O," ").concat(S)};case"right-left":return{borderRight:"".concat(C,"px ").concat(O," ").concat(S),borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"upper-left":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S),borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"upper-right":return{borderTop:"".concat(C,"px ").concat(O," ").concat(S),borderRight:"".concat(C,"px ").concat(O," ").concat(S)};case"lower-left":return{borderBottom:"".concat(C,"px ").concat(O," ").concat(S),borderLeft:"".concat(C,"px ").concat(O," ").concat(S)};case"lower-right":return{borderBottom:"".concat(C,"px ").concat(O," ").concat(S),borderRight:"".concat(C,"px ").concat(O," ").concat(S)};default:return{}}}(),eo=T?"".concat(E.offsetX,"px ").concat(E.offsetY,"px ").concat(E.blur,"px ").concat(E.spread,"px ").concat(E.color):"none";return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:function(e){e&&!M&&U(e),t.current=e},style:{width:"".concat(m,"px"),height:"".concat(f,"px"),position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),transform:"rotate(".concat(k,"deg)"),zIndex:F,cursor:W?"move":"default"},"data-node-id":q,className:"jsx-2488970344 phone-button-container",children:(0,l.jsx)(Z.Z,{transition:Y,targetRef:t,enabled:W,nodeId:q,onTransitionStart:function(){Q(!0)},onTransitionEnd:function(){Q(!1)},children:(0,l.jsx)("div",{style:A({width:"100%",height:"100%",position:"relative",opacity:g,borderRadius:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px"),boxShadow:eo,backgroundColor:b,padding:"".concat(v[0],"px ").concat(v[1],"px ").concat(v[2],"px ").concat(v[3],"px"),display:"flex",justifyContent:"center",alignItems:"center"},ea),className:"jsx-2488970344",children:(0,l.jsx)(d,{color:j,fontSize:D,fontFamily:P,phoneNumber:y,buttonText:R,showIcon:I,iconSize:B,iconColor:_})})})}),t.current&&K&&W&&!V&&(0,l.jsx)(c.Z,{target:t.current,container:en,otherElements:r,containerBounds:$,currentProps:{top:x,left:p,width:m,height:f,rotation:k,flipX:!1,flipY:!1,locked:M},onUpdateProps:function(e){X(function(t){Object.assign(t,e)})}}),(0,l.jsx)(o(),{id:"2488970344",children:[".phone-button-container:hover{z-index:9999999 !important;}"]})]})};B.craft={displayName:"Phone Button",props:z,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsxs)(m.Z2,{defaultOpen:!0,title:"Thiết lập n\xfat gọi",children:[(0,l.jsx)(j,{label:"Số điện thoại",propName:"phoneNumber",placeholder:"Nhập số điện thoại",type:"tel"}),(0,l.jsx)(j,{label:"Nội dung n\xfat",propName:"buttonText",placeholder:"Nội dung n\xfat",type:"text"}),(0,l.jsx)("hr",{}),(0,l.jsx)(T,{}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"M\xe0u sắc n\xfat"}),(0,l.jsx)(u.R,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]}),(0,l.jsx)(g.B,{}),(0,l.jsx)(b.v,{}),(0,l.jsx)(f.n,{})]}),(0,l.jsx)(m.Z2,{title:"Đường viền",children:(0,l.jsx)(x.j,{})}),(0,l.jsx)(m.Z2,{title:"Đổ b\xf3ng",children:(0,l.jsx)(p.O,{})}),(0,l.jsx)(m.Z2,{title:"Hiệu ứng chuyển động",children:(0,l.jsx)(h.C,{})})]})},mobileToolbar:function(){var e=(0,i.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(E.Z,{icon:(0,l.jsx)(D.TS7,{size:20}),label:R.SETUP,onClick:function(){return r(R.SETUP)}}),(0,l.jsx)(E.Z,{icon:(0,l.jsx)(D.l9F,{size:20}),label:R.ICON,onClick:function(){return r(R.ICON)}}),(0,l.jsx)(E.Z,{icon:(0,l.jsx)(D.QT8,{size:20}),label:R.BORDER,onClick:function(){return r(R.BORDER)}}),(0,l.jsx)(E.Z,{icon:(0,l.jsx)(D.HkK,{size:20}),label:R.BOX_SHADOW,onClick:function(){return r(R.BOX_SHADOW)}}),(0,l.jsx)(E.Z,{icon:(0,l.jsx)(D.AO4,{size:20}),label:R.TRANSITION,onClick:function(){return r(R.TRANSITION)}}),(0,l.jsx)(P.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,l.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,l.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,l.jsx)("div",{className:"setting-content",children:function(){switch(t){case R.SETUP:return(0,l.jsxs)("div",{className:"py-2",children:[(0,l.jsx)(j,{label:"Số điện thoại",propName:"phoneNumber",placeholder:"Nhập số điện thoại",type:"tel"}),(0,l.jsx)(j,{label:"Nội dung n\xfat",propName:"buttonText",placeholder:"Nội dung n\xfat",type:"text"}),(0,l.jsx)(g.B,{}),(0,l.jsx)(b.v,{}),(0,l.jsx)(f.n,{})]});case R.ICON:return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsx)("div",{className:"text-gray-700 mb-1",children:"M\xe0u sắc n\xfat"}),(0,l.jsx)(u.R,{isColor:!0,isBackground:!0,colorTitle:"M\xe0u chữ"})]})]});case R.BORDER:return(0,l.jsx)(x.j,{});case R.BOX_SHADOW:return(0,l.jsx)(p.O,{});case R.TRANSITION:return(0,l.jsx)(h.C,{});default:return(0,l.jsx)(l.Fragment,{})}}()})})]})})]})}}}},1619:function(e,t,n){"use strict";n.d(t,{e:function(){return en}});var r=n(59499),a=n(19848),o=n.n(a),i=n(67294),s=n(67623),c=n(34304),l=n(93773),d=n(63054),u=n(56084),x=n(35959),p=n(42179),f=n(15720),h=n(77341),m=n(33299),g=n(90072),b=n(38289),j=n(81567),y=n(71230),v=n(15746),w=n(24435),k=[{value:"none",label:"Kh\xf4ng c\xf3"},{value:"float",label:"Bay lơ lửng"},{value:"bounce",label:"Nảy"},{value:"pulse",label:"Nhấp nh\xe1y"},{value:"rotate",label:"Xoay tr\xf2n"},{value:"shake",label:"Lắc"},{value:"wiggle",label:"Lắc lư"},{value:"wobble",label:"Lắc lư nh\xfan nhảy"}],N={type:"wobble",duration:2,delay:0},C=function(){var e=(0,s.Zo)(function(e){return{continuousAnimation:e.data.props.continuousAnimation}}).continuousAnimation||N;return{animationConfig:e,getAnimationStyle:function(){if(!e||"none"===e.type)return{};var t=e.type,n=e.duration,r=e.delay;return{animationName:"animation-".concat(t),animationDuration:"".concat(n,"s"),animationDelay:"".concat(r,"s"),animationIterationCount:"infinite",animationTimingFunction:"rotate"===t?"linear":"ease-in-out"}}}},O=n(85893);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Z=j.Z.Option,E=function(e){var t=e.className,n=C().animationConfig,r=(0,s.Zo)().actions.setProp,a=function(e){r(function(t){t.continuousAnimation=T(T({},t.continuousAnimation),e)})};return(0,O.jsxs)("div",{className:void 0===t?"":t,children:[(0,O.jsxs)("div",{className:"mb-3",children:[(0,O.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại chuyển động"}),(0,O.jsx)(j.Z,{value:n.type,onChange:function(e){a({type:e})},className:"w-full",placeholder:"Chọn loại chuyển động",children:k.map(function(e){return(0,O.jsx)(Z,{value:e.value,children:e.label},e.value)})})]}),"none"!==n.type&&(0,O.jsxs)(y.Z,{gutter:12,children:[(0,O.jsx)(v.Z,{span:12,children:(0,O.jsxs)("div",{className:"mb-2",children:[(0,O.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thời gian (gi\xe2y)"}),(0,O.jsx)(w.Z,{min:.5,max:10,step:.5,value:n.duration,onChange:function(e){a({duration:e||2})},className:"w-full",placeholder:"2"})]})}),(0,O.jsx)(v.Z,{span:12,children:(0,O.jsxs)("div",{className:"mb-2",children:[(0,O.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Độ trễ (gi\xe2y)"}),(0,O.jsx)(w.Z,{min:0,max:5,step:.5,value:n.delay,onChange:function(e){a({delay:e||0})},className:"w-full",placeholder:"0"})]})})]})]})},D=n(76975),P=n(86745),R=n(84249),I=n(22567),A=n(83622),z=n(85518),B=n(53298),_=n(80122),F=n(94016),M=function(e){var t=e.visible,n=e.onClose,r=e.accounts,a=e.title,o=e.isPreview;return(0,O.jsx)(B.u,{appear:!0,show:t,as:i.Fragment,children:(0,O.jsxs)(_.Vq,{style:{zIndex:99999999999},as:"div",className:"relative",onClose:n,children:[(0,O.jsx)(B.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,O.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,O.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,O.jsx)(B.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,O.jsxs)(_.Vq.Panel,{className:"w-full max-w-xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:[(0,O.jsx)("div",{className:"px-4 py-4",children:(0,O.jsx)(F.Z,{accounts:r,isLoading:!1,mainTitle:void 0===a?"Hộp Qu\xe0 Y\xeau Thương":a,isPreview:void 0!==o&&o})}),(0,O.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-center",children:(0,O.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:n,children:"Đ\xf3ng"})})]})})})})]})})},H=function(){var e=z.tq||z.Em,t=(0,s.Zo)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,modalTitle:e.data.props.modalTitle,qrBankAccounts:e.data.props.qrBankAccounts}}),n=t.id,r=t.imgKey,a=t.modalTitle,o=t.qrBankAccounts,c=(0,R.eQ)(r),l=(0,i.useState)(!1),d=l[0],u=l[1],x=(0,P.Hj)(),p=x.setReplacing,f=x.setReplaceType,h=x.setSelectedNodeId,m=x.isReplacing,g=x.resetReplaceItem,b=(0,P.Dk)().setActiveKey,j=function(){u(!0)};(0,i.useEffect)(function(){return function(){m&&(g(),b(null))}},[m]);var y=0===o.length?[{id:"mockup-1",name:"T\xean C\xf4 D\xe2u",accountNumber:"12345678901",bank:"Vietcombank",qrCode:"",displayName:"C\xf4 d\xe2u",type:"bride"},{id:"mockup-2",name:"T\xean Ch\xfa Rể",accountNumber:"01234567890",bank:"BIDV",qrCode:"",displayName:"Ch\xfa rể",type:"groom"}]:o,v=e?50:100;return(0,O.jsxs)("div",{className:"my-4 flex justify-around items-center",children:[(0,O.jsxs)("div",{className:"flex justify-center flex-col gap-2 items-center",children:[(0,O.jsx)("div",{className:"preview-container",style:{padding:10,border:"1px solid #d9d9d9",borderRadius:"8px",backgroundColor:"#fafafa",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center"},onClick:j,onMouseEnter:function(e){e.currentTarget.style.borderColor="#1677ff",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseLeave:function(e){e.currentTarget.style.borderColor="#d9d9d9",e.currentTarget.style.boxShadow="none"},children:(0,O.jsx)("div",{style:{width:v,height:v,backgroundImage:"url(".concat(c,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",borderRadius:"4px"}})}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(A.ZP,{color:"primary",type:"primary",size:"small",onClick:function(){var e=D.Ey.MATERIAL;p(!0),f("material"),b(e),h(n)},className:"flex items-center gap-2 text-sm",children:[(0,O.jsx)(I.JO,{icon:"solar:gallery-wide-bold",className:"w-5 h-5"}),"Đổi icon"]}),(0,O.jsxs)(A.ZP,{type:"default",size:"small",onClick:j,className:"flex items-center gap-2 text-sm",children:[(0,O.jsx)(I.JO,{icon:"solar:eye-bold",className:"w-5 h-5"}),"Xem trước"]})]})]}),(0,O.jsx)(M,{visible:d,onClose:function(){return u(!1)},accounts:y,title:a||"Xem trước QR Bank",isPreview:0===o.length})]})};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var X=n(99101),K=n(57581),q=n(17018),W=n(35282),Y=n(29786),G=n(20380);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J={QR_BANK:"QR Bank",TITLE:"Ti\xeau đề",COLORS:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động",ANIMATION:"Chuyển động"};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et={top:10,left:10,width:100,height:100,backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,locked:!1,transition:p.b,imgKey:"resources/flowchartIcons/bc7ro23uqhun7ge954163l.png",qrBankAccounts:[],modalTitle:"Hộp Qu\xe0 Y\xeau Thương",continuousAnimation:{type:"wobble",duration:2,delay:0}},en=function(e){var t=(0,i.useRef)(null),n=(0,i.useState)([]),r=n[0],a=n[1],c=(0,i.useState)(!1),l=c[0],d=c[1],u=(0,i.useState)(!1),x=u[0],f=u[1],h=e=ee(ee({},et),e),m=h.top,g=h.left,b=h.height,j=h.width,y=h.opacity,v=h.backgroundColor,w=h.shadow,k=h.padding,N=h.borderRadius,S=h.rotation,T=h.flipX,Z=h.flipY,E=h.borderPosition,D=h.borderSize,P=h.borderStyle,I=h.borderColor,A=h.hasShadow,z=h.boxShadow,B=h.imgKey,_=h.zIndex,F=h.locked,H=h.transition,L=h.qrBankAccounts,U=h.modalTitle;h.continuousAnimation;var q=H||p.b,W=C().getAnimationStyle,Y=(0,s.Zo)(function(e){return{active:e.events.selected,id:e.id}}),G=Y.connectors.connect,V=Y.actions.setProp,Q=Y.active,J=Y.id,$=(0,s.jE)(function(e){return{enabled:e.options.enabled}}).enabled;(0,i.useEffect)(function(){if(Q&&$){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==J}))}},[Q,$,J]);var en=(0,i.useState)({width:0,height:0,left:0,top:0}),er=en[0],ea=en[1],eo=(0,i.useState)(null),ei=eo[0],es=eo[1];(0,i.useEffect)(function(){if(Q&&$){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ea({width:t.width,height:t.height,left:t.left,top:t.top}),es(e)}}},[Q,$]);var ec=function(){switch(E){case"all":return{border:"".concat(D,"px ").concat(P," ").concat(I)};case"top":return{borderTop:"".concat(D,"px ").concat(P," ").concat(I)};case"bottom":return{borderBottom:"".concat(D,"px ").concat(P," ").concat(I)};case"right":return{borderRight:"".concat(D,"px ").concat(P," ").concat(I)};case"left":return{borderLeft:"".concat(D,"px ").concat(P," ").concat(I)};case"top-bottom":return{borderTop:"".concat(D,"px ").concat(P," ").concat(I),borderBottom:"".concat(D,"px ").concat(P," ").concat(I)};case"right-left":return{borderRight:"".concat(D,"px ").concat(P," ").concat(I),borderLeft:"".concat(D,"px ").concat(P," ").concat(I)};case"upper-left":return{borderTop:"".concat(D,"px ").concat(P," ").concat(I),borderLeft:"".concat(D,"px ").concat(P," ").concat(I)};case"upper-right":return{borderTop:"".concat(D,"px ").concat(P," ").concat(I),borderRight:"".concat(D,"px ").concat(P," ").concat(I)};case"lower-left":return{borderBottom:"".concat(D,"px ").concat(P," ").concat(I),borderLeft:"".concat(D,"px ").concat(P," ").concat(I)};case"lower-right":return{borderBottom:"".concat(D,"px ").concat(P," ").concat(I),borderRight:"".concat(D,"px ").concat(P," ").concat(I)};default:return{}}}();return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{"data-node-id":J,ref:function(e){e&&(G(e),t.current=e)},style:{position:"absolute",top:"".concat(m,"px"),left:"".concat(g,"px"),width:"".concat(j,"px"),height:"".concat(b,"px"),zIndex:_,cursor:$?"move":"default",transform:"rotate(".concat(S,"deg) scale(").concat(T?-1:1,", ").concat(Z?-1:1,")")},className:"jsx-3664286752",children:(0,O.jsx)(K.Z,{transition:q,targetRef:t,enabled:$,nodeId:J,onTransitionStart:function(){d(!0)},onTransitionEnd:function(){d(!1)},children:(0,O.jsx)("div",{style:ee(ee({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:v,textShadow:"0px 0px 2px rgba(0,0,0,".concat((w||0)/100,")"),opacity:y,padding:"".concat(k[0],"px ").concat(k[1],"px ").concat(k[2],"px ").concat(k[3],"px")},ec),{},{borderRadius:"".concat(N[0],"px \n              ").concat(N[1],"px \n              ").concat(N[2],"px \n              ").concat(N[3],"px"),boxShadow:A?"".concat(z.offsetX,"px ").concat(z.offsetY,"px ").concat(z.blur,"px ").concat(z.spread,"px ").concat(z.color):"none",cursor:!$&&L&&L.length>0?"pointer":$?"move":"default"},W()),onClick:function(e){e.stopPropagation(),!$&&L&&L.length>0&&f(!0)},className:"jsx-3664286752",children:(0,O.jsx)("div",{className:"jsx-3664286752 qr-box-component",children:(0,O.jsx)("div",{style:{backgroundImage:"url(".concat((0,R.eQ)(B),")")},className:"jsx-3664286752 photo-bg-wrap"})})})})}),Q&&$&&t.current&&!l&&(0,O.jsx)(X.Z,{target:t.current,container:ei,otherElements:r,containerBounds:er,currentProps:{top:m,left:g,width:j,height:b,rotation:S,flipX:T,flipY:Z,locked:F},onUpdateProps:function(e){V(function(t){Object.assign(t,e)})}}),(0,O.jsx)(o(),{id:"3664286752",children:[".qr-box-component.jsx-3664286752{width:100%;height:100%;}",".qr-box-component.jsx-3664286752 img.jsx-3664286752{width:100%;height:100%;-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;}",".qr-box-component.jsx-3664286752 .photo-bg-wrap.jsx-3664286752{width:100%;height:100%;background-size:contain;background-position:50% 50%;background-repeat:no-repeat;background-clip:border-box;}"]}),(0,O.jsx)(M,{visible:x,onClose:function(){return f(!1)},accounts:L||[],title:U})]})};en.craft={displayName:"Qr Box",props:et,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e,t=(0,g.X2)(),n=t.settings,r=t.setQRBankAccounts,a=(0,m.useSession)().data,o=(null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.plan)||"free",j=(0,s.Zo)(function(e){return{modalTitle:e.data.props.modalTitle}}).modalTitle,y=(0,s.Zo)().actions.setProp,v=(0,i.useState)([]),w=v[0],k=v[1];(0,i.useEffect)(function(){n.qrBankAccounts&&(k(n.qrBankAccounts.map(function(e){return U(U({},e),{},{id:e.id||Date.now().toString()})})),y(function(e){e.qrBankAccounts=n.qrBankAccounts}))},[n.qrBankAccounts]);var N=function(e){y(function(t){t.modalTitle=e})};return(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)("div",{className:"mb-3 text-sm text-gray-600 italic",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng. Khi click v\xe0o icon n\xe0y sẽ hiển thị danh s\xe1ch QR code."}),(0,O.jsx)(H,{}),(0,O.jsxs)(c.Z2,{title:"Th\xf4ng tin m\xe3 QR",defaultOpen:!0,children:[(0,O.jsx)(h.Z,{qrBankAccounts:w,onAccountsChange:function(e){k(e),r(e),y(function(t){t.qrBankAccounts=e})},userPlan:o,disabled:!1}),(0,O.jsxs)("div",{className:"mt-3",children:[(0,O.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ti\xeau đề khi hiển thị"}),(0,O.jsx)(b.Z,{placeholder:"Nhập ti\xeau đề",value:j||"",onChange:function(e){return N(e.target.value)},className:"w-full"})]})]}),(0,O.jsxs)(c.Z2,{title:"M\xe0u sắc",children:[(0,O.jsx)(l.R,{isColor:!1,isBackground:!0}),(0,O.jsx)(x.n,{})]}),(0,O.jsx)(c.Z2,{title:"Khoảng đệm",children:(0,O.jsx)(f.I,{})}),(0,O.jsx)(c.Z2,{title:"Đường viền",children:(0,O.jsx)(d.j,{})}),(0,O.jsx)(c.Z2,{title:"Đổ b\xf3ng",children:(0,O.jsx)(u.O,{})}),(0,O.jsx)(c.Z2,{title:"Hiệu ứng chuyển động",children:(0,O.jsx)(p.C,{})}),(0,O.jsx)(c.Z2,{title:"Chuyển động li\xean tục",children:(0,O.jsx)(E,{})})]})},mobileToolbar:function(){var e,t=(0,i.useState)(null),n=t[0],r=t[1],a=(0,i.useState)(!1),o=a[0],c=a[1],j=(0,g.X2)(),y=j.settings,v=j.setQRBankAccounts,w=(0,m.useSession)().data,k=(null==w?void 0:null===(e=w.user)||void 0===e?void 0:e.plan)||"free",N=(0,s.Zo)(function(e){return{modalTitle:e.data.props.modalTitle}}).modalTitle,C=(0,s.Zo)().actions.setProp,S=(0,P.Hj)(),T=S.isReplacing,Z=S.resetReplaceItem,D=S.replaceType,R=(0,P.Dk)().setActiveKey,I=(0,i.useState)([]),A=I[0],z=I[1];(0,i.useEffect)(function(){y.qrBankAccounts&&(z(y.qrBankAccounts.map(function(e){return Q(Q({},e),{},{id:e.id||Date.now().toString()})})),C(function(e){e.qrBankAccounts=y.qrBankAccounts}))},[y.qrBankAccounts]);var B=function(e){z(e),v(e),C(function(t){t.qrBankAccounts=e})},_=function(e){C(function(t){t.modalTitle=e})};(0,i.useEffect)(function(){T&&"material"===D&&c(!0)},[T,D]);var F=function(){c(!1),T&&(Z(),R(null))},M=function(e){r(e)};return(0,O.jsxs)(i.Fragment,{children:[(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.p_2,{size:20}),label:J.QR_BANK,onClick:function(){return M(J.QR_BANK)}}),(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.Gyp,{size:20}),label:J.TITLE,onClick:function(){return M(J.TITLE)}}),(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.l9F,{size:20}),label:J.COLORS,onClick:function(){return M(J.COLORS)}}),(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.cWl,{size:20}),label:J.PADDING,onClick:function(){return M(J.PADDING)}}),(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.QT8,{size:20}),label:J.BORDER,onClick:function(){return M(J.BORDER)}}),(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.HkK,{size:20}),label:J.BOX_SHADOW,onClick:function(){return M(J.BOX_SHADOW)}}),(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.AO4,{size:20}),label:J.TRANSITION,onClick:function(){return M(J.TRANSITION)}}),(0,O.jsx)(q.Z,{icon:(0,O.jsx)(W.Dbk,{size:20}),label:J.ANIMATION,onClick:function(){return M(J.ANIMATION)}}),(0,O.jsx)(Y.GI,{visible:!!n,showCloseButton:!0,onClose:function(){r(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"50vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,O.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,O.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,O.jsx)("h3",{className:"text-lg font-semibold text-center",children:n})}),(0,O.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(50vh - 60px)",minHeight:"200px"},children:(0,O.jsx)("div",{className:"setting-content",children:function(){switch(n){case J.QR_BANK:return(0,O.jsxs)("div",{className:"py-2",children:[(0,O.jsx)("div",{className:"mb-3 text-sm text-gray-600 italic",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng. Khi click v\xe0o icon n\xe0y sẽ hiển thị danh s\xe1ch QR code."}),(0,O.jsx)(H,{}),(0,O.jsx)(h.Z,{qrBankAccounts:A,onAccountsChange:B,userPlan:k,disabled:!1})]});case J.TITLE:return(0,O.jsx)("div",{className:"py-2",children:(0,O.jsxs)("div",{className:"mb-3",children:[(0,O.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ti\xeau đề khi hiển thị"}),(0,O.jsx)(b.Z,{placeholder:"Nhập ti\xeau đề",value:N||"",onChange:function(e){return _(e.target.value)},className:"w-full"})]})});case J.COLORS:return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"my-4",children:[(0,O.jsx)("div",{className:"text-gray-700 mb-3",children:"M\xe0u sắc nền"}),(0,O.jsx)(l.R,{isColor:!1,isBackground:!0,colorTitle:"M\xe0u nền"})]}),(0,O.jsx)(x.n,{})]});case J.PADDING:return(0,O.jsx)(f.I,{});case J.BORDER:return(0,O.jsx)(d.j,{});case J.BOX_SHADOW:return(0,O.jsx)(u.O,{});case J.TRANSITION:return(0,O.jsx)(p.C,{});case J.ANIMATION:return(0,O.jsx)(E,{});default:return(0,O.jsx)(O.Fragment,{})}}()})})]})}),(0,O.jsx)(Y.GI,{visible:o,onMaskClick:F,position:"bottom",bodyStyle:{height:"60vh"},children:(0,O.jsx)(G.Z,{isMobile:!0,onClose:F})})]})}}}},96812:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}}),n(67294);var r=n(19848),a=n.n(r),o=n(85893),i=function(e){var t,n=e.address,r=e.coordinates,i=e.width,s=e.height,c=e.zoom,l=void 0===c?14:c,d=e.borderRadius,u=void 0===d?[0,0,0,0]:d;if(r&&0!==r.lat&&0!==r.lng)t="https://maps.google.com/maps?q=".concat(r.lat,",").concat(r.lng,"&t=&z=").concat(l,"&ie=UTF8&iwloc=&output=embed");else if(n){var x=encodeURIComponent(n);t="https://maps.google.com/maps?q=".concat(x,"&t=&z=").concat(l,"&ie=UTF8&iwloc=&output=embed")}else t="https://maps.google.com/maps?q=21.0285,105.8542&t=&z=".concat(l,"&ie=UTF8&iwloc=&output=embed");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{width:void 0===i?"100%":i,height:void 0===s?"100%":s},className:"jsx-1691086756 simple-map-container",children:(0,o.jsx)("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0,borderRadius:"".concat(u[0],"px ").concat(u[1],"px ").concat(u[2],"px ").concat(u[3],"px")},src:t,allowFullScreen:!0,className:"jsx-1691086756"})}),(0,o.jsx)(a(),{id:"1691086756",children:[".simple-map-container.jsx-1691086756{position:relative;overflow:hidden;}"]})]})},s=n(83622),c=n(83062),l=n(35282),d=n(61121),u=n(67623),x=n(38983),p=function(e){var t=e.address,n=e.coordinates,r=e.borderRadius,a=e.mapView,p=void 0!==a&&a,f=e.onToggleMapView,h=void 0===f?function(){}:f,m=(0,u.jE)(function(e){return{enabled:e.options.enabled}}).enabled,g=(0,x.i)(n);return(0,o.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[m&&(0,o.jsx)(s.ZP,{style:{position:"absolute",top:5,right:5,zIndex:2,padding:"15px 25px",border:"1px solid #ccc"},onClick:function(){h(!p)},children:(0,o.jsx)(c.Z,{title:p?"Di chuyển":"Thao t\xe1c bản đồ",children:p?(0,o.jsx)(d.wI4,{size:24}):(0,o.jsx)(l.rum,{size:24})})}),m&&!p&&(0,o.jsx)("div",{style:{width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.2)",position:"absolute",zIndex:1}}),(0,o.jsx)(i,{address:t,coordinates:g,borderRadius:void 0===r?[0,0,0,0]:r})]})}},44908:function(e,t,n){"use strict";n.d(t,{o:function(){return T}});var r=n(59499),a=n(67294),o=n(67623),i=n(76975),s=n(99101),c=n(15720),l=n(99621),d=n(63054),u=n(56084),x=n(35959),p=n(42179),f=n(34304),h=n(32152),m=n(93773),g=n(85893),b=n(96812),j=n(57581),y=n(17018),v=n(35282),w=n(29786),k={MAP_TYPE:"Loại bản đồ",CUSTOMIZE:"Tuỳ chỉnh bản đồ",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"},N=n(7764);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S={top:10,left:10,width:i.Yx.mapWidth,height:i.Yx.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},mapType:"simple",mapCoordinates:void 0,address:"",backgroundColor:"transparent",listingTitle:"Cinelove Wedding",listingDescription:"Nhấn để xem đường đi v\xe0 c\xf9ng nhau đến bữa tiệc ngọt ng\xe0o ♥",galleryImageUrl:"".concat(N.Z.CDN_URL,"/images/map-pin-heart-dreamy.jpg"),zIndex:0,locked:!1,transition:p.b},T=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)([]),r=n[0],i=n[1],c=(0,a.useState)(!1),l=c[0],d=c[1],u=e=O(O({},S),e),x=u.top,f=u.left,h=u.height,m=u.width,y=u.opacity,v=(u.shadow,u.padding),w=u.borderRadius,k=u.rotation,N=u.borderPosition,C=u.borderSize,T=u.borderStyle,Z=u.borderColor,E=u.hasShadow,D=u.boxShadow,P=(u.mapType,u.mapCoordinates),R=u.address,I=u.backgroundColor,A=(u.listingTitle,u.listingDescription,u.galleryImageUrl,u.zIndex),z=u.locked,B=u.transition,_=function(){switch(N){case"all":return{border:"".concat(C,"px ").concat(T," ").concat(Z)};case"top":return{borderTop:"".concat(C,"px ").concat(T," ").concat(Z)};case"bottom":return{borderBottom:"".concat(C,"px ").concat(T," ").concat(Z)};case"right":return{borderRight:"".concat(C,"px ").concat(T," ").concat(Z)};case"left":return{borderLeft:"".concat(C,"px ").concat(T," ").concat(Z)};case"top-bottom":return{borderTop:"".concat(C,"px ").concat(T," ").concat(Z),borderBottom:"".concat(C,"px ").concat(T," ").concat(Z)};case"right-left":return{borderRight:"".concat(C,"px ").concat(T," ").concat(Z),borderLeft:"".concat(C,"px ").concat(T," ").concat(Z)};case"upper-left":return{borderTop:"".concat(C,"px ").concat(T," ").concat(Z),borderLeft:"".concat(C,"px ").concat(T," ").concat(Z)};case"upper-right":return{borderTop:"".concat(C,"px ").concat(T," ").concat(Z),borderRight:"".concat(C,"px ").concat(T," ").concat(Z)};case"lower-left":return{borderBottom:"".concat(C,"px ").concat(T," ").concat(Z),borderLeft:"".concat(C,"px ").concat(T," ").concat(Z)};case"lower-right":return{borderBottom:"".concat(C,"px ").concat(T," ").concat(Z),borderRight:"".concat(C,"px ").concat(T," ").concat(Z)};default:return{}}}(),F=(0,o.Zo)(function(e){return{active:e.events.selected,id:e.id}}),M=F.connectors.connect,H=F.actions.setProp,L=F.active,U=F.id,X=(0,o.jE)(function(e){return{enabled:e.options.enabled}}).enabled,K=B||p.b,q=(0,a.useState)(!1),W=q[0],Y=q[1];(0,a.useEffect)(function(){if(L&&X){var e=document.querySelector("#root-page-container");e&&i(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==U}))}},[L,X,U]);var G=(0,a.useState)({width:0,height:0,left:0,top:0}),V=G[0],Q=G[1],J=(0,a.useState)(null),$=J[0],ee=J[1];return(0,a.useEffect)(function(){if(L&&X){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();Q({width:t.width,height:t.height,left:t.left,top:t.top}),ee(e)}}},[L,X]),(0,a.useEffect)(function(){if(t.current){var e;i(Array.from((null===(e=t.current.parentElement)||void 0===e?void 0:e.children)||[]).filter(function(e){return e!==t.current}))}},[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{ref:function(e){e&&(M(e),t.current=e)},style:{position:"absolute",top:"".concat(x,"px"),left:"".concat(f,"px"),width:"".concat(m,"px"),height:"".concat(h,"px"),transform:"rotate(".concat(k,"deg)"),zIndex:A},className:"relative",children:(0,g.jsx)(j.Z,{transition:K,targetRef:t,enabled:X,nodeId:U,onTransitionStart:function(){Y(!0)},onTransitionEnd:function(){Y(!1)},children:(0,g.jsx)("div",{style:O(O({position:"relative",width:"100%",height:"100%",opacity:y,padding:"".concat(v[0],"px ").concat(v[1],"px ").concat(v[2],"px ").concat(v[3],"px"),borderRadius:"".concat(w[0],"px ").concat(w[1],"px ").concat(w[2],"px ").concat(w[3],"px")},_),{},{boxShadow:E?"".concat(D.offsetX,"px ").concat(D.offsetY,"px ").concat(D.blur,"px ").concat(D.spread,"px ").concat(D.color):"none",backgroundColor:I}),children:(0,g.jsx)(b.Z,{address:R,coordinates:P,borderRadius:w,mapView:l,onToggleMapView:function(e){return d(e)}})})})}),L&&X&&t.current&&!l&&!W&&(0,g.jsx)(s.Z,{target:t.current,container:$,otherElements:r,containerBounds:V,currentProps:{top:x,left:f,width:m,height:h,rotation:k,flipX:!1,flipY:!1,locked:z},onUpdateProps:function(e){H(function(t){Object.assign(t,e)})}})]})};T.craft={displayName:"Bản đồ",props:S,related:{toolbar:function(){return(0,o.Zo)(function(e){return{mapType:e.data.props.mapType}}).mapType,(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(f.Z2,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:(0,g.jsx)(h.B,{})}),(0,g.jsxs)(f.Z2,{title:"M\xe0u sắc",children:[(0,g.jsx)(m.R,{isColor:!1,isBackground:!0}),(0,g.jsx)(x.n,{})]}),(0,g.jsxs)(f.Z2,{title:"Khoảng đệm",children:[(0,g.jsx)(c.I,{}),(0,g.jsx)(l.J,{})]}),(0,g.jsx)(f.Z2,{title:"Đường viền",children:(0,g.jsx)(d.j,{})}),(0,g.jsx)(f.Z2,{title:"Đổ b\xf3ng",children:(0,g.jsx)(u.O,{})}),(0,g.jsx)(f.Z2,{title:"Hiệu ứng chuyển động",children:(0,g.jsx)(p.C,{})})]})},mobileToolbar:function(){var e=(0,a.useState)(null),t=e[0],n=e[1];(0,o.Zo)(function(e){return{mapType:e.data.props.mapType}}).mapType;var r=function(e){n(e)};return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(y.Z,{icon:(0,g.jsx)(v.mkx,{size:20}),label:"Tuỳ chỉnh bản đồ",onClick:function(){return r(k.CUSTOMIZE)}}),(0,g.jsx)(y.Z,{icon:(0,g.jsx)(v.l9F,{size:20}),label:"M\xe0u sắc",onClick:function(){return r(k.COLOR)}}),(0,g.jsx)(y.Z,{icon:(0,g.jsx)(v.cWl,{size:20}),label:k.PADDING,onClick:function(){return r(k.PADDING)}}),(0,g.jsx)(y.Z,{icon:(0,g.jsx)(v.QT8,{size:20}),label:k.BORDER,onClick:function(){return r(k.BORDER)}}),(0,g.jsx)(y.Z,{icon:(0,g.jsx)(v.HkK,{size:20}),label:k.BOX_SHADOW,onClick:function(){return r(k.BOX_SHADOW)}}),(0,g.jsx)(y.Z,{icon:(0,g.jsx)(v.AO4,{size:20}),label:k.TRANSITION,onClick:function(){return r(k.TRANSITION)}}),(0,g.jsx)(w.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,g.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,g.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,g.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,g.jsx)("div",{className:"setting-content",children:function(){switch(t){case k.CUSTOMIZE:return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.B,{})});case k.COLOR:return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.R,{isColor:!1,isBackground:!0}),(0,g.jsx)(x.n,{})]});case k.PADDING:return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.I,{}),(0,g.jsx)(l.J,{})]});case k.BORDER:return(0,g.jsx)(d.j,{});case k.BOX_SHADOW:return(0,g.jsx)(u.O,{});case k.TRANSITION:return(0,g.jsx)(p.C,{});default:return(0,g.jsx)(g.Fragment,{})}}()})})]})})]})}},rules:{canDrag:!0,canResize:!0,canDelete:!0,canMoveIn:!1}}},77680:function(e,t,n){"use strict";n.d(t,{z:function(){return K}});var r=n(59499),a=n(19848),o=n.n(a),i=n(67623),s=n(67294),c=n(61512),l=n.n(c),d=n(34304),u=n(85970),x=n(4846),p=n(76071),f=n(93773),h=n(32265),m=n(15720),g=n(99621),b=n(63054),j=n(56084),y=n(35959),v=n(42179),w=n(85518),k=n(25593),N=n(13721),C=n(85893),O=k.Z.Text,S=function(){var e=(0,i.Zo)(function(e){return{text:e.data.props.text||""}}),t=e.actions.setProp,n=e.text,r=(0,s.useState)(0),a=r[0],o=r[1],c=(0,s.useState)(""),l=c[0],d=c[1];(0,s.useEffect)(function(){var e=document.createElement("div");e.innerHTML=n,o((e.textContent||"").length),d(n)},[n]);var u=function(e){if(e.length<=1e3){var n=e.replace(/\n/g,"<br>").replace(/\r/g,"");t(function(e){e.text=n}),d(e),o(e.length)}};return(0,C.jsxs)("div",{className:"space-y-2 px-1 py-2",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)(N.__,{htmlFor:"text-content",value:"Nội dung văn bản",className:"text-sm font-medium text-gray-700"}),(0,C.jsxs)(O,{className:"text-xs text-gray-500",children:[a,"/",1e3]})]}),(0,C.jsx)(N.gx,{id:"text-content",value:l.replace(/<br>/g,"\n"),onChange:function(e){return u(e.target.value)},placeholder:"Nhập nội dung văn bản của bạn...",rows:4,maxLength:1e3,className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 resize-none",helperText:(0,C.jsx)(O,{className:"text-xs text-gray-500 mt-1",children:"Nhấn Enter để xuống d\xf2ng"})})]})},T=n(2453),Z=n(38289),E=n(83062),D=n(83622),P=n(29158),R=n(48689),I=n(58638),A=n(33299),z=function(){var e,t=(0,A.useSession)().data,n=(0,i.Zo)(function(e){return{hyperlink:e.data.props.hyperlink||""}}),r=n.actions.setProp,a=n.hyperlink,o=(0,s.useState)(a),c=o[0],l=o[1],d=(0,s.useState)(!0),u=d[0],x=d[1];(0,s.useEffect)(function(){l(a)},[a]);var p=function(e){if(!e.trim())return!0;try{var t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}},f=(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.plan)==="free",h=!c.trim(),m=c!==a;return(0,C.jsxs)("div",{className:"space-y-3",children:[f&&(0,C.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,C.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,C.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng n\xe2ng cao:"})," Th\xeam hyperlink chỉ d\xe0nh cho g\xf3i Basic trở l\xean.",(0,C.jsx)("br",{}),(0,C.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=hyperlink-setting","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(P.Z,{className:"text-blue-500"}),(0,C.jsx)("label",{className:"text-sm font-medium ".concat(f?"text-gray-500":""),children:"Hyperlink (T\xf9y chọn)"})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)(Z.Z,{placeholder:"https://example.com",value:c,onChange:function(e){if(!f){var t=e.target.value;l(t),x(p(t))}},status:u?"":"error",prefix:(0,C.jsx)(P.Z,{}),disabled:f,suffix:!h&&!f&&(0,C.jsx)(E.Z,{title:"X\xf3a link",children:(0,C.jsx)(D.ZP,{type:"text",size:"small",icon:(0,C.jsx)(R.Z,{}),onClick:function(){f||(l(""),x(!0),r(function(e){e.hyperlink=""}),T.ZP.success("Đ\xe3 x\xf3a hyperlink"))},className:"text-red-500 hover:text-red-700"})})}),!u&&(0,C.jsx)("div",{className:"text-xs text-red-500",children:"URL kh\xf4ng hợp lệ. Vui l\xf2ng nhập URL bắt đầu bằng http:// hoặc https://"}),u&&c.trim()&&(0,C.jsx)("div",{className:"text-xs text-gray-500",children:"Link sẽ mở trong tab mới khi click"})]}),(0,C.jsxs)("div",{className:"flex gap-2",children:[m&&!f&&(0,C.jsx)(D.ZP,{type:"primary",size:"small",onClick:function(){if(f){T.ZP.warning("T\xednh năng hyperlink chỉ d\xe0nh cho g\xf3i Basic trở l\xean");return}if(!u){T.ZP.error("Vui l\xf2ng nhập URL hợp lệ (bắt đầu bằng http:// hoặc https://)");return}r(function(e){e.hyperlink=c.trim()}),T.ZP.success("Đ\xe3 cập nhật hyperlink")},disabled:!u,children:"Lưu"}),a&&u&&!f&&(0,C.jsx)(D.ZP,{type:"default",size:"small",icon:(0,C.jsx)(I.Z,{}),onClick:function(){a&&u&&window.open(a,"_blank")},children:"Kiểm tra"})]})]})},B=n(26294),_=n(99101),F=n(57581),M=n(17018),H=n(35282),L=n(29786),U={EDIT:"Sửa",STYLE:"Kiểu chữ",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",HYPERLINK:"Li\xean kết",TRANSITION:"Hiệu ứng động"};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var K=function(e){var t,n=e.fontSize,a=e.textAlign,c=e.fontWeight,d=e.color,u=e.backgroundColor,x=e.shadow,p=e.text,f=e.padding,h=e.top,m=e.left,g=e.width,b=e.fontFamily,j=e.letterSpacing,y=e.lineHeight,w=e.opacity,k=e.textTransform,N=e.textDecoration,O=e.fontStyle,S=e.borderRadius,T=e.rotation,Z=e.borderPosition,E=e.borderSize,D=e.borderStyle,P=e.borderColor,R=e.hasShadow,I=e.boxShadow,A=e.zIndex,z=e.locked,M=e.transition,H=void 0===M?v.b:M,L=e.hyperlink,U=(0,i.Zo)(function(e){return{active:e.events.selected,id:e.id}}),K=U.connectors.connect,q=U.actions.setProp,W=U.id,Y=U.active,G=(0,i.jE)(function(e){return{enabled:e.options.enabled}}).enabled,V=H||v.b,Q=(0,s.useRef)(null),J=(0,s.useState)([]),$=J[0],ee=J[1],et=(0,s.useState)({width:0,height:0,left:0,top:0}),en=et[0],er=et[1],ea=(0,s.useState)(null),eo=ea[0],ei=ea[1],es=(0,s.useState)(!1),ec=es[0],el=es[1];(0,s.useEffect)(function(){b&&"Arial"!==b&&(0,B.af)(b)},[b]),(0,s.useEffect)(function(){if(Y&&G){var e=document.querySelector("#root-page-container");e&&ee(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==W}))}},[Y,G,W]),(0,s.useEffect)(function(){if(Y&&G){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();er({width:t.width,height:t.height,left:t.left,top:t.top}),ei(e)}}},[Y,G]);var ed=(0,s.useRef)(!1),eu=(0,s.useState)(!1),ex=(eu[0],eu[1]),ep=(0,s.useState)(!1),ef=ep[0],eh=ep[1];(0,s.useRef)(null);var em=function(e){!G&&L&&L.trim()&&(e.preventDefault(),e.stopPropagation(),window.open(L,"_blank"))};(0,s.useEffect)(function(){!1===Y&&(ed.current=!1,ex(!1),eh(!1))},[Y]);var eg=g||en.width,eb=(0,s.useState)(!!g),ej=eb[0],ey=eb[1],ev=(0,s.useRef)(null);(0,s.useEffect)(function(){if(!ej&&ev.current&&Y){var e=ev.current.scrollWidth;Math.abs((g||0)-e)>10&&ew({width:e})}},[p,n,b,f,Y]);var ew=function(e){e.width&&ey(!0),q(function(t){Object.assign(t,e)})},ek=function(){switch(Z){case"all":return{border:"".concat(E,"px ").concat(D," ").concat(P)};case"top":return{borderTop:"".concat(E,"px ").concat(D," ").concat(P)};case"bottom":return{borderBottom:"".concat(E,"px ").concat(D," ").concat(P)};case"right":return{borderRight:"".concat(E,"px ").concat(D," ").concat(P)};case"left":return{borderLeft:"".concat(E,"px ").concat(D," ").concat(P)};case"top-bottom":return{borderTop:"".concat(E,"px ").concat(D," ").concat(P),borderBottom:"".concat(E,"px ").concat(D," ").concat(P)};case"right-left":return{borderRight:"".concat(E,"px ").concat(D," ").concat(P),borderLeft:"".concat(E,"px ").concat(D," ").concat(P)};case"upper-left":return{borderTop:"".concat(E,"px ").concat(D," ").concat(P),borderLeft:"".concat(E,"px ").concat(D," ").concat(P)};case"upper-right":return{borderTop:"".concat(E,"px ").concat(D," ").concat(P),borderRight:"".concat(E,"px ").concat(D," ").concat(P)};case"lower-left":return{borderBottom:"".concat(E,"px ").concat(D," ").concat(P),borderLeft:"".concat(E,"px ").concat(D," ").concat(P)};case"lower-right":return{borderBottom:"".concat(E,"px ").concat(D," ").concat(P),borderRight:"".concat(E,"px ").concat(D," ").concat(P)};default:return{}}}(),eN=b?(0,B.Rd)(b):"Arial";return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{"data-node-id":W,ref:function(e){e&&(K(e),Q.current=e)},style:{position:"absolute",top:"".concat(h,"px"),left:"".concat(m,"px"),width:"".concat(g||eg,"px"),height:"auto",zIndex:A,cursor:G?ef?"text":"move":L&&L.trim()?"pointer":"default",transform:"rotate(".concat(T,"deg)")},onDoubleClick:function(e){G&&(e.stopPropagation(),eh(!0),ex(!0),ed.current=!0,setTimeout(function(){if(ev.current){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(ev.current),null==e||e.removeAllRanges(),null==e||e.addRange(t)}},10))},onClick:em,onTouchEnd:em,className:o().dynamic([["794344833",[E||0,E||0]]])+" "+"text-box-component ".concat(ef?"text-box-editing":""),children:(0,C.jsx)(F.Z,{transition:V,targetRef:Q,enabled:G,nodeId:W,onTransitionStart:function(){el(!0)},onTransitionEnd:function(){el(!1)},children:(0,C.jsx)("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({position:"relative",width:"100%",height:"100%",padding:"".concat(f[0],"px ").concat(f[1],"px ").concat(f[2],"px ").concat(f[3],"px"),borderRadius:"".concat(S[0],"px \n            ").concat(S[1],"px \n            ").concat(S[2],"px \n            ").concat(S[3],"px"),boxShadow:R?"".concat(I.offsetX,"px ").concat(I.offsetY,"px ").concat(I.blur,"px ").concat(I.spread,"px ").concat(I.color):"none",backgroundColor:u,display:"flex",alignItems:"center",justifyContent:"center"===a?"center":"right"===a?"flex-end":"flex-start",boxSizing:"border-box",opacity:w},ek),className:o().dynamic([["794344833",[E||0,E||0]]]),children:(0,C.jsx)(l(),{html:p,disabled:!G||!ef,onFocus:function(){ef&&ex(!0)},onBlur:function(){ed.current=!1,eh(!1)},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=document.createElement("div");n.innerHTML=t;var r=n.textContent||n.innerText||"";q(function(e){return e.text=r},500)},onChange:function(e){q(function(t){return t.text=e.target.value},500)},tagName:"div",innerRef:ev,style:{height:"auto",width:"100%",minWidth:20,color:d,fontSize:"".concat(n,"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((x||0)/100,")"),fontWeight:c,fontFamily:eN,textAlign:a,lineHeight:y,letterSpacing:"".concat(j,"px"),textTransform:k,textDecoration:N,fontStyle:O,pointerEvents:ef?"auto":"none",overflow:"hidden",wordBreak:"break-word"}})})})}),Y&&G&&Q.current&&!ef&&!ec&&(0,C.jsx)(_.Z,{target:Q.current,container:eo,otherElements:$,containerBounds:en,currentProps:{top:h,left:m,width:g||eg,height:null===(t=ev.current)||void 0===t?void 0:t.scrollHeight,rotation:T,flipX:!1,flipY:!1,locked:z},onUpdateProps:ew,resizeDirections:["w","e"],keepRatio:!1}),(0,C.jsx)(o(),{id:"794344833",dynamic:[E||0,E||0],children:[".text-box-component.__jsx-style-dynamic-selector{height:auto !important;position:relative;}",'.text-box-editing.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px solid var(--color-primary);position:absolute;pointer-events:none;display:block;inset:-'.concat(E||0,"px;z-index:1;}"),'.text-box-component.component-hovered.__jsx-style-dynamic-selector::after{content:" ";box-sizing:content-box;border:1px dashed var(--color-primary);position:absolute;pointer-events:none;inset:-'.concat(E||0,"px;display:block;}")]})]})};K.craft={displayName:"Text Box",props:{fontSize:26,textAlign:"center",fontWeight:"500",fontFamily:"Arial",lineHeight:"normal",letterSpacing:"0",textTransform:"none",textDecoration:"none",color:"#000000",backgroundColor:"transparent",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,text:"Text",top:10,left:10,width:200,height:50,fontStyle:"normal",borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0,locked:!1,hyperlink:""},related:{toolbar:function(){var e=w.tq||w.Em;return(0,C.jsxs)(s.Fragment,{children:[e&&(0,C.jsx)(S,{}),!e&&(0,C.jsx)("div",{className:"text-sm text-gray-600 mb-2 italic",children:"K\xedch đ\xfap v\xe0o văn bản để chỉnh sửa"}),(0,C.jsxs)(d.Z2,{defaultOpen:!0,title:"Kiểu chữ",props:["fontSize","fontWeight","textAlign","fontFamily","lineHeight","letterSpacing","textTransform","textDecoration","fontStyle"],children:[(0,C.jsx)(x.S,{}),(0,C.jsx)(h.X,{}),(0,C.jsx)(u.B,{}),(0,C.jsx)(p.v,{}),(0,C.jsx)(f.R,{colorTitle:"M\xe0u chữ"}),(0,C.jsx)(y.n,{})]}),(0,C.jsxs)(d.Z2,{title:"Khoảng đệm",props:["padding"],children:[(0,C.jsx)(m.I,{}),(0,C.jsx)(g.J,{})]}),(0,C.jsx)(d.Z2,{title:"Đường viền",children:(0,C.jsx)(b.j,{})}),(0,C.jsx)(d.Z2,{title:"Đổ b\xf3ng",children:(0,C.jsx)(j.O,{})}),(0,C.jsx)(d.Z2,{title:"Li\xean kết",props:["hyperlink"],children:(0,C.jsx)(z,{})}),(0,C.jsx)(d.Z2,{title:"Hiệu ứng chuyển động",children:(0,C.jsx)(v.C,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,C.jsxs)(s.Fragment,{children:[(0,C.jsx)(M.Z,{icon:(0,C.jsx)(H.dyI,{size:20}),label:"Sửa",onClick:function(){return r(U.EDIT)}}),(0,C.jsx)(M.Z,{icon:(0,C.jsx)(H.Gyp,{size:20}),label:"Kiểu chữ",onClick:function(){return r(U.STYLE)}}),(0,C.jsx)(M.Z,{icon:(0,C.jsx)(H.cWl,{size:20}),label:U.PADDING,onClick:function(){return r(U.PADDING)}}),(0,C.jsx)(M.Z,{icon:(0,C.jsx)(H.QT8,{size:20}),label:U.BORDER,onClick:function(){return r(U.BORDER)}}),(0,C.jsx)(M.Z,{icon:(0,C.jsx)(H.HkK,{size:20}),label:U.BOX_SHADOW,onClick:function(){return r(U.BOX_SHADOW)}}),(0,C.jsx)(M.Z,{icon:(0,C.jsx)(H.EdC,{size:20}),label:U.HYPERLINK,onClick:function(){return r(U.HYPERLINK)}}),(0,C.jsx)(M.Z,{icon:(0,C.jsx)(H.AO4,{size:20}),label:U.TRANSITION,onClick:function(){return r(U.TRANSITION)}}),(0,C.jsx)(L.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,C.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,C.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,C.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,C.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,C.jsx)("div",{className:"setting-content",children:function(){switch(t){case U.EDIT:return(0,C.jsx)(S,{});case U.STYLE:return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(x.S,{}),(0,C.jsx)(h.X,{}),(0,C.jsx)(u.B,{}),(0,C.jsx)(p.v,{}),(0,C.jsx)(f.R,{colorTitle:"M\xe0u chữ"}),(0,C.jsx)(y.n,{})]});case U.PADDING:return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.I,{}),(0,C.jsx)(g.J,{})]});case U.BORDER:return(0,C.jsx)(b.j,{});case U.BOX_SHADOW:return(0,C.jsx)(j.O,{});case U.HYPERLINK:return(0,C.jsx)(z,{});case U.TRANSITION:return(0,C.jsx)(v.C,{});default:return(0,C.jsx)(C.Fragment,{})}}()})})]})})]})}}}},32141:function(e,t,n){"use strict";n.d(t,{zj:function(){return P},JM:function(){return tj},s_:function(){return ty}});var r,a,o=n(59499),i=n(71383),s=n(67294),c=n(41610),l=n(67623),d=n(54335),u=n(85893);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={top:10,left:10,width:100,height:100,margin:[0,0,0,0]},h=d.zo.div(r||(r=(0,i.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  span {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: #fff;\n    border-radius: 100%;\n    display: block;\n    box-shadow: 0px 0px 12px -1px rgba(0, 0, 0, 0.25);\n    z-index: 99999;\n    pointer-events: none;\n    border: 2px solid #36a9e0;\n    &:nth-child(1) {\n      left: -5px;\n      top: -5px;\n    }\n    &:nth-child(2) {\n      right: -5px;\n      top: -5px;\n      display: block;\n    }\n    &:nth-child(3) {\n      left: -5px;\n      bottom: -5px;\n    }\n    &:nth-child(4) {\n      bottom: -5px;\n      right: -5px;\n      display: block;\n    }\n  }\n"]))),m=function(e){var t=e=p(p({},f),e),n=t.top,r=t.left,a=t.height,o=t.width,i=(t.margin,t.children),d=(0,l.Zo)(function(e){return{active:e.events.selected}}),x=d.connectors,m=x.connect,g=(x.drag,d.actions.setProp),b=d.active,j=(0,s.useRef)(!1),y=(0,s.useRef)(null);return(0,u.jsx)("div",{ref:m,onMouseDown:function(e){if(!j.current){e.preventDefault();var t=e.clientX-r,a=e.clientY-n,o=function(e){var n=e.clientX-t,r=e.clientY-a;g(function(e){e.top=r,e.left=n},500)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)})}},style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),cursor:j.current?"default":"move"},children:(0,u.jsxs)(c.Resizable,{size:{width:o,height:a},onResizeStart:function(){j.current=!0},onResize:function(e,t,a,o){g(function(e){var t=Math.max(50,parseFloat(a.style.width)),n=Math.max(50,parseFloat(a.style.height));e.width=t,e.height=n},500);var i=t.toLowerCase().includes("left"),s=t.toLowerCase().includes("top");if(i||s){y.current||(y.current=o);var c=o.width-y.current.width,l=o.height-y.current.height;g(function(e){i&&(e.left=r-c),s&&(e.top=n-l)},500),y.current=o}},onResizeStop:function(){j.current=!1,y.current=null},minWidth:50,minHeight:50,enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{display:"flex",alignItems:"center",justifyContent:"center",background:"#ccc",border:"1px solid #ccc",boxSizing:"border-box"},children:[i,b&&(0,u.jsxs)(h,{children:[(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{}),(0,u.jsx)("span",{})]})]})})};m.craft={displayName:"Drag Box",props:f,rules:{canDrag:function(){return!0}}};var g=n(77680),b=n(4730),j=n(19848),y=n.n(j),v=n(729),w=n(86745),k=n(76975),N=n(83701),C=n(46256),O=n(85518),S=function(){var e=O.tq||O.Em,t=(0,v.U)(),n=t.icon,r=t.iconColor,a=t.setIcon,o=t.setIconColor,i=t.setCurrentMusic,c=(0,w.Dk)().setActiveKey,l=(0,C.TN)().pageData;return(0,s.useEffect)(function(){if(l){var e=l.audioIcon,t=l.audioIconColor,n=l.audioKey,r=l.audioTitle,s=l.audioDuration;n&&i({title:r,duration:s,fileKey:n}),a(e),o(t)}},[l]),(0,u.jsx)(N.Z,{setting:!0,onClick:function(){e||c(k.Ey.MUSIC)},audioIcon:n,audioIconColor:r})},T=function(e){var t=e.value,n=e.onHeightChange,r=e.min,a=void 0===r?1:r,o=e.step,i=e.className,c=(0,s.useState)(Number(t)||a),l=c[0],d=c[1];return(0,s.useEffect)(function(){d(Number(t)||a)},[t,a]),(0,u.jsx)("input",{type:"number",name:"app-height-input",id:"app-height-input",value:l,onChange:function(e){d(Math.max(a,parseInt(e.target.value)||a))},onKeyDown:function(e){"Enter"===e.key&&n(l)},onBlur:function(){n(l)},className:void 0===i?"w-20 h-6 px-2 text-center text-sm border-0 bg-transparent focus:outline-none focus:ring-0":i,min:a,step:void 0===o?1:o})},Z=["editorViewportWidth"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=function(e){var t=e.editorViewportWidth,n=(0,b.Z)(e,Z),r=n.children,a=n.width,o=n.height,i=n.background,d=(0,l.Zo)(),x=(d.id,d.connectors),p=x.connect,f=x.drag,h=d.actions.setProp,m=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,s.useEffect)(function(){t&&h(function(e){e.width=t})},[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{id:"root-page-container",ref:function(e){return p(f(e))},style:D(D({},i?i.startsWith("http://")||i.startsWith("https://")?{backgroundColor:"transparent",backgroundImage:"url(".concat(i,")"),backgroundSize:"cover"}:i.includes("gradient")?{backgroundColor:"transparent",backgroundImage:i,backgroundSize:"cover"}:{backgroundColor:i,backgroundImage:"none",backgroundSize:"cover"}:{backgroundColor:"#fff",backgroundImage:"none",backgroundSize:"cover"}),{},{width:t||a,height:o,position:"relative"}),className:"jsx-2177353859",children:(0,u.jsxs)(c.Resizable,{size:{width:t||a,height:o},onResize:function(e,t,n,r){h(function(e){var t=Math.max(50,parseFloat(n.style.height));e.height=t},200)},minWidth:50,minHeight:50,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},style:{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},children:[m&&(0,u.jsx)(S,{}),(0,u.jsx)("div",{className:"jsx-2177353859 w-full h-full",children:r})]})}),m&&(0,u.jsx)("div",{id:"root-page-container-resize-handle",className:"jsx-2177353859 mt-4 z-[99999999]",children:(0,u.jsxs)("div",{className:"jsx-2177353859 flex items-center gap-2 bg-white/90 backdrop-blur-sm rounded-full shadow-md border border-gray-200/50 px-2 py-1",children:[(0,u.jsx)("button",{onClick:function(){var e=Math.max(100,Number(o)-10);h(function(t){t.height=e})},title:"Giảm chiều d\xe0i",className:"jsx-2177353859 w-6 h-6 flex items-center justify-center bg-gray-100/80 hover:bg-gray-200/80 rounded-full transition-all duration-200 hover:scale-105",children:(0,u.jsx)("span",{className:"jsx-2177353859 text-gray-600 text-lg font-medium mb-1",children:"−"})}),(0,u.jsxs)("div",{className:"jsx-2177353859 flex items-center",children:[(0,u.jsx)(T,{value:o,onHeightChange:function(e){h(function(t){t.height=e})},min:1,step:1}),(0,u.jsx)("span",{className:"jsx-2177353859 text-xs text-gray-500 font-medium",children:"px"})]}),(0,u.jsx)("button",{onClick:function(){var e=Number(o)+10;h(function(t){t.height=e})},title:"Tăng chiều d\xe0i",className:"jsx-2177353859 w-6 h-6 flex items-center justify-center bg-gray-100/80 hover:bg-gray-200/80 rounded-full transition-all duration-200 hover:scale-105",children:(0,u.jsx)("span",{className:"jsx-2177353859 text-gray-600 text-lg font-medium mb-1",children:"+"})})]})}),(0,u.jsx)(y(),{id:"2177353859",children:['#main-scroll-container #root-page-container::before{content:"";position:absolute;left:50%;bottom:3px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:50px;height:4px;background:rgba(0,0,0,0.1);border-radius:2px;-webkit-transition:all 0.2s;transition:all 0.2s;}',"#main-scroll-container #root-page-container:hover::before{background:rgba(0,0,0,0.3);}"]})]})};P.craft={displayName:"Container",rules:{canDrag:function(){return!0}},props:{width:500,height:1e3,background:"#fff"}};var R=n(34342),I=n(34304),A=n(93773),z=n(15720),B=n(99621),_=n(63054),F=n(56084),M=n(35959),H=n(66748),L=n(84249),U=function(e){var t=e.enabled,n=e.isResizing,r=e.left,a=e.top,o=e.setProp,i=e.throttleRate,s=void 0===i?500:i,c=e.isFocusText,l=e.isActive,d=e.setFocusing;return{handleDragMouseDown:function(e){if(t&&!n.current){e.preventDefault();var i=e.clientX-r,c=e.clientY-a,l=function(e){var t=e.clientX-i,n=e.clientY-c;o(function(e){e.top=n,e.left=t},s)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e)})}},handleTouchDragStart:function(e){if(t&&!n.current){var i=e.touches[0].clientX-r,c=e.touches[0].clientY-a,l=document.getElementById("main-scroll-container");l&&(l.style.overflow="hidden");var d=function(e){var t=e.touches[0].clientX-i,n=e.touches[0].clientY-c;o(function(e){e.top=n,e.left=t},s)};document.addEventListener("touchmove",d),document.addEventListener("touchend",function e(){l&&(l.style.overflow=""),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",e)})}},handleTextMouseDown:function(e){if(t&&!(null!=c&&c.current)){e.preventDefault(),c&&(c.current=!0);var n=e.clientX-r,i=e.clientY-a,u=function(e){var t=e.clientX-n,r=e.clientY-i;o(function(e){e.top=r,e.left=t},s),c&&(c.current=!1)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",function e(){l&&null!=c&&c.current&&d&&d(!0),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)})}}}},X=function(e){var t=e.enabled,n=e.left,r=e.top,a=e.setProp,o=e.throttleRate,i=void 0===o?500:o,c=e.MIN_SIZE,l=void 0===c?20:c,d=(0,s.useState)(!1),u=d[0],x=d[1],p=(0,s.useRef)(!1),f=(0,s.useRef)(null);return{isResizing:p,isCornerResize:u,handleResizeStart:function(e,t){p.current=!0;var n=document.getElementById("main-scroll-container");n&&(n.style.overflow="hidden"),["topLeft","topRight","bottomLeft","bottomRight"].includes(t)?x(!0):x(!1)},handleResizing:function(e,o,s,c){if(t){a(function(e){var t=Math.max(l,parseFloat(s.style.width)),n=Math.max(l,parseFloat(s.style.height));e.width=t,e.height=n},i);var d=o.toLowerCase().includes("left"),u=o.toLowerCase().includes("top");if(d||u){f.current||(f.current=c);var x=c.width-f.current.width,p=c.height-f.current.height;a(function(e){d&&(e.left=n-x),u&&(e.top=r-p)},i),f.current=c}}},handleResizeStop:function(){var e=document.getElementById("main-scroll-container");e&&(e.style.overflow=""),p.current=!1,f.current=null,x(!1)}}},K=n(17018),q=n(35282),W=n(29786),Y={SHAPE:"H\xecnh dạng",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng"};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q={top:10,left:10,width:100,height:100,color:"#ccc",padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,flipX:!1,flipY:!1,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},zIndex:0},J=d.zo.div(a||(a=(0,i.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  span {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    background: #fff;\n    border-radius: 100%;\n    display: block;\n    box-shadow: 0px 0px 12px -1px rgba(0, 0, 0, 0.25);\n    z-index: 99999;\n    pointer-events: none;\n    border: 2px solid #36a9e0;\n    &:nth-child(1) {\n      left: -5px;\n      top: -5px;\n    }\n    &:nth-child(2) {\n      right: -5px;\n      top: -5px;\n      display: block;\n    }\n    &:nth-child(3) {\n      left: -5px;\n      bottom: -5px;\n    }\n    &:nth-child(4) {\n      bottom: -5px;\n      right: -5px;\n      display: block;\n    }\n  }\n"]))),$=function(e){var t=e=V(V({},Q),e),n=t.top,r=t.left,a=t.height,o=t.width,i=t.opacity,s=t.color,d=t.shadow,x=t.padding,p=t.borderRadius,f=t.rotation,h=t.flipX,m=t.flipY,g=t.borderPosition,b=t.borderSize,j=t.borderStyle,v=t.borderColor,w=t.hasShadow,N=t.boxShadow,C=t.imgKey,O=t.zIndex,S=(0,l.Zo)(function(e){return{active:e.events.selected}}),T=S.connectors.connect,Z=S.actions.setProp,E=S.active,D=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled,P=X({enabled:D,left:r,top:n,setProp:Z,throttleRate:500,MIN_SIZE:20}),R=P.isResizing,I=P.isCornerResize,A=P.handleResizeStart,z=P.handleResizing,B=P.handleResizeStop,_=U({enabled:D,isResizing:R,left:r,top:n,setProp:Z,throttleRate:500}),F=_.handleTouchDragStart,M=_.handleDragMouseDown,H=function(){switch(g){case"all":return{border:"".concat(b,"px ").concat(j," ").concat(v)};case"top":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v)};case"bottom":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(v)};case"right":return{borderRight:"".concat(b,"px ").concat(j," ").concat(v)};case"left":return{borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"top-bottom":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v),borderBottom:"".concat(b,"px ").concat(j," ").concat(v)};case"right-left":return{borderRight:"".concat(b,"px ").concat(j," ").concat(v),borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"upper-left":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v),borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"upper-right":return{borderTop:"".concat(b,"px ").concat(j," ").concat(v),borderRight:"".concat(b,"px ").concat(j," ").concat(v)};case"lower-left":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(v),borderLeft:"".concat(b,"px ").concat(j," ").concat(v)};case"lower-right":return{borderBottom:"".concat(b,"px ").concat(j," ").concat(v),borderRight:"".concat(b,"px ").concat(j," ").concat(v)};default:return{}}}();return(0,u.jsxs)("div",{ref:T,onMouseDown:M,onTouchStart:F,style:{position:"absolute",top:"".concat(n,"px"),left:"".concat(r,"px"),zIndex:O,cursor:D?R?"default":"move":"default"},className:y().dynamic([["1102248890",[s]]]),children:[(0,u.jsxs)(c.Resizable,{size:{width:o,height:a},lockAspectRatio:I,onResizeStart:A,onResize:z,onResizeStop:B,minWidth:k.yL,minHeight:k.yL,enable:{top:D,right:D,bottom:D,left:D,topRight:D,bottomRight:D,bottomLeft:D,topLeft:D},style:V(V({display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},H),{},{padding:"".concat(x[0],"px ").concat(x[1],"px ").concat(x[2],"px ").concat(x[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((d||0)/100,")"),opacity:i,borderRadius:"".concat(p[0],"px \n          ").concat(p[1],"px \n          ").concat(p[2],"px \n          ").concat(p[3],"px"),transform:"rotate(".concat(f,"deg) scale(").concat(h?-1:1,", ").concat(m?-1:1,")"),boxShadow:w?"".concat(N.offsetX,"px ").concat(N.offsetY,"px ").concat(N.blur,"px ").concat(N.spread,"px ").concat(N.color):"none"}),children:[(0,u.jsx)("div",{style:{width:o,height:a,maskImage:"url(".concat((0,L.eQ)(C),")")},className:y().dynamic([["1102248890",[s]]])+" shape-component"}),E&&(0,u.jsxs)(J,{children:[(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])}),(0,u.jsx)("span",{className:y().dynamic([["1102248890",[s]]])})]})]}),(0,u.jsx)(y(),{id:"1102248890",dynamic:[s],children:[".shape-component.__jsx-style-dynamic-selector{opacity:1;z-index:151;border-radius:0px;background-color:".concat(s,";border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}")]})]})};$.craft={displayName:"Shape Item",props:Q,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(H.e,{type:"shape"}),(0,u.jsxs)(I.Z2,{title:"M\xe0u sắc",defaultOpen:!0,children:[(0,u.jsx)(A.R,{isColor:!0,isBackground:!1,colorTitle:"M\xe0u sắc"}),(0,u.jsx)(M.n,{})]}),(0,u.jsxs)(I.Z2,{title:"Khoảng đệm",children:[(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{flipable:!0})]}),(0,u.jsx)(I.Z2,{title:"Đường viền",children:(0,u.jsx)(_.j,{})}),(0,u.jsx)(I.Z2,{title:"Đổ b\xf3ng",children:(0,u.jsx)(F.O,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.KOZ,{size:20}),label:Y.SHAPE,onClick:function(){return r(Y.SHAPE)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.l9F,{size:20}),label:Y.COLOR,onClick:function(){return r(Y.COLOR)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.cWl,{size:20}),label:Y.PADDING,onClick:function(){return r(Y.PADDING)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.QT8,{size:20}),label:Y.BORDER,onClick:function(){return r(Y.BORDER)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.HkK,{size:20}),label:Y.BOX_SHADOW,onClick:function(){return r(Y.BOX_SHADOW)}}),(0,u.jsx)(W.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case Y.SHAPE:return(0,u.jsx)(H.e,{type:"shape"});case Y.COLOR:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(A.R,{isColor:!0,isBackground:!1,colorTitle:"M\xe0u sắc"}),(0,u.jsx)(M.n,{})]});case Y.PADDING:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{flipable:!0})]});case Y.BORDER:return(0,u.jsx)(_.j,{});case Y.BOX_SHADOW:return(0,u.jsx)(F.O,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var ee=n(3885),et=n(4002),en=n(50649),er=n(99101),ea=n(83622),eo=n(83062),ei=n(61121),es=n(16835),ec=n(81376),el=function(e){var t=e.galleryImageUrl,n=e.listingTitle,r=e.listingDescription,a=e.clicked,o=e.showCloseButton,i=e.onClose,s=e.className;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"custom-pin ".concat(void 0===s?"":s),children:[void 0!==o&&o&&(0,u.jsx)("button",{className:"close-button",onClick:i,children:(0,u.jsx)("span",{className:"material-symbols-outlined",children:" close "})}),(0,u.jsxs)("div",{className:"image-container",children:[(0,u.jsx)("div",{className:"photo-gallery ".concat(void 0!==a&&a?"extended":""),children:(0,u.jsx)("img",{src:t,alt:"Cinelove wedding map"})}),(0,u.jsx)("span",{className:"icon",children:(0,u.jsx)(ec.WCP,{color:"white",size:24})})]}),(0,u.jsx)("div",{className:"details-container",children:(0,u.jsxs)("div",{className:"listing-content",children:[(0,u.jsx)("h2",{children:n}),(0,u.jsxs)("p",{className:"description",children:[r,(0,u.jsx)("span",{style:{color:"#ff8a80"},children:"♥"})]})]})})]}),(0,u.jsx)("div",{className:"tip"})]})},ed=n(81323),eu=n(94184),ex=n.n(eu),ep=n(7764),ef=function(e){var t=e.place,n=e.marker,r=(0,ed.Sx)();return(0,s.useEffect)(function(){var e,a,o;r&&t&&n&&(null!==(e=t.geometry)&&void 0!==e&&e.viewport&&r.fitBounds(null===(o=t.geometry)||void 0===o?void 0:o.viewport),n.position=null===(a=t.geometry)||void 0===a?void 0:a.location)},[r,t,n]),null},eh=function(e){var t=e.onPlaceSelect,n=(0,s.useState)(null),r=n[0],a=n[1],o=(0,s.useRef)(null),i=(0,ed.kY)("places");(0,s.useEffect)(function(){i&&o.current&&a(new i.Autocomplete(o.current,{fields:["geometry","name","formatted_address"]}))},[i]),(0,s.useEffect)(function(){r&&r.addListener("place_changed",function(){t(r.getPlace())})},[t,r]);var c=O.tq||O.Em;return(0,u.jsx)("div",{className:"autocomplete-container",style:{width:c?"100%":500,marginTop:10},children:(0,u.jsx)("input",{ref:o,className:"w-full placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow",placeholder:"Nhập địa chỉ hoặc địa điểm"})})},em=function(e){var t=e.enableSearch,n=e.mapCoordinates,r=e.defaultCenter,a=void 0===r?k.he:r,o=e.defaultZoom,i=void 0===o?14:o,c=e.onSelectPlace,l=void 0===c?null:c,d=e.borderRadius,x=void 0===d?[0,0,0,0]:d,p=e.listingTitle,f=e.listingDescription,h=e.galleryImageUrl,m=void 0===h?"".concat(ep.Z.CDN_URL,"/images/map-pin-heart-dreamy.jpg"):h,g=(0,s.useState)(null),b=g[0],j=g[1],v=(0,ed.Rt)(),w=(0,es.Z)(v,2),N=w[0],C=w[1],O=(0,s.useState)(!1),S=O[0],T=O[1],Z=(0,s.useState)(!1),E=Z[0],D=Z[1],P=function(){if(n||a){var e=n||a,t=e.lat,r=e.lng,o="https://maps.google.com/maps?q=".concat(t,",").concat(r,"&z=").concat(i);window.open(o,"_blank")}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:y().dynamic([["18706560",[x[0],x[1],x[2],x[3]]]])+" advanced-marker-wrapper",children:(0,u.jsxs)(ed.un,{apiKey:ep.Z.MAP_API_KEY,libraries:["marker"],children:[(0,u.jsx)(ed.D5,{mapId:ep.Z.MAP_ID,defaultZoom:i,defaultCenter:a,center:n,gestureHandling:"greedy",disableDefaultUI:!0,children:(0,u.jsx)(ed._Q,{ref:N,position:n||a,title:"AdvancedMarker with custom html content.",onMouseEnter:function(){return D(!0)},onMouseLeave:function(){return D(!1)},className:ex()("real-estate-marker",{clicked:S,hovered:E}),onClick:function(){S&&P(),T(!S)},children:(0,u.jsx)(el,{galleryImageUrl:m,listingTitle:p,listingDescription:f,clicked:S,showCloseButton:!0,onClose:function(){return T(!1)}})})}),void 0!==t&&t&&(0,u.jsx)(ed.ZM,{position:ed._D.TOP,children:(0,u.jsx)("div",{className:y().dynamic([["18706560",[x[0],x[1],x[2],x[3]]]])+" autocomplete-control",children:(0,u.jsx)(eh,{onPlaceSelect:function(e){j(e),l&&l(e)}})})}),(0,u.jsx)(ef,{place:b,marker:C})]})}),(0,u.jsx)(y(),{id:"18706560",dynamic:[x[0],x[1],x[2],x[3]],children:[".advanced-marker-wrapper>div>div{border-radius:".concat(x[0],"px ").concat(x[1],"px ").concat(x[2],"px ").concat(x[3],"px;}")]})]})},eg=function(e){var t=e.mapCoordinates,n=e.mapView,r=e.onToggleMapView,a=e.borderRadius,o=e.listingTitle,i=e.listingDescription,s=e.galleryImageUrl,c=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled;return(0,u.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[c&&(0,u.jsx)(ea.ZP,{style:{position:"absolute",top:5,right:5,zIndex:2,padding:"15px 25px",border:"1px solid #ccc"},onClick:function(){r(!n)},children:(0,u.jsx)(eo.Z,{title:n?"Di chuyển":"Thao t\xe1c bản đồ",children:n?(0,u.jsx)(ei.wI4,{size:24}):(0,u.jsx)(q.rum,{size:24})})}),c&&!n&&(0,u.jsx)("div",{style:{width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.2)",position:"absolute",zIndex:1}}),(0,u.jsx)(em,{defaultCenter:t,borderRadius:a,listingTitle:o,listingDescription:i,galleryImageUrl:s})]})},eb=n(42179),ej=n(2453),ey=n(17788),ev=n(52091),ew=function(e){var t=e.label,n=e.onClick,r=e.icon,a=e.backgroundColor,o=e.textColor,i=e.borderRadius,s=e.fontSize,c=e.padding,l=e.fullWidth;return(0,u.jsxs)("button",{onClick:n,className:"bg-primary",style:{backgroundColor:a,color:void 0===o?"#fff":o,border:"none",borderRadius:void 0===i?"8px":i,fontSize:void 0===s?"16px":s,padding:void 0===c?"12px 20px":c,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",gap:"8px",width:l?"100%":"auto"},children:[r&&(0,u.jsx)("span",{children:r}),t]})},ek=function(){var e=(0,l.Zo)(function(e){return{mapCoordinates:e.data.props.mapCoordinates,listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription,galleryImageUrl:e.data.props.galleryImageUrl}}),t=e.actions.setProp,n=e.mapCoordinates,r=e.listingTitle,a=e.listingDescription,o=e.galleryImageUrl,i=(0,s.useState)(!1),c=i[0],d=i[1],x=(0,s.useState)(null),p=x[0],f=x[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ew,{label:"Chọn vị tr\xed",onClick:function(){return d(!0)},icon:(0,u.jsx)(ev.Nh4,{}),backgroundColor:"#ff8fa3",textColor:"#fff",borderRadius:"6px",fontSize:"18px",padding:"7px 30px"}),(0,u.jsx)(ey.Z,{title:"Chọn vị tr\xed tr\xean bản đồ",open:c,footer:[(0,u.jsx)(ea.ZP,{onClick:function(){return d(!1)},children:"Hủy"},"cancel"),(0,u.jsx)(ea.ZP,{type:"primary",onClick:function(){d(!1),p&&t(function(e){e.mapCoordinates=p})},children:"X\xe1c nhận"},"confirm")],onCancel:function(){return d(!1)},width:800,styles:{body:{height:600}},children:(0,u.jsx)(em,{defaultZoom:5,enableSearch:!0,onSelectPlace:function(e){try{if(!e)return;var t=e.geometry.location.lat(),n=e.geometry.location.lng();f({lat:t,lng:n})}catch(e){ej.ZP.error("Lỗi khi chọn vị tr\xed tr\xean bản đồ")}},defaultCenter:n,listingTitle:r,listingDescription:a,galleryImageUrl:o})})]})},eN=function(){var e=(0,l.Zo)(function(e){return{galleryImageUrl:e.data.props.galleryImageUrl||"".concat(ep.Z.CDN_URL,"/images/map-pin-heart-dreamy.jpg"),listingTitle:e.data.props.listingTitle,listingDescription:e.data.props.listingDescription}}),t=e.listingTitle,n=e.listingDescription,r=e.galleryImageUrl,a=(0,s.useState)(!1),o=a[0],i=a[1],c=(0,s.useState)(!1),d=c[0],x=c[1];return(0,u.jsx)("div",{className:"my-4 flex justify-around items-center",children:(0,u.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"mb-3 mt-3 flex justify-center advanced-marker-wrapper",children:(0,u.jsx)("div",{style:{position:"relative",transformOrigin:"center"},onMouseEnter:function(){return x(!0)},onMouseLeave:function(){return x(!1)},className:ex()("real-estate-marker",{clicked:o,hovered:d}),onClick:function(){return i(!o)},children:(0,u.jsx)(el,{galleryImageUrl:r,listingTitle:t,listingDescription:n,clicked:o,showCloseButton:!1,className:"preview-pin"})})}),(0,u.jsx)("span",{className:"text-xs text-gray-500 text-center block mb-2 italic",children:"Di chuột hoặc chạm v\xe0o để xem"})]}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"20px"},children:(0,u.jsx)(ek,{})})]})})},eC=n(57581),eO={CUSTOMIZE:"Tuỳ chỉnh bản đồ",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eZ={top:10,left:10,width:k.Yx.mapWidth,height:k.Yx.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},mapCoordinates:void 0,zIndex:0,locked:!1,listingTitle:"Cinelove Wedding",listingDescription:"Nhấn để xem đường đi v\xe0 c\xf9ng nhau đến bữa tiệc ngọt ng\xe0o ♥",galleryImageUrl:"".concat(ep.Z.CDN_URL,"/images/map-pin-heart-dreamy.jpg"),transition:eb.b},eE=function(e){var t=(0,s.useRef)(null),n=(0,s.useState)([]),r=n[0],a=n[1],o=(0,s.useState)(!1),i=o[0],c=o[1],d=e=eT(eT({},eZ),e),x=d.top,p=d.left,f=d.height,h=d.width,m=d.opacity,g=d.shadow,b=d.padding,j=d.borderRadius,y=d.rotation,v=d.borderPosition,w=d.borderSize,k=d.borderStyle,N=d.borderColor,C=d.hasShadow,O=d.boxShadow,S=d.mapCoordinates,T=d.zIndex,Z=d.locked,E=d.listingTitle,D=d.listingDescription,P=d.galleryImageUrl,R=d.transition,I=(0,l.Zo)(function(e){return{active:e.events.selected,id:e.id}}),A=I.connectors.connect,z=I.actions.setProp,B=I.active,_=I.id,F=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled,M=R||eb.b,H=(0,s.useState)(!1),L=H[0],U=H[1];(0,s.useEffect)(function(){if(B&&F){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==_}))}},[B,F,_]);var X=(0,s.useState)({width:0,height:0,left:0,top:0}),K=X[0],q=X[1],W=(0,s.useState)(null),Y=W[0],G=W[1];(0,s.useEffect)(function(){if(B&&F){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();q({width:t.width,height:t.height,left:t.left,top:t.top}),G(e)}}},[B,F]);var V=function(){switch(v){case"all":return{border:"".concat(w,"px ").concat(k," ").concat(N)};case"top":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N)};case"bottom":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"left":return{borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"top-bottom":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right-left":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-left":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-right":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-left":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-right":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};default:return{}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":_,ref:function(e){e&&(A(e),t.current=e)},style:eT(eT({position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(f,"px"),zIndex:T,cursor:F?i?"default":"move":"default",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box"},V),{},{padding:"".concat(b[0],"px ").concat(b[1],"px ").concat(b[2],"px ").concat(b[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((g||0)/100,")"),opacity:m,borderRadius:"".concat(j[0],"px \n          ").concat(j[1],"px \n          ").concat(j[2],"px \n          ").concat(j[3],"px"),transform:"rotate(".concat(y,"deg)"),boxShadow:C?"".concat(O.offsetX,"px ").concat(O.offsetY,"px ").concat(O.blur,"px ").concat(O.spread,"px ").concat(O.color):"none"}),children:(0,u.jsx)(eC.Z,{transition:M,targetRef:t,enabled:F,nodeId:_,onTransitionStart:function(){U(!0)},onTransitionEnd:function(){U(!1)},children:(0,u.jsx)(eg,{mapCoordinates:S,borderRadius:j,mapView:i,onToggleMapView:function(e){return c(e)},listingTitle:E,listingDescription:D,galleryImageUrl:P},S.lat)})}),B&&F&&t.current&&!i&&!L&&(0,u.jsx)(er.Z,{target:t.current,container:Y,otherElements:r,containerBounds:K,currentProps:{top:x,left:p,width:h,height:f,rotation:y,flipX:!1,flipY:!1,locked:Z},onUpdateProps:function(e){z(function(t){Object.assign(t,e)})}})]})};eE.craft={displayName:"Bản đồ",props:eZ,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsxs)(I.Z2,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:[(0,u.jsx)(eN,{}),(0,u.jsx)(M.n,{})]}),(0,u.jsxs)(I.Z2,{title:"Khoảng đệm",children:[(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{})]}),(0,u.jsx)(I.Z2,{title:"Đường viền",children:(0,u.jsx)(_.j,{})}),(0,u.jsx)(I.Z2,{title:"Đổ b\xf3ng",children:(0,u.jsx)(F.O,{})}),(0,u.jsx)(I.Z2,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(eb.C,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.WP$,{size:20}),label:eO.CUSTOMIZE,onClick:function(){return r(eO.CUSTOMIZE)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.cWl,{size:20}),label:eO.PADDING,onClick:function(){return r(eO.PADDING)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.QT8,{size:20}),label:eO.BORDER,onClick:function(){return r(eO.BORDER)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.HkK,{size:20}),label:eO.BOX_SHADOW,onClick:function(){return r(eO.BOX_SHADOW)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.AO4,{size:20}),label:eO.TRANSITION,onClick:function(){return r(eO.TRANSITION)}}),(0,u.jsx)(W.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case eO.CUSTOMIZE:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eN,{}),(0,u.jsx)(M.n,{})]});case eO.PADDING:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{})]});case eO.BORDER:return(0,u.jsx)(_.j,{});case eO.BOX_SHADOW:return(0,u.jsx)(F.O,{});case eO.TRANSITION:return(0,u.jsx)(eb.C,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var eD=n(96812),eP=n(32152),eR=n(58115),eI={CUSTOMIZE:"Tuỳ chỉnh bản đồ",COLOR:"M\xe0u sắc",PADDING:"Khoảng đệm",BORDER:"Đường viền",BOX_SHADOW:"Đổ b\xf3ng",TRANSITION:"Hiệu ứng động"};function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eB={top:10,left:10,width:k.Yx.mapWidth,height:k.Yx.mapHeight,padding:[0,0,0,0],shadow:0,opacity:1,rotation:0,borderRadius:[0,0,0,0],borderPosition:"all",borderSize:0,borderStyle:"solid",borderColor:"",hasShadow:!1,boxShadow:{offsetX:0,offsetY:0,blur:10,spread:0,color:"rgba(0, 0, 0, 0.5)"},address:"",zIndex:0,locked:!1,backgroundColor:"transparent",transition:eb.b},e_=function(e){var t=(0,s.useRef)(null),n=(0,s.useState)([]),r=n[0],a=n[1],o=(0,s.useState)(!1),i=o[0],c=o[1],d=e=ez(ez({},eB),e),x=d.top,p=d.left,f=d.height,h=d.width,m=d.opacity,g=d.shadow,b=d.padding,j=d.borderRadius,y=d.rotation,v=d.borderPosition,w=d.borderSize,k=d.borderStyle,N=d.borderColor,C=d.hasShadow,O=d.boxShadow,S=d.address,T=d.zIndex,Z=d.locked,E=d.backgroundColor,D=d.transition,P=(0,l.Zo)(function(e){return{active:e.events.selected,id:e.id}}),R=P.connectors.connect,I=P.actions.setProp,A=P.active,z=P.id,B=(0,l.jE)(function(e){return{enabled:e.options.enabled}}).enabled,_=D||eb.b,F=(0,s.useState)(!1),M=F[0],H=F[1],L=(0,s.useState)(!1),U=L[0],X=L[1],K=(0,s.useState)(!0),q=K[0],W=K[1];(0,s.useEffect)(function(){W(!1)},[]);var Y=(0,eR.oN)(_,U);(0,s.useEffect)(function(){if(_.effectEnabled&&B&&!q){X(!0),H(!1);var e=setTimeout(function(){H(!0),setTimeout(function(){X(!1)},(_.effectDuration+_.effectDelay)*1e3+100)},50);return function(){return clearTimeout(e)}}},[_.effectEnabled,_.effectType,_.effectDuration,_.effectDelay,_.effectEasing]),(0,s.useEffect)(function(){if(_.effectEnabled){var e=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&(H(!0),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return t.current&&e.observe(t.current),function(){t.current&&e.unobserve(t.current)}}},[_.effectEnabled]),(0,s.useEffect)(function(){if(A&&B){var e=document.querySelector("#root-page-container");e&&a(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==z}))}},[A,B,z]);var G=(0,s.useState)({width:0,height:0,left:0,top:0}),V=G[0],Q=G[1],J=(0,s.useState)(null),$=J[0],ee=J[1];(0,s.useEffect)(function(){if(A&&B){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();Q({width:t.width,height:t.height,left:t.left,top:t.top}),ee(e)}}},[A,B]);var et=function(){switch(v){case"all":return{border:"".concat(w,"px ").concat(k," ").concat(N)};case"top":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N)};case"bottom":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"left":return{borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"top-bottom":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderBottom:"".concat(w,"px ").concat(k," ").concat(N)};case"right-left":return{borderRight:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-left":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"upper-right":return{borderTop:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-left":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderLeft:"".concat(w,"px ").concat(k," ").concat(N)};case"lower-right":return{borderBottom:"".concat(w,"px ").concat(k," ").concat(N),borderRight:"".concat(w,"px ").concat(k," ").concat(N)};default:return{}}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{"data-node-id":z,ref:function(e){e&&(R(e),t.current=e)},style:ez(ez({position:"absolute",top:"".concat(x,"px"),left:"".concat(p,"px"),width:"".concat(h,"px"),height:"".concat(f,"px"),zIndex:T,cursor:B?i?"default":"move":"default",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",backgroundColor:E},et),{},{padding:"".concat(b[0],"px ").concat(b[1],"px ").concat(b[2],"px ").concat(b[3],"px"),textShadow:"0px 0px 2px rgba(0,0,0,".concat((g||0)/100,")"),opacity:m,borderRadius:"".concat(j[0],"px \n          ").concat(j[1],"px \n          ").concat(j[2],"px \n          ").concat(j[3],"px"),transform:"rotate(".concat(y,"deg)"),boxShadow:C?"".concat(O.offsetX,"px ").concat(O.offsetY,"px ").concat(O.blur,"px ").concat(O.spread,"px ").concat(O.color):"none"}),children:(0,u.jsx)("div",{style:(0,eR.FO)(_,M),children:(0,u.jsx)(eD.Z,{address:S,borderRadius:j,mapView:i,onToggleMapView:function(e){return c(e)}})},Y)}),A&&B&&t.current&&!i&&!U&&(0,u.jsx)(er.Z,{target:t.current,container:$,otherElements:r,containerBounds:V,currentProps:{top:x,left:p,width:h,height:f,rotation:y,flipX:!1,flipY:!1,locked:Z},onUpdateProps:function(e){I(function(t){Object.assign(t,e)})}})]})};e_.craft={displayName:"Bản đồ",props:eB,rules:{canDrag:function(){return!0}},related:{toolbar:function(){return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(I.Z2,{defaultOpen:!0,title:"Tuỳ chỉnh bản đồ",children:(0,u.jsx)(eP.B,{})}),(0,u.jsxs)(I.Z2,{title:"Khoảng đệm",children:[(0,u.jsx)(A.R,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.n,{}),(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{})]}),(0,u.jsx)(I.Z2,{title:"Đường viền",children:(0,u.jsx)(_.j,{})}),(0,u.jsx)(I.Z2,{title:"Đổ b\xf3ng",children:(0,u.jsx)(F.O,{})}),(0,u.jsx)(I.Z2,{title:"Hiệu ứng chuyển động",children:(0,u.jsx)(eb.C,{})})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.WP$,{size:20}),label:eI.CUSTOMIZE,onClick:function(){return r(eI.CUSTOMIZE)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.l9F,{size:20}),label:eI.COLOR,onClick:function(){return r(eI.COLOR)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.cWl,{size:20}),label:eI.PADDING,onClick:function(){return r(eI.PADDING)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.QT8,{size:20}),label:eI.BORDER,onClick:function(){return r(eI.BORDER)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.HkK,{size:20}),label:eI.BOX_SHADOW,onClick:function(){return r(eI.BOX_SHADOW)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.AO4,{size:20}),label:eI.TRANSITION,onClick:function(){return r(eI.TRANSITION)}}),(0,u.jsx)(W.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"40vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(40vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case eI.CUSTOMIZE:return(0,u.jsx)(eP.B,{});case eI.COLOR:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(A.R,{isColor:!1,isBackground:!0}),(0,u.jsx)(M.n,{})]});case eI.PADDING:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(z.I,{}),(0,u.jsx)(B.J,{})]});case eI.BORDER:return(0,u.jsx)(_.j,{});case eI.BOX_SHADOW:return(0,u.jsx)(F.O,{});case eI.TRANSITION:return(0,u.jsx)(eb.C,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var eF=n(44908),eM=n(41930),eH=n(59854),eL=n(20359),eU=n(1619),eX=n(27812),eK=n(50029),eq=n(87794),eW=n.n(eq),eY=n(86547),eG=n(74330),eV=n(32983),eQ=n(71230),eJ=n(15746),e$=n(33299),e0=n(99611),e1=n(25675),e2=n.n(e1),e3=n(52804),e5=n(49184),e4=n(80600),e6=n(75451),e9=n(38289),e7=n(85970),e8=n(76071),te=function(){var e=(0,l.Zo)(function(e){return{modalHintText:e.data.props.modalHintText||"Chạm v\xe0o để mở",modalHintFontSize:e.data.props.modalHintFontSize,modalHintFontFamily:e.data.props.modalHintFontFamily,modalHintColor:e.data.props.modalHintColor,fontSize:e.data.props.fontSize,fontFamily:e.data.props.fontFamily,color:e.data.props.color}}),t=e.actions.setProp,n=e.modalHintText,r=e.modalHintFontSize,a=e.modalHintFontFamily,o=e.modalHintColor,i=e.fontSize,c=e.fontFamily,d=e.color;return(0,s.useEffect)(function(){t(function(e){e.fontSize=e.modalHintFontSize||18,e.fontFamily=e.modalHintFontFamily||"Arial",e.color=e.modalHintColor||"#333333"},0)},[]),(0,s.useEffect)(function(){i!==r&&t(function(e){e.modalHintFontSize=e.fontSize},0)},[i]),(0,s.useEffect)(function(){c!==a&&t(function(e){e.modalHintFontFamily=e.fontFamily},0)},[c]),(0,s.useEffect)(function(){d!==o&&t(function(e){e.modalHintColor=e.color},0)},[d]),(0,u.jsxs)("div",{className:"space-y-3 p-3 bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-md",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"\uD83D\uDCAC Text hướng dẫn (Modal Mode)"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Nội dung text"}),(0,u.jsx)(e9.Z,{value:n,onChange:function(e){return t(function(t){return t.modalHintText=e.target.value})},placeholder:"Chạm v\xe0o để mở"})]}),(0,u.jsxs)(I.Z2,{defaultOpen:!0,title:"Kiểu chữ",props:["fontSize","fontFamily","color"],children:[(0,u.jsx)(e7.B,{}),(0,u.jsx)(e8.v,{}),(0,u.jsx)(A.R,{colorTitle:"M\xe0u chữ",isBackground:!1})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83D\uDCA1 Text n\xe0y sẽ hiển thị ph\xeda tr\xean phong b\xec khi ở chế độ Modal"})]})},tt=n(86125),tn=n(11163),tr=function(){var e=(0,l.Zo)(function(e){return{modalBackdropOpacity:e.data.props.modalBackdropOpacity||.4}}),t=e.actions.setProp,n=e.modalBackdropOpacity;return(0,u.jsxs)("div",{className:"space-y-3 p-3 bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-md",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"\uD83C\uDF2B️ Độ mờ backdrop"}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("div",{className:"flex items-center justify-between",children:(0,u.jsxs)("span",{className:"text-xs text-gray-600",children:["Độ mờ: ",Math.round(100*n),"%"]})}),(0,u.jsx)(tt.Z,{min:.1,max:1,step:.05,value:n,onChange:function(e){return t(function(t){return t.modalBackdropOpacity=e})}})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"\uD83D\uDCA1 Điều chỉnh độ mờ của lớp phủ nền khi hiển thị modal"})]})},ta=[{name:"Blush Romance",colors:{flap:"#EDA5A9",pocketSide:"#F4B8BB",pocketBottom:"#FACBCD"}},{name:"Lavender Dream",colors:{flap:"#B39DDB",pocketSide:"#CDB4F4",pocketBottom:"#dccaff"}},{name:"Red Serenity",colors:{flap:"#812927",pocketSide:"#A33F3D",pocketBottom:"#a84644"}},{name:"Olive Nature",colors:{flap:"#B8C1A8",pocketSide:"#E8DDC1",pocketBottom:"#F2EDD8"}},{name:"Forest Green",colors:{flap:"#305D2E",pocketSide:"#4A7647",pocketBottom:"#638B60"}},{name:"Minimal Ivory",colors:{flap:"#c5bcab",pocketSide:"#DAD3C8",pocketBottom:"#E8E3D8"}},{name:"Mint Whisper",colors:{flap:"#C9E4CA",pocketSide:"#E4F5E7",pocketBottom:"#F0FAF2"}},{name:"Sky Dream",colors:{flap:"#C7DBF4",pocketSide:"#EFF4FA",pocketBottom:"#F7FAFC"}}],to=[{name:"Blush Romance",colors:{flap:"#EDA5A9",pocketSide:"#F4B8BB",pocketBottom:"#FACBCD"}},{name:"Lavender Dream",colors:{flap:"#B39DDB",pocketSide:"#CDB4F4",pocketBottom:"#dccaff"}},{name:"Red Serenity",colors:{flap:"#812927",pocketSide:"#A33F3D",pocketBottom:"#a84644"}},{name:"Olive Nature",colors:{flap:"#B8C1A8",pocketSide:"#E8DDC1",pocketBottom:"#F2EDD8"}},{name:"Forest Green",colors:{flap:"#305D2E",pocketSide:"#4A7647",pocketBottom:"#638B60"}},{name:"Minimal Ivory",colors:{flap:"#c5bcab",pocketSide:"#DAD3C8",pocketBottom:"#E8E3D8"}},{name:"Mint Whisper",colors:{flap:"#C9E4CA",pocketSide:"#E4F5E7",pocketBottom:"#F0FAF2"}},{name:"Sky Dream",colors:{flap:"#C7DBF4",pocketSide:"#EFF4FA",pocketBottom:"#F7FAFC"}}],ti=function(){var e,t=(0,l.Zo)(function(e){return{displayMode:e.data.props.displayMode||"design"}}),n=t.actions.setProp,r=t.displayMode,a=(0,e$.useSession)().data,o=(null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.plan)==="free";return(0,u.jsxs)("div",{className:"my-4",children:[o&&(0,u.jsx)("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-md",children:(0,u.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,u.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng N\xe2ng Cao:"})," Hiệu ứng phong b\xec thư chỉ d\xe0nh cho g\xf3i Basic trở l\xean."," ",(0,u.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=animated-envelope","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,u.jsx)("label",{className:"block text-sm font-medium mb-3",children:"\uD83D\uDCF1 Chế độ hiển thị"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,u.jsxs)("button",{onClick:function(){return n(function(e){return e.displayMode="design"})},className:"\n            p-3 rounded-lg border-2 transition-all text-center\n            ".concat("design"===r?"border-purple-500 bg-purple-100":"border-gray-200 bg-white","\n          "),children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDFA8"}),(0,u.jsx)("div",{className:"text-sm font-medium",children:"Design"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Trong thiết kế"})]}),(0,u.jsxs)("button",{onClick:function(){return n(function(e){return e.displayMode="modal"})},className:"\n            p-3 rounded-lg border-2 transition-all text-center\n            ".concat("modal"===r?"border-purple-500 bg-purple-100":"border-gray-200 bg-white","\n          "),children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83E\uDE9F"}),(0,u.jsx)("div",{className:"text-sm font-medium",children:"Modal"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"To\xe0n m\xe0n h\xecnh"})]})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"design"===r?"\uD83D\uDCCD Phong b\xec thư nằm trong thiết kế":"\uD83C\uDFAD Phong b\xec hiển thị to\xe0n m\xe0n h\xecnh"})]})},ts=function(){var e=(0,l.Zo)(function(e){return{modalHintText:e.data.props.modalHintText||"Chạm v\xe0o để mở"}}),t=e.actions.setProp,n=e.modalHintText;return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83D\uDCAC Nội dung text hướng dẫn"}),(0,u.jsx)(e9.Z,{value:n,onChange:function(e){return t(function(t){return t.modalHintText=e.target.value})},placeholder:"Chạm v\xe0o để mở"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Text hiển thị ph\xeda tr\xean phong b\xec thư khi ở chế độ Modal"})]})},tc=function(){var e=(0,l.Zo)(function(e){return{modalHintFontSize:e.data.props.modalHintFontSize,modalHintFontFamily:e.data.props.modalHintFontFamily,modalHintColor:e.data.props.modalHintColor,fontSize:e.data.props.fontSize,fontFamily:e.data.props.fontFamily,color:e.data.props.color}}),t=e.actions.setProp,n=e.modalHintFontSize,r=e.modalHintFontFamily,a=e.modalHintColor,o=e.fontSize,i=e.fontFamily,c=e.color;return(0,s.useEffect)(function(){t(function(e){e.fontSize=e.modalHintFontSize||18,e.fontFamily=e.modalHintFontFamily||"Arial",e.color=e.modalHintColor||"#333333"},0)},[]),(0,s.useEffect)(function(){o!==n&&t(function(e){e.modalHintFontSize=e.fontSize},0)},[o,n,t]),(0,s.useEffect)(function(){i!==r&&t(function(e){e.modalHintFontFamily=e.fontFamily},0)},[i,r,t]),(0,s.useEffect)(function(){c!==a&&t(function(e){e.modalHintColor=e.color},0)},[c,a,t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ts,{}),(0,u.jsx)(e7.B,{}),(0,u.jsx)(e8.v,{}),(0,u.jsx)(A.R,{colorTitle:"M\xe0u chữ",isBackground:!1})]})},tl=function(){var e=(0,l.Zo)(function(e){return{modalBackdropOpacity:e.data.props.modalBackdropOpacity||.4,displayMode:e.data.props.displayMode||"design"}}),t=e.actions.setProp,n=e.modalBackdropOpacity;return"modal"!==e.displayMode?null:(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83C\uDF2B️ Độ mờ backdrop"}),(0,u.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,u.jsxs)("span",{className:"text-xs text-gray-600",children:["Độ mờ: ",Math.round(100*n),"%"]})}),(0,u.jsx)(tt.Z,{min:.1,max:1,step:.05,value:n,onChange:function(e){return t(function(t){return t.modalBackdropOpacity=e})}}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Điều chỉnh độ mờ của lớp phủ nền"})]})},td=function(){var e=(0,l.jE)(function(e){return{enabled:e.options.enabled}}),t=e.actions,n=e.enabled;return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("button",{onClick:function(){t.setOptions(function(e){return e.enabled=!n})},className:"w-full py-3 px-4 rounded-lg font-medium transition-all bg-blue-500 text-white hover:bg-blue-600",children:(0,u.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,u.jsx)(q.y7o,{size:20}),(0,u.jsx)("span",{children:"Xem trước hiệu ứng"})]})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"\uD83D\uDCA1 Xem trước để trải nghiệm hiệu ứng tương t\xe1c với phong b\xec"})]})},tu=function(){var e,t,n=(0,l.Zo)(function(e){return{imageUrl:e.data.props.imageUrl||""}}),r=n.actions.setProp,a=n.imageUrl,o=(0,s.useState)(!1),i=o[0],c=o[1],d=(0,s.useState)(!1),x=d[0],p=d[1],f=(0,s.useState)(null),h=f[0],m=f[1],g=(0,s.useState)([]),b=g[0],j=g[1],y=(0,s.useState)(!1),v=y[0],w=y[1],k=(0,s.useRef)({}),N=(0,e3.$)(function(e){return e.refreshTrigger}),C=function(e){var t=(0,L.eQ)(e.fileKey);m({fileKey:e.fileKey,url:t}),p(!0),c(!1)},O=(e=(0,eK.Z)(eW().mark(function e(t){var n,a;return eW().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:try{n="".concat(h.url,"?").concat(t),a=(0,L.cb)(n),r(function(e){return e.imageUrl=(0,L.eQ)(a)}),ej.ZP.success("Đ\xe3 chọn ảnh cho phong b\xec thư"),p(!1),m(null)}catch(e){console.error("Error processing cropped image:",e),ej.ZP.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh đ\xe3 cắt")}case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),S=(t=(0,eK.Z)(eW().mark(function e(){return eW().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,(0,e5.ZQ)();case 4:j(T(e.sent)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),ej.ZP.error("Kh\xf4ng thể tải danh s\xe1ch ảnh");case 13:return e.prev=13,w(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])})),function(){return t.apply(this,arguments)}),T=function(e){return(0,eX.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};return(0,s.useEffect)(function(){i&&S()},[N,i]),(b.reduce(function(e,t){return e+(t.fileSize||0)},0)/1073741824).toFixed(4),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83D\uDDBC️ Ảnh trong phong b\xec"}),a&&(0,u.jsx)("div",{className:"mb-4 border border-gray-200 rounded-md overflow-hidden bg-gray-50 w-fit mx-auto",children:(0,u.jsx)("img",{src:a,alt:"Envelope content",className:"object-cover h-40"})}),(0,u.jsx)("button",{onClick:function(){S(),c(!0)},className:"w-full mt-2 py-2 px-4 rounded-lg font-medium transition-all border bg-white text-gray-700 border-gray-300 hover:border-blue-400",children:(0,u.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,u.jsx)(q.iUv,{size:18}),(0,u.jsx)("span",{children:a?"Chọn ảnh kh\xe1c":"Chọn ảnh"})]})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Ảnh sẽ hiển thị b\xean trong phong b\xec"})]}),(0,u.jsx)(ey.Z,{title:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:"Chọn ảnh cho phong b\xec"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Chọn ảnh bạn muốn hiển thị b\xean trong phong b\xec"})]}),open:i,onCancel:function(){c(!1)},footer:null,width:400,children:v?(0,u.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,u.jsx)(eG.Z,{tip:"Đang tải..."})}):0===b.length?(0,u.jsx)(eV.Z,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:(0,u.jsx)(eQ.Z,{gutter:[16,16],children:b.map(function(e){return(0,u.jsx)(eJ.Z,{xs:12,children:(0,u.jsx)("div",{className:"cursor-pointer",onClick:function(){return C(e)},children:(0,u.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 transition-all",children:(0,u.jsx)(e2(),{unoptimized:!0,src:(0,L.VM)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){return k.current[e.fileId]=t}})})})},e.fileId)})})})}),h&&(0,u.jsx)(e6.Z,{visible:x,imageSrc:h.url,onComplete:O,onCancel:function(){p(!1),m(null)},fixedAspectRatio:"3:2"})]})},tx=function(){var e=(0,l.Zo)(function(){return{}}).actions.setProp,t=function(t){e(function(e){e.flapColor=t.colors.flap,e.envelopeColor=t.colors.flap,e.pocketSideColor=t.colors.pocketSide,e.pocketBottomColor=t.colors.pocketBottom}),ej.ZP.success('Đ\xe3 \xe1p dụng theme "'.concat(t.name,'"'))};return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"✨ Theme m\xe0u nhanh"}),(0,u.jsx)("div",{className:"grid grid-cols-2 gap-2",children:to.map(function(e){return(0,u.jsxs)("div",{onClick:function(){return t(e)},className:"p-3 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md hover:border-blue-400 border-gray-200",children:[(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate mb-2",children:e.name}),(0,u.jsxs)("div",{className:"flex gap-1",children:[(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.flap},title:"Nắp"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketSide},title:"Cạnh"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketBottom},title:"Đ\xe1y"})]})]},e.name)})}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Click v\xe0o theme để \xe1p dụng m\xe0u"})]})},tp=function(){var e=(0,l.Zo)(function(e){return{flapColor:e.data.props.flapColor||"#812927",pocketSideColor:e.data.props.pocketSideColor||"#A33F3D",pocketBottomColor:e.data.props.pocketBottomColor||"#a84644"}}),t=e.actions.setProp,n=e.flapColor,r=e.pocketSideColor,a=e.pocketBottomColor;return(0,u.jsxs)("div",{className:"my-4 space-y-3",children:[(0,u.jsx)("label",{className:"block text-sm font-medium",children:"\uD83C\uDFA8 T\xf9y chỉnh m\xe0u chi tiết"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Nắp phong b\xec (ph\xeda tr\xean)"}),(0,u.jsx)(eY.Z,{value:n,onChange:function(e){return t(function(t){t.flapColor=e.toHexString(),t.envelopeColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#812927","#b91c1c","#991b1b","#7f1d1d","#dc2626","#ef4444"]}],className:"w-full"})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Cạnh phong b\xec (tr\xe1i & phải)"}),(0,u.jsx)(eY.Z,{value:r,onChange:function(e){return t(function(t){return t.pocketSideColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#A33F3D","#fca5a5","#fbb6ce","#f9a8d4","#fbcfe8"]}],className:"w-full"})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Đ\xe1y phong b\xec (ph\xeda dưới)"}),(0,u.jsx)(eY.Z,{value:a,onChange:function(e){return t(function(t){return t.pocketBottomColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#a84644","#fed7aa","#fcd34d","#fbbf24","#fb923c"]}],className:"w-full"})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"T\xf9y chỉnh m\xe0u cho từng phần của phong b\xec"})]})},tf={CUSTOMIZE:"Kiểu hiển thị",IMAGE:"Ảnh b\xean trong",COLORS:"M\xe0u sắc",MODAL_TEXT:"Text hướng dẫn",TRANSITION:"Hiệu ứng động"},th=function(e){var t=e.width,n=e.height,r=e.imageUrl,a=e.isOpened,o=e.envelopeColor,i=void 0===o?"#f08080":o,c=e.flapColor,l=void 0===c?"#812927":c,d=e.pocketSideColor,x=void 0===d?"#A33F3D":d,p=e.pocketBottomColor,f=void 0===p?"#a84644":p,h=(0,s.useState)(!1),m=h[0],g=h[1],b=(0,s.useRef)(null);return(0,s.useEffect)(function(){if(r){var e=new Image;e.onload=function(){return g(!0)},e.onerror=function(){return console.log("Failed to load letter image")},e.src=r}},[r]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" envelope-shadow"}),(0,u.jsxs)("div",{ref:b,className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" "+"envelope-container ".concat(a?"open":"close"),children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" front flap"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" front pocket"}),(0,u.jsx)("div",{style:{backgroundImage:'url("'.concat(ep.Z.CDN_URL,'/assets/plugins/wax-seal.webp")')},className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" wax-seal"}),(0,u.jsxs)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" letter",children:[!m&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line1"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line2"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line3"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" words line4"})]}),m&&r&&(0,u.jsx)("img",{src:r,alt:"Letter",className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" letter-image"})]}),(0,u.jsxs)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" hearts",children:[(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" heart a1"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" heart a2"}),(0,u.jsx)("div",{className:y().dynamic([["2782888169",[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t]]])+" heart a3"})]})]}),(0,u.jsx)(y(),{id:"2782888169",dynamic:[t,n,1.14*t,n+50,t,n,i,t/2,t/2,.46*n,.54*n,l,t/2,x,t/2,x,n/2,f,n/2,.4*n,.13*t,.13*t,.475*n,.55*n,.107*t,.107*t,.171*t,.107*t,.107*t],children:[".envelope-shadow.__jsx-style-dynamic-selector{position:absolute;width:".concat(t,"px;height:").concat(n,"px;margin-left:auto;margin-right:auto;top:0;pointer-events:none;z-index:0;}"),'.envelope-shadow.__jsx-style-dynamic-selector::after{content:"";position:absolute;width:'.concat(1.14*t,"px;height:25px;border-radius:50%;background:rgba(0,0,0,0.2);top:").concat(n+50,"px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:shadowScale-__jsx-style-dynamic-selector 3s ease-in-out infinite;animation:shadowScale-__jsx-style-dynamic-selector 3s ease-in-out infinite;-webkit-filter:blur(4px);filter:blur(4px);box-shadow:0 0 20px rgba(0,0,0,0.2);}"),".envelope-container.__jsx-style-dynamic-selector{position:absolute;width:".concat(t,"px;height:").concat(n,"px;border-bottom-left-radius:6px;border-bottom-right-radius:6px;margin-left:auto;margin-right:auto;top:0;background-color:").concat(i,";box-shadow:0 4px 20px rgba(0,0,0,0.2);-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94);-webkit-transition:transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94);transition:transform 0.3s cubic-bezier(0.25,0.46,0.45,0.94);cursor:pointer;-webkit-animation:float-__jsx-style-dynamic-selector 3s ease-in-out infinite;animation:float-__jsx-style-dynamic-selector 3s ease-in-out infinite;z-index:1;}"),".front.__jsx-style-dynamic-selector{position:absolute;width:0;height:0;z-index:3;}",".flap.__jsx-style-dynamic-selector{border-left:".concat(t/2,"px solid transparent;border-right:").concat(t/2,"px solid transparent;border-bottom:").concat(.46*n,"px solid transparent;border-top:").concat(.54*n,"px solid ").concat(l,";-webkit-transform-origin:top;-ms-transform-origin:top;transform-origin:top;}"),".open.__jsx-style-dynamic-selector .flap.__jsx-style-dynamic-selector{-webkit-transform:rotateX(180deg);-ms-transform:rotateX(180deg);transform:rotateX(180deg);-webkit-transition:-webkit-transform 1.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 1.2s;-webkit-transition:transform 1.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 1.2s;transition:transform 1.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 1.2s;z-index:1;}",".close.__jsx-style-dynamic-selector .flap.__jsx-style-dynamic-selector{-webkit-transform:rotateX(0deg);-ms-transform:rotateX(0deg);transform:rotateX(0deg);-webkit-transition:-webkit-transform 0.8s 0.8s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.8s;-webkit-transition:transform 0.8s 0.8s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.8s;transition:transform 0.8s 0.8s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.8s;z-index:5;}",".pocket.__jsx-style-dynamic-selector{border-left:".concat(t/2,"px solid ").concat(x,";border-right:").concat(t/2,"px solid ").concat(x,";border-bottom:").concat(n/2,"px solid ").concat(f,";border-top:").concat(n/2,"px solid transparent;border-bottom-left-radius:6px;border-bottom-right-radius:6px;}"),".wax-seal.__jsx-style-dynamic-selector{position:absolute;top:".concat(.4*n,"px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:").concat(.13*t,"px;height:").concat(.13*t,"px;background-size:contain;background-repeat:no-repeat;background-position:center;z-index:10;}"),".letter.__jsx-style-dynamic-selector{position:relative;background-color:#fff;width:90%;margin-left:auto;margin-right:auto;height:90%;top:5%;border-radius:6px;box-shadow:0 2px 26px rgba(0,0,0,0.12);-webkit-transition:box-shadow 0.3s ease;transition:box-shadow 0.3s ease;overflow:hidden;}",'.letter.__jsx-style-dynamic-selector::after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;background-image:linear-gradient( 180deg, rgba(255,255,255,0) 25%, rgba(255,227,239,0.2) 75%, rgba(215,227,239,0.3) 100% );pointer-events:none;}',".open.__jsx-style-dynamic-selector .letter.__jsx-style-dynamic-selector{box-shadow:0 4px 30px rgba(0,0,0,0.2);-webkit-transform:translateY(-".concat(.475*n,"px);-ms-transform:translateY(-").concat(.475*n,"px);transform:translateY(-").concat(.475*n,"px);-webkit-transition:-webkit-transform 1s 0.5s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.5s;-webkit-transition:transform 1s 0.5s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.5s;transition:transform 1s 0.5s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.5s;z-index:2;}"),".close.__jsx-style-dynamic-selector .letter.__jsx-style-dynamic-selector{-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);-webkit-transition:-webkit-transform 0.6s 0.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.2s;-webkit-transition:transform 0.6s 0.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.2s;transition:transform 0.6s 0.2s cubic-bezier(0.25,0.46,0.45,0.94), z-index 0.2s;z-index:1;}",".letter-image.__jsx-style-dynamic-selector{width:100%;height:100%;object-fit:cover;border-radius:6px;}",".words.__jsx-style-dynamic-selector{position:absolute;left:10%;width:80%;height:14%;background-color:#eeeff0;}",".words.line1.__jsx-style-dynamic-selector{top:15%;width:20%;height:7%;}",".words.line2.__jsx-style-dynamic-selector{top:30%;}",".words.line3.__jsx-style-dynamic-selector{top:50%;}",".words.line4.__jsx-style-dynamic-selector{top:70%;}",".hearts.__jsx-style-dynamic-selector{position:absolute;top:".concat(.55*n,"px;left:0;right:0;z-index:2;}"),".heart.__jsx-style-dynamic-selector{position:absolute;bottom:0;right:10%;}",'.heart.__jsx-style-dynamic-selector::before,.heart.__jsx-style-dynamic-selector::after{position:absolute;content:"";left:'.concat(.107*t,"px;top:0;width:").concat(.107*t,"px;height:").concat(.171*t,"px;background-color:#d00000;border-radius:").concat(.107*t,"px ").concat(.107*t,"px 0 0;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 100%;-ms-transform-origin:0 100%;transform-origin:0 100%;}"),".heart.__jsx-style-dynamic-selector::after{left:0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:100% 100%;-ms-transform-origin:100% 100%;transform-origin:100% 100%;}",".close.__jsx-style-dynamic-selector .heart.__jsx-style-dynamic-selector{opacity:0;-webkit-animation:none;animation:none;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}",".heart.a1.__jsx-style-dynamic-selector{left:20%;-webkit-transform:scale(0.6);-ms-transform:scale(0.6);transform:scale(0.6);opacity:1;}",".open.__jsx-style-dynamic-selector .heart.a1.__jsx-style-dynamic-selector{-webkit-animation:heartFloat-__jsx-style-dynamic-selector 4s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 4 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;animation:heartFloat-__jsx-style-dynamic-selector 4s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 4 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-delay:1.2s;animation-delay:1.2s;}",".heart.a2.__jsx-style-dynamic-selector{left:55%;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1;}",".open.__jsx-style-dynamic-selector .heart.a2.__jsx-style-dynamic-selector{-webkit-animation:heartFloat-__jsx-style-dynamic-selector 5s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 4s ease-in-out 2 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;animation:heartFloat-__jsx-style-dynamic-selector 5s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 4s ease-in-out 2 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-delay:1.4s;animation-delay:1.4s;}",".heart.a3.__jsx-style-dynamic-selector{left:10%;-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);opacity:1;}",".open.__jsx-style-dynamic-selector .heart.a3.__jsx-style-dynamic-selector{-webkit-animation:heartFloat-__jsx-style-dynamic-selector 7s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 6 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;animation:heartFloat-__jsx-style-dynamic-selector 7s cubic-bezier(0.25,0.46,0.45,0.94) 1,sideSway-__jsx-style-dynamic-selector 2s ease-in-out 6 alternate,heartScale-__jsx-style-dynamic-selector 0.5s cubic-bezier(0.68,-0.55,0.265,1.55) 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-delay:1.6s;animation-delay:1.6s;}","@-webkit-keyframes float-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}50%{-webkit-transform:translateY(-20px);-ms-transform:translateY(-20px);transform:translateY(-20px);}}","@keyframes float-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}50%{-webkit-transform:translateY(-20px);-ms-transform:translateY(-20px);transform:translateY(-20px);}}","@-webkit-keyframes shadowScale-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateX(-50%) scaleX(1);-ms-transform:translateX(-50%) scaleX(1);transform:translateX(-50%) scaleX(1);}50%{-webkit-transform:translateX(-50%) scaleX(0.85);-ms-transform:translateX(-50%) scaleX(0.85);transform:translateX(-50%) scaleX(0.85);}}","@keyframes shadowScale-__jsx-style-dynamic-selector{0%,100%{-webkit-transform:translateX(-50%) scaleX(1);-ms-transform:translateX(-50%) scaleX(1);transform:translateX(-50%) scaleX(1);}50%{-webkit-transform:translateX(-50%) scaleX(0.85);-ms-transform:translateX(-50%) scaleX(0.85);transform:translateX(-50%) scaleX(0.85);}}","@-webkit-keyframes heartFloat-__jsx-style-dynamic-selector{0%{top:0;opacity:1;}50%{opacity:0.8;}80%{opacity:0.3;}100%{top:-600px;opacity:0;visibility:hidden;}}","@keyframes heartFloat-__jsx-style-dynamic-selector{0%{top:0;opacity:1;}50%{opacity:0.8;}80%{opacity:0.3;}100%{top:-600px;opacity:0;visibility:hidden;}}","@-webkit-keyframes sideSway-__jsx-style-dynamic-selector{0%{margin-left:0px;}50%{margin-left:25px;}100%{margin-left:50px;}}","@keyframes sideSway-__jsx-style-dynamic-selector{0%{margin-left:0px;}50%{margin-left:25px;}100%{margin-left:50px;}}","@-webkit-keyframes heartScale-__jsx-style-dynamic-selector{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:0;}50%{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.8;}100%{-webkit-transform:scale(var(--heart-scale,1));-ms-transform:scale(var(--heart-scale,1));transform:scale(var(--heart-scale,1));opacity:1;}}","@keyframes heartScale-__jsx-style-dynamic-selector{0%{-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:0;}50%{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);opacity:0.8;}100%{-webkit-transform:scale(var(--heart-scale,1));-ms-transform:scale(var(--heart-scale,1));transform:scale(var(--heart-scale,1));opacity:1;}}"]})]})};function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tb={top:10,left:10,width:300,height:200,rotation:0,zIndex:0,locked:!1,transition:eb.b,imageUrl:"",displayMode:"design",envelopeColor:"#812927",flapColor:"#812927",pocketSideColor:"#A33F3D",pocketBottomColor:"#a84644",modalHintText:"Chạm v\xe0o để mở",modalHintFontSize:18,modalHintFontFamily:"Arial",modalHintColor:"#333333",modalBackdropOpacity:.4},tj=function(e){var t=(0,tn.useRouter)(),n=(0,s.useRef)(null),r=(0,s.useState)([]),a=r[0],o=r[1],i=(0,s.useState)(!1),c=i[0],d=i[1],x=(0,s.useState)(!1),p=x[0],f=x[1],h=(0,s.useState)(!0),m=h[0],g=h[1],b=(0,s.useState)(!1),j=b[0],v=b[1],w=(0,s.useState)(0),k=w[0],N=w[1],C=e=tg(tg({},tb),e),O=C.top,S=C.left,T=C.height,Z=C.width,E=C.rotation,D=C.zIndex,P=C.locked,R=C.transition,I=C.imageUrl,A=C.displayMode,z=C.envelopeColor,B=C.flapColor,_=C.pocketSideColor,F=C.pocketBottomColor,M=C.modalHintText,H=C.modalHintFontSize,L=C.modalHintFontFamily,U=C.modalHintColor,X=C.modalBackdropOpacity,K=(0,l.Zo)(function(e){return{active:e.events.selected,id:e.id}}),q=K.connectors.connect,W=K.actions.setProp,Y=K.active,G=K.id,V=(0,l.jE)(function(e){return{enabled:e.options.enabled}}),Q=V.enabled,J=V.actions,$=R||eb.b,ee=(0,s.useState)(!1),et=ee[0],en=ee[1];(0,s.useEffect)(function(){if(Y&&Q){var e=document.querySelector("#root-page-container");e&&o(Array.from(e.querySelectorAll("[data-node-id]")).filter(function(e){return e.getAttribute("data-node-id")!==G}))}},[Y,Q,G]),(0,s.useEffect)(function(){var e=function(){var e=document.querySelector("#root-page-container");e&&N(e.offsetWidth)};e(),window.addEventListener("resize",e);var t=document.querySelector("#root-page-container"),n=null;return t&&(n=new ResizeObserver(e)).observe(t),function(){window.removeEventListener("resize",e),n&&n.disconnect()}},[]);var ea=(0,s.useState)({width:0,height:0,left:0,top:0}),eo=ea[0],ei=ea[1],es=(0,s.useState)(null),ec=es[0],el=es[1];(0,s.useEffect)(function(){if(Y&&Q){var e=document.querySelector("#root-page-container");if(e){var t=e.getBoundingClientRect();ei({width:t.width,height:t.height,left:t.left,top:t.top}),el(e)}}},[Y,Q]);var ed=t.pathname.includes("/editor/m/")||t.pathname.includes("/editor-template/m/")||t.asPath.includes("/editor/m/")||t.asPath.includes("/editor-template/m/"),eu=function(e){if(!Q&&!c){e.stopPropagation(),d(!0);var t=!p;f(t),t&&setTimeout(function(){v(!0),window.dispatchEvent(new CustomEvent("envelope-opened")),setTimeout(function(){g(!1),ed&&!Q&&J.setOptions(function(e){return e.enabled=!0})},500)},3e3),setTimeout(function(){d(!1)},1600)}};(0,s.useEffect)(function(){g(!0),f(!1),v(!1),d(!1)},[Q]);var ex="modal"===A;return(0,u.jsxs)(u.Fragment,{children:[ex&&!Q&&(0,u.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999999999999,display:m?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, ".concat(X||.4,")"),backdropFilter:"blur(7px)",opacity:j?0:1,transition:"opacity 0.5s ease-in-out"},className:"jsx-992657205",children:(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},className:"jsx-992657205",children:[M&&(0,u.jsx)("div",{style:{fontSize:"".concat(H,"px"),fontFamily:L,color:U,textAlign:"center",animation:"fadeIn 0.5s ease-in-out",marginBottom:"20px",opacity:p?0:1,transition:"opacity 0.5s ease-in-out"},className:"jsx-992657205",children:M}),(0,u.jsx)("div",{"data-node-id":G,ref:function(e){e&&(q(e),n.current=e)},style:{position:"relative",width:"".concat(Z,"px"),height:"".concat(T,"px"),zIndex:D,cursor:"pointer",transform:"rotate(".concat(E,"deg)")},onClick:eu,className:"jsx-992657205 animated-envelope-component",children:(0,u.jsx)(th,{width:Z,height:T,envelopeColor:z,flapColor:B,pocketSideColor:_,pocketBottomColor:F,imageUrl:I,isOpened:p})})]})}),(!ex||ex&&Q)&&(0,u.jsxs)("div",{"data-node-id":G,ref:function(e){e&&(q(e),n.current=e)},style:{position:"absolute",top:"".concat(O,"px"),left:"".concat(S,"px"),width:"".concat(Z,"px"),height:"".concat(T,"px"),zIndex:ex?999:D,cursor:"move",transform:"rotate(".concat(E,"deg)")},onClick:eu,className:"jsx-992657205 animated-envelope-component",children:[ex&&Q&&k>0&&(0,u.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"".concat(k,"px"),height:"".concat(1.5*k,"px"),border:"2px dashed rgba(147, 51, 234, 0.4)",backgroundColor:"rgba(255, 255, 255, ".concat(X||.4,")"),backdropFilter:"blur(5px)",pointerEvents:"none",zIndex:-1,animation:"backdropPulse 3s ease-in-out infinite"},className:"jsx-992657205"}),(0,u.jsxs)(eC.Z,{transition:$,targetRef:n,enabled:Q,nodeId:G,onTransitionStart:function(){en(!0)},onTransitionEnd:function(){en(!1)},children:[(0,u.jsx)(th,{width:Z,height:T,envelopeColor:z,flapColor:B,pocketSideColor:_,pocketBottomColor:F,imageUrl:I,isOpened:p}),M&&!p&&ex&&(0,u.jsx)("div",{style:{position:"absolute",top:ed?0:"20px",left:"50%",transform:"translate(-50%, -50%)",width:"".concat(Z,"px"),height:"".concat(T,"px"),zIndex:999999999999,fontSize:"".concat(H,"px"),fontFamily:L,color:U,textAlign:"center"},className:"jsx-992657205",children:M})]})]}),Y&&Q&&n.current&&!et&&(0,u.jsx)(er.Z,{target:n.current,container:ec,otherElements:a,containerBounds:eo,currentProps:{top:O,left:S,width:Z,height:T,rotation:E,flipX:!1,flipY:!1,locked:P},onUpdateProps:function(e){W(function(t){Object.assign(t,e)})},resizeDirections:["nw","ne","sw","se"],keepRatio:!0}),(0,u.jsx)(y(),{id:"992657205",children:[".animated-envelope-component.jsx-992657205{position:relative;}",'.animated-envelope-component.component-hovered.jsx-992657205::after{content:" ";box-sizing:content-box;border:1px dashed var(--color-primary);position:absolute;pointer-events:none;inset:0;display:block;}',"@-webkit-keyframes fadeIn-jsx-992657205{from{opacity:0;}to{opacity:1;}}","@keyframes fadeIn-jsx-992657205{from{opacity:0;}to{opacity:1;}}","@-webkit-keyframes fadeOut-jsx-992657205{from{opacity:1;}to{opacity:0;}}","@keyframes fadeOut-jsx-992657205{from{opacity:1;}to{opacity:0;}}","@-webkit-keyframes backdropPulse-jsx-992657205{0%,100%{opacity:0.6;-webkit-transform:translate(-50%,-50%) scale(1);-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1);}50%{opacity:0.3;-webkit-transform:translate(-50%,-50%) scale(1.05);-ms-transform:translate(-50%,-50%) scale(1.05);transform:translate(-50%,-50%) scale(1.05);}}","@keyframes backdropPulse-jsx-992657205{0%,100%{opacity:0.6;-webkit-transform:translate(-50%,-50%) scale(1);-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1);}50%{opacity:0.3;-webkit-transform:translate(-50%,-50%) scale(1.05);-ms-transform:translate(-50%,-50%) scale(1.05);transform:translate(-50%,-50%) scale(1.05);}}"]})]})};tj.craft={displayName:"Animated Envelope",props:tb,rules:{canDrag:function(){return!0}},related:{toolbar:function(){var e,t,n,r=(0,e$.useSession)().data,a=(0,tn.useRouter)(),o=(0,l.Zo)(function(e){return{id:e.id,imageUrl:e.data.props.imageUrl||"",displayMode:e.data.props.displayMode||"design",flapColor:e.data.props.flapColor||"#812927",pocketSideColor:e.data.props.pocketSideColor||"#A33F3D",pocketBottomColor:e.data.props.pocketBottomColor||"#a84644"}}),i=o.actions.setProp,c=(o.id,o.imageUrl),d=o.displayMode,x=o.flapColor,p=o.pocketSideColor,f=o.pocketBottomColor,h=(0,l.jE)(function(e){return{enabled:e.options.enabled}}),m=h.actions,g=h.enabled,b=(0,s.useState)(!1),j=b[0],y=b[1],v=(0,s.useState)(!1),w=v[0],k=v[1],N=(0,s.useState)(null),C=N[0],O=N[1],S=(0,s.useState)([]),T=S[0],Z=S[1],E=(0,s.useState)(!1),D=E[0],P=E[1],R=(0,s.useRef)({}),I=(0,e3.$)(function(e){return e.refreshTrigger}),A=(null==r?void 0:null===(n=r.user)||void 0===n?void 0:n.plan)==="free",z=a.pathname.startsWith("/admin/templates/edit"),B=a.query.id,_=function(){y(!1)},F=function(e){var t=(0,L.eQ)(e.fileKey);O({fileKey:e.fileKey,url:t}),k(!0),y(!1)},M=(e=(0,eK.Z)(eW().mark(function e(t){var n,r;return eW().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:try{n="".concat(C.url,"?").concat(t),r=(0,L.cb)(n),i(function(e){return e.imageUrl=(0,L.eQ)(r)}),ej.ZP.success("Đ\xe3 chọn ảnh cho phong b\xec"),k(!1),O(null)}catch(e){console.error("Error processing cropped image:",e),ej.ZP.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh đ\xe3 cắt")}case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),H=function(e){i(function(t){t.flapColor=e.colors.flap,t.envelopeColor=e.colors.flap,t.pocketSideColor=e.colors.pocketSide,t.pocketBottomColor=e.colors.pocketBottom}),ej.ZP.success('Đ\xe3 \xe1p dụng theme "'.concat(e.name,'"'))},U=(t=(0,eK.Z)(eW().mark(function e(){var t,n,r;return eW().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!0),e.prev=1,t=[],n=a.pathname.startsWith("/admin/edit-as/"),!(z&&B)){e.next=10;break}return e.next=7,(0,e4.ne)(B);case 7:case 13:t=e.sent,e.next=32;break;case 10:if(!z){e.next=16;break}return e.next=13,(0,e4.em)();case 16:if(!n){e.next=29;break}if(!(r=a.query.user_id)){e.next=24;break}return e.next=21,(0,e5.oJ)(r);case 21:t=e.sent,e.next=27;break;case 24:return e.next=26,(0,e5.ZQ)();case 26:t=e.sent;case 27:e.next=32;break;case 29:return e.next=31,(0,e5.ZQ)();case 31:t=e.sent;case 32:Z(X(t)),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(1),console.error("Error fetching photos:",e.t0),ej.ZP.error("Kh\xf4ng thể tải danh s\xe1ch ảnh");case 40:return e.prev=40,P(!1),e.finish(40);case 43:case"end":return e.stop()}},e,null,[[1,36,40,43]])})),function(){return t.apply(this,arguments)}),X=function(e){return(0,eX.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,s.useEffect)(function(){j&&U()},[I,j]);var K=(T.reduce(function(e,t){return e+(t.fileSize||0)},0)/1073741824).toFixed(4);return(0,u.jsxs)("div",{className:"space-y-4",children:[A&&(0,u.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,u.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,u.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng N\xe2ng Cao:"})," Hiệu ứng phong b\xec thư chỉ d\xe0nh cho g\xf3i Basic trở l\xean."," ",(0,u.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=animated-envelope","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,u.jsxs)("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-md",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-3",children:"\uD83D\uDCF1 Chế độ hiển thị"}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,u.jsx)("div",{onClick:function(){return i(function(e){return e.displayMode="design"})},className:"\n              p-3 rounded-lg border-2 cursor-pointer transition-all\n              ".concat("design"===d?"border-purple-500 bg-purple-100 shadow-md":"border-gray-200 bg-white hover:border-purple-300","\n            "),children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83C\uDFA8"}),(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Design"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Hiển thị trong thiết kế"})]})}),(0,u.jsx)("div",{onClick:function(){return i(function(e){return e.displayMode="modal"})},className:"\n              p-3 rounded-lg border-2 cursor-pointer transition-all\n              ".concat("modal"===d?"border-purple-500 bg-purple-100 shadow-md":"border-gray-200 bg-white hover:border-purple-300","\n            "),children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("div",{className:"text-2xl mb-1",children:"\uD83E\uDE9F"}),(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Modal"}),(0,u.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Hiển thị to\xe0n m\xe0n h\xecnh"})]})})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"design"===d?"\uD83D\uDCCD Phong b\xec sẽ nằm trong thiết kế, c\xf3 thể di chuyển v\xe0 chỉnh sửa vị tr\xed":"\uD83C\uDFAD Phong b\xec sẽ hiển thị to\xe0n m\xe0n h\xecnh v\xe0 che đi nội dung b\xean dưới khi chưa được mở"}),(0,u.jsx)(ea.ZP,{type:"primary",icon:(0,u.jsx)(e0.Z,{}),onClick:function(){m.setOptions(function(e){return e.enabled=!g})},className:"w-full mt-3",children:"Xem trước hiệu ứng"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\uD83D\uDCA1 Xem trước để trải nghiệm hiệu ứng tương t\xe1c với phong b\xec (mở/đ\xf3ng)"})]}),"modal"===d&&(0,u.jsx)(te,{}),"modal"===d&&(0,u.jsx)(tr,{}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",children:"\uD83D\uDDBC️ Ảnh trong phong b\xec"}),(0,u.jsxs)("div",{className:"space-y-3",children:[c&&(0,u.jsx)("div",{className:"relative border border-gray-200 rounded-md overflow-hidden bg-gray-50",children:(0,u.jsx)("img",{src:c,alt:"Envelope content",className:"object-cover w-full h-full"})}),(0,u.jsx)(ea.ZP,{type:"default",icon:(0,u.jsx)(e0.Z,{}),onClick:function(){U(),y(!0)},className:"w-full",children:c?"Chọn ảnh kh\xe1c":"Chọn ảnh"}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Ảnh sẽ hiển thị b\xean trong phong b\xec khi mở ra"})]})]}),(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("label",{className:"block text-sm font-medium",children:"✨ Chọn theme m\xe0u nhanh"}),(0,u.jsx)("div",{className:"grid grid-cols-2 gap-2 p-2",children:ta.map(function(e){return(0,u.jsxs)("div",{onClick:function(){return H(e)},className:"\n                relative p-3 rounded-lg border-2 cursor-pointer transition-all\n                hover:shadow-md hover:scale-[1.02]\n                border-gray-200 hover:border-blue-400\n              ",children:[(0,u.jsx)("div",{className:"flex items-start space-x-2",children:(0,u.jsx)("div",{className:"flex-1 min-w-0",children:(0,u.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name})})}),(0,u.jsxs)("div",{className:"flex gap-1 mt-2",children:[(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.flap},title:"Nắp"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketSide},title:"Cạnh"}),(0,u.jsx)("div",{className:"h-6 flex-1 rounded",style:{backgroundColor:e.colors.pocketBottom},title:"Đ\xe1y"})]})]},e.name)})}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"Click v\xe0o theme để \xe1p dụng m\xe0u cho to\xe0n bộ phong b\xec"})]}),(0,u.jsxs)("div",{className:"space-y-3 border-t pt-3",children:[(0,u.jsx)("label",{className:"block text-sm font-medium",children:"\uD83C\uDFA8 T\xf9y chỉnh m\xe0u chi tiết"}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Nắp phong b\xec (ph\xeda tr\xean)"}),(0,u.jsx)(eY.Z,{value:x,onChange:function(e){return i(function(t){t.flapColor=e.toHexString(),t.envelopeColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#812927","#b91c1c","#991b1b","#7f1d1d","#dc2626","#ef4444"]}]})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Cạnh phong b\xec (tr\xe1i & phải)"}),(0,u.jsx)(eY.Z,{value:p,onChange:function(e){return i(function(t){return t.pocketSideColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#A33F3D","#fca5a5","#fbb6ce","#f9a8d4","#fbcfe8"]}]})]}),(0,u.jsxs)("div",{className:"space-y-1",children:[(0,u.jsx)("label",{className:"block text-xs text-gray-600",children:"Đ\xe1y phong b\xec (ph\xeda dưới)"}),(0,u.jsx)(eY.Z,{value:f,onChange:function(e){return i(function(t){return t.pocketBottomColor=e.toHexString()})},showText:!0,presets:[{label:"Gợi \xfd",colors:["#a84644","#fed7aa","#fcd34d","#fbbf24","#fb923c"]}]})]}),(0,u.jsx)("p",{className:"text-xs text-gray-500",children:"T\xf9y chỉnh m\xe0u cho từng phần của phong b\xec"})]}),(0,u.jsxs)("div",{className:"border-t pt-4",children:[(0,u.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Hiệu ứng chuyển động"}),(0,u.jsx)(eb.C,{})]}),(0,u.jsx)(ey.Z,{title:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:"Chọn ảnh cho phong b\xec"}),(0,u.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Chọn ảnh bạn muốn hiển thị b\xean trong phong b\xec"})]}),open:j,onCancel:_,footer:[(0,u.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Tổng ",T.length," ảnh (",K," GB)"]},"info"),(0,u.jsx)(ea.ZP,{onClick:_,children:"Đ\xf3ng"},"back")],width:600,styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:D?(0,u.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,u.jsx)(eG.Z,{tip:"Đang tải..."})}):0===T.length?(0,u.jsx)(eV.Z,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,u.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,u.jsx)(eQ.Z,{gutter:[16,16],style:{marginBottom:"16px"},children:T.map(function(e){return(0,u.jsx)(eJ.Z,{xs:12,sm:8,md:6,lg:6,xl:6,children:(0,u.jsx)("div",{className:"user-upload-item cursor-pointer",onClick:function(){return F(e)},children:(0,u.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 hover:scale-[1.02]",children:(0,u.jsx)(e2(),{unoptimized:!0,src:(0,L.VM)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){return R.current[e.fileId]=t}})})})},e.fileId)})})})}),C&&(0,u.jsx)(e6.Z,{visible:w,imageSrc:C.url,onComplete:M,onCancel:function(){k(!1),O(null)},fixedAspectRatio:"3:2"})]})},mobileToolbar:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=(0,l.Zo)(function(e){return{displayMode:e.data.props.displayMode||"design"}}).displayMode,a=function(e){n(e)};return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.UNn,{size:20}),label:"Kiểu hiển thị",onClick:function(){return a(tf.CUSTOMIZE)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.iUv,{size:20}),label:tf.IMAGE,onClick:function(){return a(tf.IMAGE)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.l9F,{size:20}),label:tf.COLORS,onClick:function(){return a(tf.COLORS)}}),"modal"===r&&(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.wUc,{size:20}),label:tf.MODAL_TEXT,onClick:function(){return a(tf.MODAL_TEXT)}}),(0,u.jsx)(K.Z,{icon:(0,u.jsx)(q.AO4,{size:20}),label:tf.TRANSITION,onClick:function(){return a(tf.TRANSITION)}}),(0,u.jsx)(W.GI,{visible:!!t,showCloseButton:!0,onClose:function(){n(null)},mask:!1,bodyStyle:{borderTopLeftRadius:"12px",borderTopRightRadius:"12px",height:"50vh",padding:"0",overflow:"hidden",backdropFilter:"blur(10px)",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(229, 231, 235, 0.5)"},position:"bottom",children:(0,u.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,u.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 py-3",children:(0,u.jsx)("h3",{className:"text-lg font-semibold text-center",children:t})}),(0,u.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-3",style:{maxHeight:"calc(50vh - 60px)",minHeight:"200px"},children:(0,u.jsx)("div",{className:"setting-content",children:function(){switch(t){case tf.CUSTOMIZE:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ti,{}),(0,u.jsx)(td,{}),(0,u.jsx)(tl,{})]});case tf.IMAGE:return(0,u.jsx)(tu,{});case tf.COLORS:return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tx,{}),(0,u.jsx)(tp,{})]});case tf.MODAL_TEXT:return(0,u.jsx)(tc,{});case tf.TRANSITION:return(0,u.jsx)(eb.C,{});default:return(0,u.jsx)(u.Fragment,{})}}()})})]})})]})}}};var ty={DragBox:m,AppContainer:P,TextBox:g.z,DynamicText:eL.g,MaterialBox:R.r,ShapeBox:$,PhotoBox:ee.A,PluginCalendar:et.q,PluginCountDown:en.D,PluginMap:eE,PluginSimpleMap:e_,UnifiedMap:eF.o,PluginPhoneButton:eM.u,PluginForm:eH.N,PluginQrBox:eU.e,PluginAnimatedEnvelope:tj}},32152:function(e,t,n){"use strict";n.d(t,{B:function(){return y}});var r=n(67294),a=n(67623),o=n(99859),i=n(38289),s=n(83062),c=n(83622),l=n(71230),d=n(15746),u=n(24435),x=n(52091),p=n(85518),f=n(25675),h=n.n(f),m={src:"/_next/static/media/3d-map.a4fed189.jpg",height:333,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAdEAACAgEFAAAAAAAAAAAAAAABAgADEQUSISIx/8QAFQEBAQAAAAAAAAAAAAAAAAAAAwT/xAAYEQADAQEAAAAAAAAAAAAAAAAAAQJBUf/aAAwDAQACEQMRAD8AuhwmpPRt6IwrGPSTzkxESZzLwdU+n//Z",blurWidth:8,blurHeight:5},g=n(2777),b=n(38983),j=n(85893),y=function(){var e=(0,a.Zo)(function(e){return{address:e.data.props.address,mapCoordinates:e.data.props.mapCoordinates}}),t=e.actions.setProp,n=e.address,f=e.mapCoordinates,y=p.tq||p.Em;return(0,r.useEffect)(function(){f&&(0,b.$)(f)&&t(function(e){e.mapCoordinates=void 0})},[]),(0,j.jsxs)("div",{className:"mt-4 flex flex-col justify-around items-center",children:[!y&&(0,j.jsx)(h(),{unoptimized:!0,src:m,style:{borderRadius:5,marginBottom:15},alt:"Map thumbnail",width:250,height:160}),(0,j.jsxs)(o.Z,{layout:"vertical",style:{width:"100%"},children:[(0,j.jsx)(o.Z.Item,{label:"Địa chỉ",children:(0,j.jsx)(i.Z,{value:n,onChange:function(e){t(function(t){return t.address=e.target.value})},placeholder:"Nhập địa chỉ (VD: 52 Miếu Đầm, Mễ Tr\xec, Nam Từ Li\xeam, H\xe0 Nội)",prefix:(0,j.jsx)(x.Nh4,{style:{color:"#ff8fa3",marginRight:8}})})}),(0,j.jsxs)(o.Z.Item,{label:(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,j.jsx)("span",{children:"Tọa độ (T\xf9y chọn)"}),f&&(0!==f.lat||0!==f.lng)&&(0,j.jsx)(s.Z,{title:"X\xf3a tọa độ",children:(0,j.jsx)(c.ZP,{type:"text",size:"small",icon:(0,j.jsx)(g.Ybf,{size:13}),onClick:function(){t(function(e){e.mapCoordinates=void 0})},style:{color:"#ff4d4f",padding:"4px 8px",height:"auto",fontSize:"12px"},title:"X\xf3a tọa độ"})})]}),children:[(0,j.jsxs)(l.Z,{gutter:8,children:[(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(u.Z,{style:{width:"100%"},placeholder:"Vĩ độ (Latitude)",value:null==f?void 0:f.lat,onChange:function(e){t(function(t){if(null===e){var n;null!==(n=t.mapCoordinates)&&void 0!==n&&n.lng?t.mapCoordinates.lat=0:t.mapCoordinates=void 0}else t.mapCoordinates?t.mapCoordinates.lat=e:t.mapCoordinates={lat:e,lng:0}})},precision:6,min:-90,max:90,prefix:(0,j.jsx)(x.ekl,{style:{color:"#ff8fa3",marginRight:4}})})}),(0,j.jsx)(d.Z,{span:12,children:(0,j.jsx)(u.Z,{style:{width:"100%"},placeholder:"Kinh độ (Longitude)",value:null==f?void 0:f.lng,onChange:function(e){t(function(t){if(null===e){var n;null!==(n=t.mapCoordinates)&&void 0!==n&&n.lat?t.mapCoordinates.lng=0:t.mapCoordinates=void 0}else t.mapCoordinates?t.mapCoordinates.lng=e:t.mapCoordinates={lat:0,lng:e}})},precision:6,min:-180,max:180,prefix:(0,j.jsx)(x.ekl,{style:{color:"#ff8fa3",marginRight:4}})})})]}),(0,j.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px",fontStyle:"italic",textAlign:"center"},children:"\uD83D\uDCA1 Nếu c\xf3 tọa độ, hệ thống sẽ ưu ti\xean sử dụng tọa độ thay v\xec địa chỉ"})]})]})]})}},77893:function(e,t,n){"use strict";var r=n(19848),a=n.n(r);n(67294);var o=n(78045),i=n(729),s=n(7764),c=n(8967),l=n(85253),d=n(85893);t.Z=function(){var e=(0,i.U)(),t=e.icon,n=e.iconColor,r=e.setIcon,u=e.setIconColor,x=function(e){r(e)};return(0,d.jsxs)("div",{className:"jsx-753478186 music-setting",children:[(0,d.jsx)("h2",{className:"jsx-753478186",children:"Nhạc nền"}),(0,d.jsx)(c.Z,{}),(0,d.jsxs)("div",{className:"jsx-753478186 setting-section",children:[(0,d.jsx)("h3",{className:"jsx-753478186",children:"Chọn biểu tượng"}),(0,d.jsx)(o.ZP.Group,{value:t,onChange:function(e){return x(e.target.value)},children:[{value:"audio-1",label:"\uD83C\uDFB5"},{value:"audio-2",label:"\uD83C\uDFBC"},{value:"audio-3",label:"\uD83D\uDCBF"},{value:"audio-4",label:"\uD83C\uDFB6"},{value:"audio-5",label:"\uD83C\uDFB5"},{value:"audio-6",label:"\uD83C\uDFB5"}].map(function(e){return(0,d.jsx)(o.ZP.Button,{value:e.value,children:(0,d.jsx)("img",{src:"".concat(s.Z.CDN_URL,"/assets/").concat(e.value,".png"),alt:e.label,width:"24",height:"24",className:"jsx-753478186 icon-audio mix-blend"})},e.value)})})]}),(0,d.jsxs)("div",{className:"jsx-753478186 setting-section",children:[(0,d.jsx)("h3",{className:"jsx-753478186",children:"M\xe0u biểu tượng"}),(0,d.jsx)(l.Z,{value:n,onChange:function(e){if(e.rgba&&e.rgba.a<1){var t=e.rgba,n=t.r,r=t.g,a=t.b,o=t.a;u("rgba(".concat(n,", ").concat(r,", ").concat(a,", ").concat(o,")"))}else u(e.hex)}})]}),(0,d.jsx)(a(),{id:"753478186",children:[".music-setting.jsx-753478186{padding:10px;}",".setting-section.jsx-753478186{margin-bottom:24px;}",".mix-blend.jsx-753478186{mix-blend-mode:difference;opacity:0.3;}","h2.jsx-753478186{font-size:18px;font-weight:500;}","h3.jsx-753478186{font-size:14px;margin-bottom:12px;color:#666;}",".music-setting .ant-radio-group{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:8px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".music-setting .ant-radio-button-wrapper{height:35px;width:35px;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:4px !important;border:1px solid #d9d9d9 !important;margin-right:0;background:#f4f5f6 !important;}",".music-setting .ant-radio-button-wrapper:not(:first-child)::before{display:none !important;}",".music-setting .ant-radio-button-wrapper-checked{border-color:#1890ff !important;color:#1890ff !important;background:#e6f4ff !important;}",".music-setting .ant-radio-button-wrapper:hover{color:#1890ff;background:#e6f4ff !important;}"]})]})}},63054:function(e,t,n){"use strict";n.d(t,{j:function(){return h}});var r=n(27812),a=n(67294),o=n(81567),i=n(24435),s=n(83062),c=n(83622),l=n(67623),d=n(61121),u=n(87771),x=n(85253),p=n(85893),f=o.Z.Option,h=function(){var e=(0,l.Zo)(function(e){return{propValue:{borderColor:e.data.props.borderColor||"black",borderSize:e.data.props.borderSize||0,borderStyle:e.data.props.borderStyle||"solid",borderPosition:e.data.props.borderPosition||"all",borderRadius:e.data.props.borderRadius||[0,0,0,0]}}}),t=e.actions.setProp,n=e.propValue,h=(0,a.useState)(!0),m=h[0],g=h[1],b=function(e){t(function(t){e.rgba&&e.rgba.a<1?t.borderColor=j(e.rgba):t.borderColor=e.hex})},j=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""},y=function(e,n){t(function(t){var a=(0,r.Z)(t.borderRadius);m?a.fill(e):a[n]=e,t.borderRadius=a})};return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("label",{className:"text-sm font-medium mr-4",children:"Size:"}),(0,p.jsx)(i.Z,{min:0,max:20,step:1,value:n.borderSize,onChange:function(e){t(function(t){t.borderSize=e})},style:{width:"60px"}})]}),(0,p.jsx)("div",{className:"flex items-center",children:(0,p.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,p.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u:"}),(0,p.jsx)(x.Z,{value:n.borderColor,onChange:function(e){return b(e)}})]})})]}),(0,p.jsxs)("div",{className:"flex items-center mb-4",children:[(0,p.jsx)("label",{className:"text-sm font-medium mr-4",children:"Kiểu:"}),(0,p.jsxs)(o.Z,{value:n.borderStyle,onChange:function(e){t(function(t){t.borderStyle=e})},style:{flex:1},children:[(0,p.jsx)(f,{value:"solid",children:"N\xe9t liền"}),(0,p.jsx)(f,{value:"dashed",children:"N\xe9t đứt"}),(0,p.jsx)(f,{value:"dotted",children:"Chấm tr\xf2n"}),(0,p.jsx)(f,{value:"double",children:"Viền đ\xf4i"})]})]}),(0,p.jsxs)("div",{className:"flex items-center mb-4",children:[(0,p.jsx)("label",{className:"text-sm font-medium mr-4",children:"Vị tr\xed:"}),(0,p.jsxs)(o.Z,{value:n.borderPosition,onChange:function(e){t(function(t){t.borderPosition=e})},style:{flex:1},children:[(0,p.jsx)(f,{value:"all",children:"To\xe0n bộ"}),(0,p.jsx)(f,{value:"top",children:"Tr\xean"}),(0,p.jsx)(f,{value:"bottom",children:"Dưới"}),(0,p.jsx)(f,{value:"right",children:"Phải"}),(0,p.jsx)(f,{value:"left",children:"Tr\xe1i"}),(0,p.jsx)(f,{value:"top-bottom",children:"Tr\xean dưới"}),(0,p.jsx)(f,{value:"right-left",children:"Phải tr\xe1i"}),(0,p.jsx)(f,{value:"upper-left",children:"Tr\xean tr\xe1i"}),(0,p.jsx)(f,{value:"upper-right",children:"Tr\xean phải"}),(0,p.jsx)(f,{value:"lower-left",children:"Dưới tr\xe1i"}),(0,p.jsx)(f,{value:"lower-right",children:"Dưới phải"})]})]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsx)("label",{className:"text-sm font-medium",children:"Bo g\xf3c"}),(0,p.jsx)(s.Z,{title:"".concat(m?"Unlink":"Link"),children:(0,p.jsx)(c.ZP,{type:"text",icon:m?(0,p.jsx)(d.Wlb,{size:18}):(0,p.jsx)(d.nL$,{size:18}),onClick:function(){g(function(e){return!e})}})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,p.jsx)(u.kzc,{size:24}),(0,p.jsx)(i.Z,{min:0,value:n.borderRadius[0],onChange:function(e){return y(e,0)},style:{width:"60px"}})]}),(0,p.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,p.jsx)(i.Z,{min:0,value:n.borderRadius[1],onChange:function(e){return y(e,1)},style:{width:"60px"}}),(0,p.jsx)(u.tVN,{size:24})]}),(0,p.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,p.jsx)(u.uDm,{size:24}),(0,p.jsx)(i.Z,{min:0,value:n.borderRadius[3],onChange:function(e){return y(e,3)},style:{width:"60px"}})]}),(0,p.jsxs)("div",{className:"flex items-center gap-1 justify-center",children:[(0,p.jsx)(i.Z,{min:0,value:n.borderRadius[2],onChange:function(e){return y(e,2)},style:{width:"60px"}}),(0,p.jsx)(u.Ie6,{size:24})]})]})]})]})}},56084:function(e,t,n){"use strict";n.d(t,{O:function(){return u}}),n(67294);var r=n(67623),a=n(72269),o=n(24435),i=n(86125),s=n(55241),c=n(83622),l=n(24198),d=n(85893),u=function(){var e=(0,r.Zo)(function(e){return{propValue:{hasShadow:e.data.props.hasShadow||!1,boxShadow:e.data.props.boxShadow||{offsetX:10,offsetY:10,blur:5,spread:0,color:"rgba(0, 0, 0, 0.5)",opacity:.5}}}}),t=e.actions.setProp,n=e.propValue,u=function(e,n){t(function(t){t.boxShadow[e]=n})};return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"mb-4 flex justify-between",children:[(0,d.jsx)("label",{className:"text-sm font-medium",children:"Đổ b\xf3ng "}),(0,d.jsx)(a.Z,{checked:n.hasShadow,onChange:function(e){t(function(t){t.hasShadow=e})}})]}),n.hasShadow&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Horizontal Length"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(o.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetX,onChange:function(e){return u("offsetX",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(i.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetX,onChange:function(e){return u("offsetX",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Vertical Length"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(o.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetY,onChange:function(e){return u("offsetY",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(i.Z,{min:-100,max:100,step:1,value:n.boxShadow.offsetY,onChange:function(e){return u("offsetY",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Blur Radius"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(o.Z,{min:0,max:100,step:1,value:n.boxShadow.blur,onChange:function(e){return u("blur",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(i.Z,{min:0,max:100,step:1,value:n.boxShadow.blur,onChange:function(e){return u("blur",e)}})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-sm",children:"Spread Radius"}),(0,d.jsxs)("div",{children:[(0,d.jsx)(o.Z,{min:-100,max:100,step:1,value:n.boxShadow.spread,onChange:function(e){return u("spread",e||0)},style:{width:"50px"}}),(0,d.jsx)("span",{className:"ml-1 text-sm",children:"px"})]})]}),(0,d.jsx)(i.Z,{min:-100,max:100,step:1,value:n.boxShadow.spread,onChange:function(e){return u("spread",e)}})]}),(0,d.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm",children:"Shadow Color"}),(0,d.jsx)(s.Z,{content:(0,d.jsx)(l.xS,{color:n.boxShadow.color,onChangeComplete:function(e){var n="rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")");t(function(e){e.boxShadow.color=n})}}),trigger:"click",children:(0,d.jsx)(c.ZP,{style:{backgroundColor:n.boxShadow.color,border:"1px solid #ccc",width:"40px",height:"30px"}})})]})]})]})}},93773:function(e,t,n){"use strict";n.d(t,{R:function(){return i}}),n(67294);var r=n(67623),a=n(85253),o=n(85893),i=function(e){var t=e.isColor,n=e.isBackground,i=e.colorTitle,s=e.defaultColor,c=void 0===s?"#000000":s,l=(0,r.Zo)(function(e){return{propValue:{color:e.data.props.color||c,backgroundColor:e.data.props.backgroundColor||"#ffffff"}}}),d=l.actions.setProp,u=l.propValue,x=function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):""};return(0,o.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(void 0===t||t)&&(0,o.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,o.jsx)("label",{className:"text-sm font-medium",children:void 0===i?"M\xe0u sắc":i}),(0,o.jsx)(a.Z,{value:u.color,onChange:function(e){d(function(t){e.rgba&&e.rgba.a<1?t.color=x(e.rgba):t.color=e.hex})}})]}),(void 0===n||n)&&(0,o.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,o.jsx)("label",{className:"text-sm font-medium",children:"M\xe0u nền"}),(0,o.jsx)(a.Z,{value:"transparent"!==u.backgroundColor?u.backgroundColor:"#ffffff",onChange:function(e){d(function(t){e.rgba&&e.rgba.a<1?t.backgroundColor=x(e.rgba):t.backgroundColor=e.hex})}})]})]})}},12157:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var r=n(19848),a=n.n(r),o=n(67294),i=n(67623),s=n(9198),c=n.n(s),l=n(57806),d=n(85893);(0,s.registerLocale)("vi",l.vi);var u=function(){var e=(0,i.Zo)(function(e){return{selectedDate:e.data.props.selectedDate}}),t=e.actions.setProp,n=e.selectedDate,r=(0,o.useState)(new Date(n)),s=r[0],l=r[1];return(0,d.jsxs)("div",{className:"jsx-2177057735 flex justify-between items-center my-4",children:[(0,d.jsx)("label",{className:"jsx-2177057735 text-sm font-medium w-24",children:"Chọn ng\xe0y"}),(0,d.jsx)(c(),{className:"custom-datepicker",locale:"vi",selected:s,onChange:function(e){(e instanceof Date||null===e)&&(l(e),t(function(t){t.selectedDate=e}))},dateFormat:"dd/MM/yyyy",popperPlacement:"bottom-start"}),(0,d.jsx)(a(),{id:"2177057735",children:[".custom-datepicker{border:1px solid #ccc;border-radius:4px;padding:4px 8px;width:100%;}",".react-datepicker-popper{width:-webkit-max-content;width:-moz-max-content;width:max-content;}"]})]})}},76071:function(e,t,n){"use strict";n.d(t,{v:function(){return b}});var r=n(16835),a=n(50029),o=n(19848),i=n.n(o),s=n(87794),c=n.n(s),l=n(81567),d=n(67623),u=n(67294),x=n(7764),p=n(87066),f=n(26294),h=n(85893),m=l.Z.Option,g={id:"Arial",name:"Arial",category:"Default"},b=function(){var e=(0,u.useState)([]),t=e[0],n=e[1],o=(0,u.useState)(!0),s=o[0],b=o[1],j=(0,u.useState)(null),y=j[0],v=j[1],w=(0,u.useState)(!1),k=w[0],N=w[1],C=(0,d.Zo)(function(e){return{fontFamily:e.data.props.fontFamily}}),O=C.actions.setProp,S=C.fontFamily;(0,u.useEffect)(function(){var e;(e=(0,a.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.default.get("".concat(x.Z.API_URL,"/api/resources/fonts"));case 3:n(e.sent.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),v("Failed to load fonts"),console.error("Error fetching fonts:",e.t0);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,7,11,14]])})),function(){return e.apply(this,arguments)})()},[]);var T=t.reduce(function(e,t){return e[t.category]||(e[t.category]=[]),e[t.category].push(t),e},{});return(0,h.jsxs)("div",{className:"jsx-3336003523 flex justify-between items-center my-4",children:[(0,h.jsx)("label",{className:"jsx-3336003523 text-sm font-medium",children:"Font"}),(0,h.jsxs)(l.Z,{value:S?(0,f.fb)(S):void 0,className:"w-3/4",onChange:function(e){if(N(!0),t.find(function(t){return t.name===e})){var n;(n=(0,f.gs)(e),new Promise(function(e,r){if(document.getElementById("font-face-".concat(n))){e();return}var a=t.find(function(e){return(0,f.gs)(e.name)===n});if(!a){r(Error("Font with id ".concat(n," not found")));return}var o="".concat(x.Z.CDN_RESOURCE_URL,"/fonts/webfonts/").concat(n,"/").concat(n,".woff2"),i=document.createElement("style");i.id="font-face-".concat(n),i.textContent='\n      @font-face {\n        font-family: "'.concat(a.name,'";\n        src: url("').concat(o,'") format("woff2");\n        font-weight: normal;\n        font-style: normal;\n        font-display: swap;\n      }\n    '),new FontFace(a.name,"url(".concat(o,")"),{display:"swap"}).load().then(function(t){document.fonts.add(t),document.head.appendChild(i),e()}).catch(function(e){console.error("Failed to load font ".concat(a.name,":"),e),r(e)})})).then(function(){O(function(t){t.fontFamily='"'.concat(e,'"')},500),N(!1)}).catch(function(e){console.error("Failed to load font:",e),N(!1)})}else O(function(t){t.fontFamily='"'.concat(e,'"')},500),N(!1)},placeholder:"Select a font",loading:s,optionLabelProp:"label",disabled:k,children:[(0,h.jsx)(l.Z.OptGroup,{label:"Default",children:(0,h.jsx)(m,{value:g.name,label:(0,h.jsx)("div",{className:"jsx-3336003523 h-6 flex items-center",children:(0,h.jsx)("span",{className:"jsx-3336003523 font-sans",children:g.name})}),children:(0,h.jsx)("div",{className:"jsx-3336003523 py-1 px-2 hover:bg-gray-50",children:(0,h.jsx)("span",{className:"jsx-3336003523 font-sans text-base",children:g.name})})},g.id)},"Default"),Object.entries(T).map(function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,h.jsx)(l.Z.OptGroup,{label:n,children:a.map(function(e){return(0,h.jsx)(m,{value:e.name,label:(0,h.jsx)("div",{className:"jsx-3336003523 h-6 flex items-center",children:(0,h.jsx)("img",{src:"".concat(x.Z.CDN_RESOURCE_URL,"/").concat(e.thumbnail),alt:e.name,loading:"lazy",className:"jsx-3336003523 h-4 object-contain"})}),children:(0,h.jsx)("div",{className:"jsx-3336003523 py-1 px-2 hover:bg-gray-50",children:(0,h.jsx)("img",{src:"".concat(x.Z.CDN_RESOURCE_URL,"/").concat(e.thumbnail),alt:e.name,loading:"lazy",className:"jsx-3336003523 h-6 w-auto object-contain"})})},e.id)})},n)})]}),y&&(0,h.jsx)("div",{className:"jsx-3336003523 text-red-500 text-sm mt-2",children:y}),(0,h.jsx)(i(),{id:"3336003523",children:[".ant-select-item{padding:4px !important;}",".ant-select-selection-item{display:-webkit-box !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-align-items:center !important;-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;padding:0 8px !important;}"]})]})}},85970:function(e,t,n){"use strict";n.d(t,{B:function(){return x}});var r=n(19848),a=n.n(r);n(67294);var o=n(67623),i=n(81567),s=n(83622),c=n(52745),l=n(24969),d=n(85893),u=i.Z.Option,x=function(){var e=(0,o.Zo)(function(e){return{fontSize:e.data.props.fontSize}}),t=e.actions.setProp,n=e.fontSize;return(0,d.jsxs)("div",{className:"jsx-3821075601 font-size-container flex items-center justify-between my-4",children:[(0,d.jsx)("label",{className:"jsx-3821075601 text-sm font-medium mb-1",children:"Font size"}),(0,d.jsxs)("div",{className:"jsx-3821075601 flex",children:[(0,d.jsx)(s.ZP,{icon:(0,d.jsx)(c.Z,{}),onClick:function(){var e=parseInt(n)-1;t(function(t){t.fontSize=e},1e3)},style:{borderRadius:"4px 0 0 4px",width:30,display:"flex",justifyContent:"center",alignItems:"center"}}),(0,d.jsx)(i.Z,{value:n,style:{width:65},className:"font-size-input",onChange:function(e){t(function(t){t.fontSize=e},1e3)},children:[10,12,14,16,18,20,22,24,26,30,36,48,64,72].map(function(e){return(0,d.jsx)(u,{className:"font-size-input-item",value:e,children:e},e)})}),(0,d.jsx)(s.ZP,{icon:(0,d.jsx)(l.Z,{}),onClick:function(){var e=parseInt(n)+1;t(function(t){t.fontSize=e},1e3)},style:{borderRadius:" 0 4px 4px 0",width:30,display:"flex",justifyContent:"center",alignItems:"center"}})]}),(0,d.jsx)(a(),{id:"3821075601",children:[".font-size-input .ant-select-selector{border-radius:0px !important;}",".font-size-container .ant-btn.ant-btn-icon-only .anticon{font-size:15px;}",".font-size-container .ant-select-selection-item,.font-size-container .ant-select-item-option-content{font-size:14px;}"]})]})}},66748:function(e,t,n){"use strict";n.d(t,{e:function(){return g}});var r=n(19848),a=n.n(r),o=n(76975),i=n(86745),s=n(77917),c=n(67623),l=n(22567),d=n(29104),u=n(4393),x=n(83622),p=n(7764),f=n(67294),h=n(85518),m=n(85893),g=function(e){var t=e.type,n=h.tq||h.Em,r=(0,c.Zo)(function(e){return{id:e.id,imgKey:e.data.props.imgKey,height:e.data.props.height,width:e.data.props.width}}),g=r.id,b=r.imgKey,j=r.width,y=r.height,v=(0,s.M)(100,j,y),w=v.scaleWidth,k=v.scaleHeight,N="".concat(p.Z.CDN_RESOURCE_URL,"/").concat(b),C=(0,m.jsx)("div",{className:"shape-component",style:{width:w,height:k,maskImage:"url(".concat(N,")"),backgroundColor:"rgb(204, 204, 204)",maskSize:"100% 100%",maskRepeat:"no-repeat",overflow:"visible"}}),O=(0,m.jsx)(d.Z,{src:N,alt:"Material ",width:100,height:100,style:{height:"100%",objectFit:"contain",objectPosition:"center"}}),S={height:"shape"===t?k:100,width:"shape"===t?w:100},T=(0,i.Hj)(),Z=T.setReplacing,E=T.setReplaceType,D=T.setSelectedNodeId,P=T.isReplacing,R=T.resetReplaceItem,I=(0,i.Dk)().setActiveKey;return(0,f.useEffect)(function(){return function(){P&&(R(),I(null))}},[P]),(0,m.jsxs)("div",{className:"jsx-335414158 my-4 flex justify-around items-center",children:[!n&&(0,m.jsxs)("div",{className:"jsx-335414158 flex justify-center flex-col gap-2 items-center",children:[(0,m.jsx)(u.Z,{hoverable:!0,bordered:!0,style:{width:S.width+20,height:S.height+20,padding:10},cover:"shape"===t?C:O}),(0,m.jsxs)(x.ZP,{color:"primary",type:"primary",size:"small",onClick:function(){var e=o.Ey.MATERIAL;Z(!0),E(t),I(e),D(g)},className:"flex items-center gap-2 text-sm",children:[(0,m.jsx)(l.JO,{icon:"solar:gallery-wide-bold",className:"w-5 h-5"}),"Thay đổi"]})]}),(0,m.jsx)(a(),{id:"335414158",children:[".shape-component.jsx-335414158{opacity:1;z-index:151;border-radius:0px;background-color:rgb(204,204,204);border:0px solid rgb(0,0,0);-webkit-mask-size:100% 100%;mask-size:100% 100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;overflow:visible !important;}",".button-container.jsx-335414158{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;gap:16px;}",".custom-button.jsx-335414158{background-color:#ff8fa3;color:#ffffff;border:none;border-radius:8px;width:100px;height:35px;font-size:14px;text-align:center;cursor:pointer;box-shadow:0px 2px 4px rgba(0,0,0,0.1);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}",".custom-button.jsx-335414158:hover{background-color:#fd9cad;box-shadow:0px 4px 6px rgba(0,0,0,0.15);}",".custom-button.jsx-335414158:active{background-color:#fd9cad;-webkit-transform:scale(0.98);-ms-transform:scale(0.98);transform:scale(0.98);}"]})]})}},15720:function(e,t,n){"use strict";n.d(t,{I:function(){return p}});var r=n(27812),a=n(19848),o=n.n(a),i=n(67294),s=n(67623),c=n(83062),l=n(83622),d=n(24435),u=n(61121),x=n(85893),p=function(){var e=(0,s.Zo)(function(e){return{propValue:{padding:e.data.props.padding||[0,0,0,0]}}}),t=e.actions.setProp,n=e.propValue,a=(0,i.useState)(!0),p=a[0],f=a[1],h=(0,i.useState)(null),m=h[0],g=h[1],b=function(e,n){t(function(t){var a=(0,r.Z)(t.padding);p?a.fill(e):a[n]=e,t.padding=a})},j=function(e){g(e)},y=function(){g(null)};return(0,x.jsxs)("div",{className:"jsx-1460817636 flex flex-col mb-4",children:[(0,x.jsxs)("div",{className:"jsx-1460817636 flex items-center justify-between mb-2",children:[(0,x.jsx)("label",{className:"jsx-1460817636 text-sm font-medium",children:"Khoảng đệm (Padding)"}),(0,x.jsx)(c.Z,{title:"".concat(p?"Unlink":"Link"),children:(0,x.jsx)(l.ZP,{type:"text",icon:p?(0,x.jsx)(u.Wlb,{size:18}):(0,x.jsx)(u.nL$,{size:18}),onClick:function(){f(function(e){return!e})}})})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateRows:"auto auto auto",gridTemplateColumns:"auto auto auto",justifyContent:"center",alignItems:"center",gap:"10px"},className:"jsx-1460817636 padding-container",children:[(0,x.jsx)("div",{style:{gridRow:"1",gridColumn:"2",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[0],onChange:function(e){return b(e||0,0)},onFocus:function(){return j("top")},onBlur:y,style:{width:"60px"}})}),(0,x.jsx)("div",{style:{gridRow:"2",gridColumn:"1",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[3],onChange:function(e){return b(e||0,3)},onFocus:function(){return j("left")},onBlur:y,style:{width:"60px"}})}),(0,x.jsx)("div",{style:{gridRow:"2",gridColumn:"2",backgroundColor:"#e0e0e0",width:"100px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",border:p&&null!==m?"10px solid #ccc":"1px solid #ccc",position:"relative"},className:"jsx-1460817636 "+"center-block ".concat(p?"":"not-linked"," ").concat("top"===m?"highlight-top":"right"===m?"highlight-right":"bottom"===m?"highlight-bottom":"left"===m?"highlight-left":""),children:"Block"}),(0,x.jsx)("div",{style:{gridRow:"2",gridColumn:"3",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[1],onChange:function(e){return b(e||0,1)},onFocus:function(){return j("right")},onBlur:y,style:{width:"60px"}})}),(0,x.jsx)("div",{style:{gridRow:"3",gridColumn:"2",display:"flex",justifyContent:"center",alignItems:"center"},className:"jsx-1460817636",children:(0,x.jsx)(d.Z,{min:0,max:100,step:1,value:n.padding[2],onChange:function(e){return b(e||0,2)},onFocus:function(){return j("bottom")},onBlur:y,style:{width:"60px"}})})]}),(0,x.jsx)(o(),{id:"1460817636",children:[".center-block.not-linked.jsx-1460817636{position:relative;}",'.center-block.not-linked.jsx-1460817636::before{content:"";position:absolute;width:100%;height:10px;background-color:transparent;}','.center-block.not-linked.jsx-1460817636::after{content:"";position:absolute;width:10px;height:100%;background-color:transparent;}',".not-linked.highlight-top.jsx-1460817636::before{top:0px;background-color:#ccc;}",".not-linked.highlight-bottom.jsx-1460817636::before{bottom:0px;background-color:#ccc;}",".not-linked.highlight-left.jsx-1460817636::after{left:0px;background-color:#ccc;}",".not-linked.highlight-right.jsx-1460817636::after{right:0px;background-color:#ccc;}"]})]})}},15465:function(e,t,n){"use strict";n.d(t,{Z:function(){return W}});var r=n(50029),a=n(59499),o=n(87794),i=n.n(o),s=n(67294),c=n(25593),l=n(2453),d=n(78957),u=n(81567),x=n(83622),p=n(72269),f=n(47221),h=n(33299),m=n(54811),g=n(90072),b=n(46256),j=n(23616),y=n(97533),v=n(18036),w=n(27812),k=n(16835),N=n(99859),C=n(17788),O=n(38289),S=n(74330),T=n(32983),Z=n(71230),E=n(15746),D=n(86548),P=n(99611),R=n(25675),I=n.n(R),A=n(84249),z=n(52804),B=n(49184),_=n(75451),F=n(7764),M=n(85893),H=c.Z.Text,L=function(e){var t,n,a,o=e.viewAs,c=(0,g.X2)(),d=c.settings,u=c.setTitle,p=c.setThumbnail,f=(0,s.useState)(!1),h=f[0],m=f[1],b=(0,s.useState)(!1),j=b[0],y=b[1],v=(0,s.useState)(!1),R=v[0],L=v[1],U=(0,s.useState)(null),X=U[0],K=U[1],q=(0,s.useState)([]),W=q[0],Y=q[1],G=(0,s.useState)(!1),V=G[0],Q=G[1],J=(0,s.useRef)({}),$=N.Z.useForm(),ee=(0,k.Z)($,1)[0],et=(0,z.$)(function(e){return e.refreshTrigger});(0,s.useEffect)(function(){ee.setFieldsValue({title:d.title||""})},[d.title,ee]);var en=function(){m(!0)},er=function(){m(!1)},ea=(t=(0,r.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.validateFields();case 3:u(e.sent.title),m(!1),l.ZP.success("Đ\xe3 cập nhật c\xe0i đặt trang"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error saving settings:",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return t.apply(this,arguments)}),eo=function(){y(!1)},ei=(n=(0,r.Z)(i().mark(function e(t){var n,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(X){e.next=2;break}return e.abrupt("return");case 2:try{n="".concat(X.url,"?").concat(t),r=(0,A.cb)(n),p(r),l.ZP.success("Đ\xe3 cập nhật thumbnail cho trang"),L(!1),K(null)}catch(e){console.error("Error processing cropped image:",e),l.ZP.error("C\xf3 lỗi xảy ra khi xử l\xfd ảnh đ\xe3 cắt")}case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),es=function(e){K(e),L(!0),eo()},ec=(a=(0,r.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Q(!0),e.prev=1,!o){e.next=8;break}return e.next=5,(0,B.oJ)(o);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,(0,B.ZQ)();case 10:t=e.sent;case 11:Y(el(t)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error fetching user photos:",e.t0),l.ZP.error("Failed to load photos");case 19:return e.prev=19,Q(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[1,15,19,22]])})),function(){return a.apply(this,arguments)}),el=function(e){return(0,w.Z)(e).sort(function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})};(0,s.useEffect)(function(){j&&ec()},[et,j]);var ed=(W.reduce(function(e,t){return e+(t.fileSize||0)},0)/1073741824).toFixed(4),eu=d.thumbnailKey?(0,A.eQ)(d.thumbnailKey):"".concat(F.Z.CDN_URL,"/images/cinelove-default-thumbnail.jpg"),ex=d.title||"Chưa c\xf3 ti\xeau đề";return(0,M.jsxs)("div",{className:"page-title-thumbnail-setting",children:[(0,M.jsxs)("div",{className:"mb-6",children:[(0,M.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,M.jsx)(H,{strong:!0,className:"text-base",children:"Bản xem trước"}),(0,M.jsx)(x.ZP,{type:"primary",icon:(0,M.jsx)(D.Z,{}),onClick:en,size:"small",children:"Chỉnh sửa"})]}),(0,M.jsxs)("div",{className:"border mt-2 border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow",onClick:en,children:[(0,M.jsx)("div",{className:"relative w-full h-auto bg-gray-100",children:(0,M.jsx)("img",{src:eu,alt:"Page thumbnail",className:"object-cover w-full h-full"})}),(0,M.jsx)("div",{className:"p-2",children:(0,M.jsx)(H,{strong:!0,className:"text-lg block mb-1 line-clamp-2",children:ex})})]}),(0,M.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Đ\xe2y l\xe0 c\xe1ch trang của bạn sẽ hiển thị khi được chia sẻ tr\xean Facebook, Zalo, Messenger hoặc c\xe1c mạng x\xe3 hội kh\xe1c."})]}),(0,M.jsx)(C.Z,{title:"C\xe0i đặt ti\xeau đề v\xe0 h\xecnh đại diện",open:h,onCancel:er,footer:[(0,M.jsx)(x.ZP,{onClick:er,children:"Hủy"},"back"),(0,M.jsx)(x.ZP,{type:"primary",onClick:ea,children:"Lưu thay đổi"},"submit")],width:600,children:(0,M.jsxs)(N.Z,{form:ee,layout:"vertical",className:"mt-4",children:[(0,M.jsx)(N.Z.Item,{name:"title",label:"Ti\xeau đề trang",rules:[{required:!0,message:"Vui l\xf2ng nhập ti\xeau đề trang"}],children:(0,M.jsx)(O.Z,{placeholder:"VD: Cine & Love Wedding",maxLength:100,showCount:!0})}),(0,M.jsx)(N.Z.Item,{label:"H\xecnh đại diện",children:(0,M.jsxs)("div",{className:"space-y-3",children:[(0,M.jsxs)("div",{className:"flex items-center justify-center flex-col space-x-3",children:[(0,M.jsx)("div",{className:"h-48 relative border border-gray-200 rounded-md overflow-hidden flex-shrink-0 m-auto",children:(0,M.jsx)("img",{src:eu,alt:"Current thumbnail",className:"object-cover w-full h-full"})}),(0,M.jsx)("div",{className:"flex-1",children:(0,M.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Tỉ lệ khuyến nghị: 16:9"})})]}),(0,M.jsx)(x.ZP,{type:"default",icon:(0,M.jsx)(P.Z,{}),onClick:function(){ec(),y(!0)},className:"w-full",children:"Chọn h\xecnh đại diện kh\xe1c"}),(0,M.jsx)("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Ảnh sẽ được cắt theo tỉ lệ được chọn (4:3, 16:9, 3:2) để tối ưu hiển thị"})]})})]})}),(0,M.jsx)(C.Z,{title:(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{children:"Chọn h\xecnh đại diện"}),(0,M.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Sau khi chọn, ảnh sẽ được cắt theo tỉ lệ mong muốn (4:3, 16:9, 3:2)"})]}),open:j,onCancel:eo,footer:[(0,M.jsxs)("div",{style:{float:"left",fontSize:"12px"},children:["Tổng ",W.length," ảnh (",ed," GB)"]},"info"),(0,M.jsx)(x.ZP,{onClick:eo,children:"Hủy"},"back")],width:600,styles:{body:{maxHeight:"500px",overflow:"hidden",padding:"16px 16px 0 16px"}},children:V?(0,M.jsx)("div",{style:{textAlign:"center",padding:"40px 0"},children:(0,M.jsx)(S.Z,{tip:"Đang tải..."})}):0===W.length?(0,M.jsx)(T.Z,{description:"Chưa c\xf3 ảnh n\xe0o được tải l\xean"}):(0,M.jsx)("div",{style:{maxHeight:"460px",overflowY:"auto",paddingRight:"8px"},children:(0,M.jsx)(Z.Z,{gutter:[16,16],style:{marginBottom:"16px"},children:W.map(function(e){return(0,M.jsx)(E.Z,{xs:12,sm:8,md:6,lg:6,xl:6,children:(0,M.jsx)("div",{className:"user-upload-item cursor-pointer",onClick:function(){return es({fileKey:e.fileKey,url:(0,A.eQ)(e.fileKey)})},children:(0,M.jsx)("div",{style:{position:"relative",width:"100%",height:"120px",borderRadius:"4px",overflow:"hidden",border:"1px solid #f0f0f0",transition:"all 0.3s",backgroundColor:"#f9fafb"},className:"hover:shadow-md hover:border-blue-400 hover:scale-[1.02]",children:(0,M.jsx)(I(),{unoptimized:!0,src:(0,A.VM)(e.fileKey,200),alt:"User photo ".concat(e.fileId),fill:!0,className:"object-contain",ref:function(t){return J.current[e.fileId]=t}})})})},e.fileId)})})})}),X&&(0,M.jsx)(_.Z,{visible:R,imageSrc:X.url,onComplete:ei,onCancel:function(){L(!1),K(null)}})]})},U=n(77341);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=c.Z.Text,W=function(e){var t,n,o,c,w=e.onChange,k=e.viewAs,N=(0,g.X2)(),C=N.settings,O=N.setShowBottomToolbar,S=N.setStatus,T=N.setQRBankAccounts,Z=N.setHideWatermark,E=N.setCategoryId,D=N.setBottomToolbarComponent,P=N.setShowInGallery,R=(0,h.useSession)().data,I=(null==R?void 0:null===(n=R.user)||void 0===n?void 0:n.plan)||"free",A=(0,b.TN)().pageData,z=(0,s.useState)([]),B=z[0],_=z[1];(0,s.useEffect)(function(){C.qrBankAccounts&&_(C.qrBankAccounts.map(function(e){return K(K({},e),{},{id:e.id||Date.now().toString()})}))},[C.qrBankAccounts]);var H=function(e,t){if("free"===I){if("showBottomToolbar"===e&&!0!==t){l.ZP.warning("T\xf9y chỉnh thanh c\xf4ng cụ dưới chỉ d\xe0nh cho g\xf3i Basic+");return}if("hideWatermark"===e&&!0===t){l.ZP.warning("X\xf3a watermark chỉ d\xe0nh cho g\xf3i Basic+");return}if("qrBankAccounts"===e&&t&&t.length>0){l.ZP.warning("T\xednh năng QR Bank chỉ d\xe0nh cho g\xf3i Basic+");return}}var n=K({},C);"showBottomToolbar"===e?O((n="boolean"==typeof t?K(K({},C),{},{showBottomToolbar:{enabled:t,components:{comments:t,gifts:t,likes:t,qrCode:t}}}):K(K({},C),{},(0,a.Z)({},e,t))).showBottomToolbar):(n=K(K({},C),{},(0,a.Z)({},e,t)),"status"===e?S(t):"qrBankAccounts"===e?T(t):"hideWatermark"===e?Z(t):"categoryId"===e?E(t):"showInGallery"===e&&P(t)),w&&w(n)},X=function(e,t){D(e,t);var n=(0,j.q)(C.showBottomToolbar),r=K(K({},C),{},{showBottomToolbar:K(K({},n),{},{components:K(K({},n.components),{},(0,a.Z)({},e,t))})});w&&w(r)},W=(0,s.useState)([]),Y=W[0],G=W[1],V=(0,s.useState)(!1),Q=V[0],J=V[1];(0,s.useEffect)(function(){$()},[]);var $=(t=(0,r.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.prev=1,e.next=4,(0,y.tG)();case 4:(t=e.sent).success?G(t.categories):l.ZP.error("Kh\xf4ng thể tải danh s\xe1ch danh mục"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching categories:",e.t0),l.ZP.error("C\xf3 lỗi xảy ra khi tải danh s\xe1ch danh mục");case 12:return e.prev=12,J(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,8,12,15]])})),function(){return t.apply(this,arguments)});return(0,M.jsx)("div",{className:"page-setting",children:(0,M.jsxs)(d.Z,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,M.jsxs)("div",{children:[(0,M.jsx)(q,{strong:!0,children:"Danh mục"})," ",(0,M.jsx)("span",{className:"text-red-500",children:"*"}),(0,M.jsx)(u.Z,{placeholder:"Chọn danh mục",loading:Q,style:{width:"100%",marginTop:"8px"},value:C.categoryId,onChange:function(e){return H("categoryId",e)},children:Y.map(function(e){return(0,M.jsx)(u.Z.Option,{value:e.id,children:e.name},e.id)})})]}),(0,M.jsxs)("div",{children:[(0,M.jsx)(q,{strong:!0,children:"Trạng th\xe1i"}),(0,M.jsxs)(u.Z,{value:C.status||"published",onChange:function(e){return H("status",e)},style:{width:"100%",marginTop:"8px"},children:[(0,M.jsx)(u.Z.Option,{value:"draft",children:"Nh\xe1p"}),(0,M.jsx)(u.Z.Option,{value:"published",children:"C\xf4ng khai"})]}),(0,M.jsx)("div",{className:"text-xs mt-1 block text-gray-500",children:'Chỉ khi ở trạng th\xe1i "C\xf4ng khai", trang mới c\xf3 thể xem được từ URL của trang.'})]}),(0,M.jsx)(L,{viewAs:k}),"free"===I?(0,M.jsxs)("div",{className:"border border-blue-200 rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50",children:[(0,M.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,M.jsxs)("div",{className:"flex items-center",children:[(0,M.jsxs)(q,{strong:!0,className:"text-lg",children:["T\xednh năng n\xe2ng cao"," ",(0,M.jsx)(m.Z,{style:{color:"#1677ff",fontSize:"18px",marginLeft:"6px"}})]}),(0,M.jsx)("div",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full font-medium ml-3",children:"Basic+"})]})}),(0,M.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:"N\xe2ng cấp l\xean g\xf3i Basic+ để sử dụng c\xe1c t\xednh năng cao cấp sau:"}),(0,M.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,M.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,M.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,M.jsxs)("div",{className:"flex-1",children:[(0,M.jsx)(q,{strong:!0,className:"text-base",children:"X\xf3a watermark"}),(0,M.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:'X\xf3a d\xf2ng "Made by Cinelove" để tạo trang web ho\xe0n to\xe0n ri\xeang tư'}),(0,M.jsxs)("div",{className:"mt-2 text-sm text-gray-500 italic",children:['"Made by',(0,M.jsx)("a",{href:"https://cinelove.me",target:"_blank",className:"ml-1 font-semibold",children:"Cinelove"}),'"']})]})]}),(0,M.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,M.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,M.jsxs)("div",{className:"flex-1",children:[(0,M.jsx)(q,{strong:!0,className:"text-base",children:"T\xf9y chỉnh thanh c\xf4ng cụ dưới"}),(0,M.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Bật/tắt hiển thị thanh c\xf4ng cụ (lời ch\xfac, tặng qu\xe0, th\xedch...)"}),(0,M.jsx)("div",{className:"mt-2 border border-gray-200 rounded-md overflow-hidden opacity-60",children:(0,M.jsx)("img",{src:"".concat(F.Z.CDN_URL,"/images/bottomToolbar.png"),alt:"Thanh c\xf4ng cụ dưới",className:"w-full object-cover",style:{maxHeight:"50px"}})})]})]}),(0,M.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-white rounded-lg border border-gray-100",children:[(0,M.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,M.jsxs)("div",{className:"flex-1",children:[(0,M.jsx)(q,{strong:!0,className:"text-base",children:"QR Bank"}),(0,M.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng để kh\xe1ch mời c\xf3 thể chuyển khoản trực tiếp"})]})]})]}),(0,M.jsxs)("div",{className:"flex flex-col items-center justify-between gap-2",children:[(0,M.jsxs)(q,{type:"secondary",className:"text-xs",children:["G\xf3i hiện tại:"," ",(0,M.jsx)("span",{className:"font-semibold",children:I.toUpperCase()})]}),(0,M.jsx)(x.ZP,{type:"primary",size:"large",onClick:function(){window.open("/pricing-plans?upgradeSource=advanced-features-page-setting","_blank")},className:"h-10",children:"N\xe2ng cấp l\xean Basic+"})]})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"flex items-center justify-between",children:[(0,M.jsxs)(q,{strong:!0,style:{position:"relative"},children:["X\xf3a watermark"," ",(0,M.jsx)(m.Z,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,M.jsx)(p.Z,{size:"small",checked:null!==(o=C.hideWatermark)&&void 0!==o&&o,onChange:function(e){return H("hideWatermark",e)}})]}),(0,M.jsxs)("div",{className:"mt-2 text-sm text-gray-600",style:{opacity:C.hideWatermark?.4:1,pointerEvents:C.hideWatermark?"none":"auto"},children:['"Made by',(0,M.jsx)("a",{href:"https://cinelove.me",className:"ml-1 font-semibold",children:"Cinelove"}),'"']})]}),(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"flex items-center justify-between",children:[(0,M.jsxs)(q,{strong:!0,style:{position:"relative"},children:["Hiển thị thanh c\xf4ng cụ"," ",(0,M.jsx)(m.Z,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,M.jsx)(p.Z,{size:"small",checked:(0,j.he)(C.showBottomToolbar),onChange:function(e){return H("showBottomToolbar",e)}})]}),(0,M.jsx)("div",{className:"text-sm mt-1 block text-gray-500",children:"Bao gồm phần gửi lời ch\xfac, tặng qu\xe0, th\xedch,..."}),(0,M.jsx)("div",{className:"mt-2 border border-gray-200 rounded-md overflow-hidden",children:(0,M.jsx)("img",{src:"".concat(F.Z.CDN_URL,"/images/bottomToolbar.png"),alt:"Thanh c\xf4ng cụ dưới",className:"w-full object-cover",style:{maxHeight:"60px"}})}),(0,j.he)(C.showBottomToolbar)&&(0,M.jsx)(f.Z,{size:"small",className:"mt-4",items:[{key:"1",label:(0,M.jsx)("div",{className:"font-semibold",children:"T\xf9y chọn thanh c\xf4ng cụ"}),children:(0,M.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,M.jsxs)("div",{className:"flex items-center justify-between",children:[(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full ".concat((0,j.Y0)(C.showBottomToolbar,g.fs.COMMENTS)?"":"opacity-50")}),(0,M.jsx)("div",{className:(0,j.Y0)(C.showBottomToolbar,g.fs.COMMENTS)?"":"opacity-50",children:"Lời ch\xfac"})]}),(0,M.jsx)(p.Z,{size:"small",checked:(0,j.Y0)(C.showBottomToolbar,g.fs.COMMENTS),onChange:function(e){return X(g.fs.COMMENTS,e)}})]}),(0,M.jsxs)("div",{className:"flex items-center justify-between",children:[(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)("div",{className:"w-3 h-3 bg-pink-500 rounded-full ".concat((0,j.Y0)(C.showBottomToolbar,g.fs.GIFTS)?"":"opacity-50")}),(0,M.jsx)("div",{className:(0,j.Y0)(C.showBottomToolbar,g.fs.GIFTS)?"":"opacity-50",children:"Tặng qu\xe0"})]}),(0,M.jsx)(p.Z,{size:"small",checked:(0,j.Y0)(C.showBottomToolbar,g.fs.GIFTS),onChange:function(e){return X(g.fs.GIFTS,e)}})]}),(0,M.jsxs)("div",{className:"flex items-center justify-between",children:[(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full ".concat((0,j.Y0)(C.showBottomToolbar,g.fs.LIKES)?"":"opacity-50")}),(0,M.jsx)("div",{className:(0,j.Y0)(C.showBottomToolbar,g.fs.LIKES)?"":"opacity-50",children:"Th\xedch"})]}),(0,M.jsx)(p.Z,{size:"small",checked:(0,j.Y0)(C.showBottomToolbar,g.fs.LIKES),onChange:function(e){return X(g.fs.LIKES,e)}})]}),(0,M.jsxs)("div",{className:"flex items-center justify-between",children:[(0,M.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,M.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full ".concat((0,j.Y0)(C.showBottomToolbar,g.fs.QR_CODE)?"":"opacity-50")}),(0,M.jsx)("div",{className:(0,j.Y0)(C.showBottomToolbar,g.fs.QR_CODE)?"":"opacity-50",children:"QR Bank"})]}),(0,M.jsx)(p.Z,{size:"small",checked:(0,j.Y0)(C.showBottomToolbar,g.fs.QR_CODE),onChange:function(e){return X(g.fs.QR_CODE,e)}})]}),(0,M.jsx)("div",{className:"text-sm mt-2 block text-gray-500",children:"Chọn c\xe1c phần muốn hiển thị trong thanh c\xf4ng cụ"})]})}]})]}),(0,j.he)(C.showBottomToolbar)&&(0,j.Y0)(C.showBottomToolbar,g.fs.QR_CODE)&&(0,M.jsx)(U.Z,{qrBankAccounts:B,onAccountsChange:function(e){_(e),H("qrBankAccounts",e)},userPlan:I,disabled:!1})]}),(null==A?void 0:A.createdAt)&&(null==A?void 0:A.expirationDate)&&(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)(q,{strong:!0,children:"Thời hạn trang"}),(0,M.jsx)(v.h,{pageData:{createdAt:A.createdAt,expirationDate:A.expirationDate},userPlan:(null==R?void 0:null===(c=R.user)||void 0===c?void 0:c.plan)||"free",showPlanInfo:!1,className:"bg-white p-4 rounded-lg border"})]}),(0,M.jsx)("div",{children:(0,M.jsxs)("div",{className:"flex items-center justify-between",children:[(0,M.jsxs)("div",{children:[(0,M.jsx)(q,{strong:!0,children:"Thư viện thiệp"}),(0,M.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cho ph\xe9p trang n\xe0y c\xf3 thể xuất hiện trong thư viện thiệp mẫu của CineLove để người d\xf9ng kh\xe1c c\xf3 thể xem v\xe0 chi\xeam ngưỡng."}),(0,M.jsx)("div",{className:"text-xs text-gray-500 mt-2 bg-gray-50 p-2 rounded border-l-4 border-gray-200",children:"Khi hiển thị trong thư viện, link sẽ được m\xe3 h\xf3a v\xe0 chỉ cho ph\xe9p xem, kh\xf4ng thể thao t\xe1c trực tiếp với thiệp."})]}),(0,M.jsx)(p.Z,{checked:C.showInGallery,size:"small",onChange:function(e){return H("showInGallery",e)}})]})})]})})}},77341:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(59499),a=n(27812),o=n(50029),i=n(16835),s=n(87794),c=n.n(s),l=n(67294),d=n(25593),u=n(99859),x=n(17788),p=n(2453),f=n(83062),h=n(83622),m=n(81567),g=n(38289),b=n(31365),j=n(54811),y=n(64789),v=n(86548),w=n(48689),k=n(88484),N=n(22567),C=n(84249),O=n(63909),S=n(42016),T=n(85893),Z=function(e){var t,n=e.visible,r=e.onClose,a=e.onCropComplete,i=e.imageFile,s=(0,l.useRef)(null),d=(0,l.useState)(!1),u=d[0],f=d[1],m=(t=(0,o.Z)(c().mark(function e(){var t,n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=s.current)&&void 0!==t&&t.cropper){e.next=3;break}return p.ZP.error("Vui l\xf2ng chọn v\xf9ng crop"),e.abrupt("return");case 3:if(f(!0),e.prev=4,n=s.current.cropper.getCroppedCanvas({width:500,height:500,imageSmoothingEnabled:!0,imageSmoothingQuality:"high"})){e.next=9;break}return p.ZP.error("Kh\xf4ng thể tạo ảnh đ\xe3 crop"),e.abrupt("return");case 9:n.toBlob(function(e){if(!e){p.ZP.error("Kh\xf4ng thể tạo ảnh đ\xe3 crop");return}a(new File([e],(null==i?void 0:i.name)||"cropped-image.jpg",{type:"image/jpeg"})),r(),p.ZP.success("Crop ảnh th\xe0nh c\xf4ng!")},"image/jpeg",.9),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error cropping image:",e.t0),p.ZP.error("C\xf3 lỗi xảy ra khi crop ảnh");case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[4,12,16,19]])})),function(){return t.apply(this,arguments)}),g=function(){r()};return i?(0,T.jsx)(x.Z,{title:"Crop ảnh về tỉ lệ vu\xf4ng 1:1",open:n,onCancel:g,width:700,footer:[(0,T.jsx)(h.ZP,{onClick:g,disabled:u,children:"Hủy"},"cancel"),(0,T.jsx)(h.ZP,{type:"primary",onClick:m,loading:u,children:u?"Đang xử l\xfd...":"Crop ảnh"},"crop")],children:(0,T.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,T.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"K\xe9o thả để chọn v\xf9ng ảnh muốn crop (tỉ lệ vu\xf4ng 1:1)"}),(0,T.jsx)("div",{className:"w-full max-w-lg",children:(0,T.jsx)(S.f,{ref:s,src:URL.createObjectURL(i),style:{width:"100%",height:"500px"},aspectRatio:1,responsive:!0,guides:!0,viewMode:1,dragMode:"move",cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1,autoCropArea:1,rotatable:!1,scalable:!1,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,minCropBoxWidth:100,minCropBoxHeight:100})}),(0,T.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"\uD83D\uDCA1 Mẹo: K\xe9o g\xf3c để thay đổi k\xedch thước, k\xe9o giữa để di chuyển v\xf9ng crop"})]})}):null},E=n(46425);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=d.Z.Text,I=["C\xf4 d\xe2u","Ch\xfa rể","Ban tổ chức","Người nhận"],A=function(e){var t,n,r,s=e.qrBankAccounts,d=e.onAccountsChange,S=e.userPlan,D=e.disabled,A=void 0!==D&&D,z=(0,l.useState)(!1),B=z[0],_=z[1],F=(0,l.useState)(null),M=F[0],H=F[1],L=u.Z.useForm(),U=(0,i.Z)(L,1)[0],X=(0,l.useState)(""),K=X[0],q=X[1],W=(0,l.useState)(!1),Y=W[0],G=W[1],V=(0,l.useState)(!1),Q=V[0],J=V[1],$=(0,l.useState)(null),ee=$[0],et=$[1],en=function(e){if("free"===S){x.Z.confirm({icon:null,footer:null,maskClosable:!0,title:(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,T.jsx)(N.JO,{icon:"solar:qr-code-bold",className:"h-6 w-6 text-blue-500"}),(0,T.jsx)("span",{className:"text-lg font-semibold",children:"QR Bank"})]}),content:(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,T.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,T.jsx)(N.JO,{icon:"solar:qr-code-bold",className:"mr-2 h-6 w-6 text-blue-500"}),(0,T.jsx)("span",{className:"font-semibold text-blue-900",children:"QR Bank"})]}),(0,T.jsx)("p",{className:"text-blue-800 text-sm text-center",children:"T\xednh năng QR Bank chỉ d\xe0nh cho người d\xf9ng g\xf3i Basic trở l\xean."})]}),(0,T.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"Để sử dụng QR Bank, bạn cần n\xe2ng cấp l\xean g\xf3i Basic hoặc Premium."}),(0,T.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,T.jsxs)("h4",{className:"font-semibold text-blue-900 mb-4 flex items-center justify-center",children:[(0,T.jsx)(N.JO,{icon:"solar:crown-star-bold",className:"mr-2 h-5 w-5"}),"N\xe2ng cấp để sử dụng đầy đủ"]}),(0,T.jsx)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:E.T0.filter(function(e){return"basic"===e.name||"premium"===e.name}).map(function(e){return(0,T.jsxs)("div",{className:"flex flex-col justify-between relative border-2 rounded-lg p-4 transition-all hover:shadow-md ".concat(e.popular||e.featured?"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50":"border-gray-200 bg-white"),children:[e.popular&&(0,T.jsx)("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Phổ biến"}),e.featured&&(0,T.jsx)("div",{className:"absolute -top-2 right-4 bg-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Tốt nhất"}),(0,T.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,T.jsxs)("div",{children:[(0,T.jsxs)("h5",{className:"font-bold text-lg text-gray-900 flex items-center",children:[e.featured&&(0,T.jsx)(N.JO,{icon:"solar:crown-bold",className:"mr-1 h-4 w-4 text-yellow-500"}),e.displayName]}),(0,T.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]}),(0,T.jsxs)("div",{className:"text-right",children:[e.isPromotional&&e.originalPrice?(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"text-sm text-gray-500 line-through",children:e.originalPrice}),(0,T.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.price}),(0,T.jsxs)("div",{className:"inline-block bg-red-100 text-red-800 text-xs font-bold px-1 py-0.5 rounded-full border border-red-300",children:["-",(0,E.vs)(e.price,e.originalPrice),"%"]})]}):(0,T.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.price}),(0,T.jsx)("div",{className:"text-sm text-gray-500",children:e.duration})]})]}),(0,T.jsxs)("div",{className:"text-sm space-y-1 mb-4",children:[(0,T.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.websites," website"]}),(0,T.jsxs)("div",{className:"text-gray-700",children:["• ",e.limits.images," ảnh"]}),(0,T.jsxs)("div",{className:"text-gray-700",children:["• Thời hạn lưu website: ",e.limits.duration]}),(0,T.jsx)("div",{className:"text-gray-700",children:"• X\xf3a watermark"}),(0,T.jsx)("div",{className:"text-gray-700",children:"• Sử dụng c\xe1c t\xednh năng n\xe2ng cao"}),(0,T.jsx)("div",{className:"text-gray-700",children:"• QR Bank, thư viện nhạc"}),e.featured&&(0,T.jsx)("div",{className:"text-gray-700",children:"• Template Basic + Premium"}),"basic"===e.name&&(0,T.jsx)("div",{className:"text-gray-700",children:"• Template Basic"})]}),(0,T.jsxs)("button",{onClick:function(){window.open(e.ctaLink+"&upgradeSource=qr-bank","_blank")},className:"w-full py-2 px-4 rounded-md font-medium transition-colors ".concat(e.featured?"bg-purple-600 text-white hover:bg-purple-700":e.popular?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-white hover:bg-gray-700"),children:["N\xe2ng cấp ",e.displayName]})]},e.id)})})]})]}),okText:null,closable:!0,cancelText:"Đ\xf3ng",centered:!0,width:600,style:{top:20}});return}if(!e&&s.length>=2){p.ZP.warning("Bạn đ\xe3 đạt giới hạn tối đa 2 t\xe0i khoản QR Bank");return}if(e){H(e);var t=s.find(function(t){return t.id===e});t&&(U.setFieldsValue({name:t.name,accountNumber:t.accountNumber,bank:t.bank,displayName:t.displayName}),t.qrCode?q(t.qrCode):q(""))}else H(null),U.resetFields(),q(""),U.setFieldsValue({displayName:I[0]});_(!0)},er=(t=(0,o.Z)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type.startsWith("image/")){e.next=4;break}return p.ZP.error("Vui l\xf2ng chỉ tải l\xean h\xecnh ảnh!"),e.abrupt("return",!1);case 4:return et(t),J(!0),e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),ea=(n=(0,o.Z)(c().mark(function e(t){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(!0),(n=new FormData).append("file",t),e.next=6,O.Z.post("/file-upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:q(e.sent.data.fileKey),p.ZP.success("Tải l\xean m\xe3 QR th\xe0nh c\xf4ng"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error uploading QR image:",e.t0),p.ZP.error("Lỗi khi tải l\xean m\xe3 QR");case 16:return e.prev=16,G(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[0,12,16,19]])})),function(e){return n.apply(this,arguments)}),eo=(r=(0,o.Z)(c().mark(function e(){var t,n,r,o,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.validateFields();case 3:n=(t=e.sent).displayName,"custom"===t.displayName&&t.customDisplayName&&(n=t.customDisplayName),r=(0,a.Z)(s),o={name:t.name,accountNumber:t.accountNumber,bank:t.bank,qrCode:K,displayName:n,id:M||Date.now().toString()},M?(i=r.findIndex(function(e){return e.id===M}))>=0&&(r[i]=o):r.push(o),d(r),_(!1),p.ZP.success("Đ\xe3 lưu th\xf4ng tin t\xe0i khoản ".concat(n)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error saving QR bank account:",e.t0),p.ZP.error("C\xf3 lỗi xảy ra khi lưu th\xf4ng tin t\xe0i khoản");case 18:case"end":return e.stop()}},e,null,[[0,14]])})),function(){return r.apply(this,arguments)}),ei=function(e){var t=s.find(function(t){return t.id===e});t&&x.Z.confirm({title:"X\xe1c nhận x\xf3a",content:"Bạn c\xf3 chắc chắn muốn x\xf3a th\xf4ng tin t\xe0i khoản ".concat(t.displayName,"?"),okText:"X\xf3a",okType:"danger",cancelText:"Hủy",onOk:function(){d(s.filter(function(t){return t.id!==e})),p.ZP.success("Đ\xe3 x\xf3a th\xf4ng tin t\xe0i khoản")}})};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"pt-2",children:[(0,T.jsxs)("div",{className:"flex justify-between items-center",children:[(0,T.jsxs)(R,{strong:!0,style:{position:"relative"},children:["QR Bank"," ",(0,T.jsx)(j.Z,{style:{color:"#1677ff",fontSize:"16px",marginLeft:"4px",marginBottom:"-2px",position:"absolute",top:"-2px",right:"-17px"}})]}),(0,T.jsx)(f.Z,{title:s.length>=2?"Chỉ c\xf3 thể th\xeam tối đa 2 t\xe0i khoản QR Bank":null,children:(0,T.jsx)(h.ZP,{type:"primary",size:"small",icon:(0,T.jsx)(y.Z,{}),onClick:function(){return en()},disabled:s.length>=2||A,children:"Th\xeam t\xe0i khoản"})})]}),(0,T.jsx)("div",{className:"text-sm mt-1 block text-gray-500",children:"Th\xeam th\xf4ng tin t\xe0i khoản ng\xe2n h\xe0ng để kh\xe1ch mời c\xf3 thể chuyển tiền mừng (tối đa 2 t\xe0i khoản)"}),s.length>0?(0,T.jsx)("div",{className:"mt-3 grid grid-cols-1 gap-3",children:s.map(function(e){return(0,T.jsx)("div",{className:"border border-gray-200 rounded-md p-3 hover:shadow-sm transition-shadow",children:(0,T.jsxs)("div",{className:"flex justify-between items-start",children:[(0,T.jsxs)("div",{className:"flex items-start space-x-3",children:[e.qrCode&&(0,T.jsx)("div",{className:"w-16 h-16 relative border border-gray-200 rounded-md overflow-hidden",children:(0,T.jsx)("img",{src:(0,C.eQ)(e.qrCode),alt:"QR Code",className:"w-full h-full object-contain"})}),(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"flex items-center",children:[(0,T.jsx)(R,{strong:!0,className:"text-base",children:e.displayName}),(0,T.jsxs)(R,{type:"secondary",className:"text-xs ml-2",children:["(",e.bank,")"]})]}),(0,T.jsx)(R,{className:"text-sm block mt-1",children:e.name}),(0,T.jsx)(R,{className:"text-sm font-mono mt-1",children:e.accountNumber})]})]}),(0,T.jsxs)("div",{className:"flex space-x-1",children:[(0,T.jsx)(h.ZP,{type:"text",size:"small",icon:(0,T.jsx)(v.Z,{}),onClick:function(){return en(e.id)},disabled:A}),(0,T.jsx)(h.ZP,{type:"text",size:"small",danger:!0,icon:(0,T.jsx)(w.Z,{}),onClick:function(){return ei(e.id)},disabled:A})]})]})},e.id)})}):(0,T.jsx)("div",{className:"mt-3 border border-dashed border-gray-200 rounded-md p-4 text-center",children:(0,T.jsx)(R,{type:"secondary",children:"Chưa c\xf3 th\xf4ng tin t\xe0i khoản"})})]}),(0,T.jsx)(x.Z,{title:M?"Cập nhật th\xf4ng tin t\xe0i khoản":"Th\xeam t\xe0i khoản mới",open:B,onCancel:function(){return _(!1)},footer:[(0,T.jsx)(h.ZP,{onClick:function(){return _(!1)},children:"Hủy"},"back"),(0,T.jsx)(h.ZP,{type:"primary",loading:Y,onClick:eo,children:"Lưu"},"submit")],children:(0,T.jsxs)(u.Z,{form:U,layout:"vertical",className:"mt-4",children:[(0,T.jsx)(u.Z.Item,{name:"displayName",label:"T\xean hiển thị",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean hiển thị"}],children:(0,T.jsxs)(m.Z,{placeholder:"Chọn hoặc nhập t\xean hiển thị",children:[I.map(function(e){return(0,T.jsx)(m.Z.Option,{value:e,children:e},e)}),(0,T.jsx)(m.Z.Option,{value:"custom",children:"T\xf9y chỉnh..."})]})}),(0,T.jsx)(u.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.displayName!==t.displayName},children:function(e){return"custom"===(0,e.getFieldValue)("displayName")?(0,T.jsx)(u.Z.Item,{name:"customDisplayName",label:"T\xean hiển thị t\xf9y chỉnh",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean hiển thị t\xf9y chỉnh"}],children:(0,T.jsx)(g.Z,{placeholder:"Nhập t\xean hiển thị"})}):null}}),(0,T.jsx)(u.Z.Item,{name:"name",label:"T\xean người nhận",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean người nhận"}],children:(0,T.jsx)(g.Z,{placeholder:"Nguyễn Văn A"})}),(0,T.jsx)(u.Z.Item,{name:"bank",label:"T\xean ng\xe2n h\xe0ng",rules:[{required:!0,message:"Vui l\xf2ng nhập t\xean ng\xe2n h\xe0ng"}],children:(0,T.jsx)(g.Z,{placeholder:"Vietcombank"})}),(0,T.jsx)(u.Z.Item,{name:"accountNumber",label:"Số t\xe0i khoản",rules:[{required:!0,message:"Vui l\xf2ng nhập số t\xe0i khoản"}],children:(0,T.jsx)(g.Z,{placeholder:"1234567890"})}),(0,T.jsx)(u.Z.Item,{label:"M\xe3 QR chuyển khoản",required:!0,help:"Vui l\xf2ng tải l\xean h\xecnh ảnh m\xe3 QR của t\xe0i khoản ng\xe2n h\xe0ng",children:(0,T.jsx)("div",{className:"flex flex-col items-center",children:K?(0,T.jsxs)("div",{className:"mb-3 relative w-40 h-40 border border-gray-200 rounded-md overflow-hidden",children:[(0,T.jsx)("img",{src:(0,C.eQ)(K),alt:"QR Code Preview",className:"w-full h-full object-contain"}),(0,T.jsx)("div",{className:"absolute top-1 right-1 flex",children:(0,T.jsx)(h.ZP,{type:"text",danger:!0,icon:(0,T.jsx)(w.Z,{}),className:"bg-white/70 hover:bg-white",onClick:function(){if(!K){p.ZP.error("Kh\xf4ng thể x\xe1c định m\xe3 tệp tin");return}var e,t,n=null===(t=K.split("/").pop())||void 0===t?void 0:t.split(".")[0];x.Z.confirm({title:"X\xf3a ảnh QR",content:"Bạn c\xf3 chắc chắn muốn x\xf3a ảnh QR n\xe0y v\xe0 tải ảnh mới kh\xf4ng?",okText:"X\xf3a",cancelText:"Hủy",centered:!0,onOk:(e=(0,o.Z)(c().mark(function e(){var t,r,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.Z.delete("/file-upload/".concat(n));case 3:q(""),M&&(r=(t=(0,a.Z)(s)).findIndex(function(e){return e.id===M}))>=0&&(o=P(P({},t[r]),{},{qrCode:""}),t[r]=o,d(t)),p.ZP.success("Đ\xe3 x\xf3a ảnh QR th\xe0nh c\xf4ng"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error deleting QR image:",e.t0),p.ZP.error("Lỗi khi x\xf3a ảnh QR");case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return e.apply(this,arguments)})})}})})]}):(0,T.jsx)(b.Z,{name:"qrCode",accept:"image/*",showUploadList:!1,beforeUpload:er,className:"mb-3",children:(0,T.jsx)(h.ZP,{icon:(0,T.jsx)(k.Z,{}),loading:Y,children:Y?"Đang tải...":"Tải l\xean m\xe3 QR"})})})})]})}),(0,T.jsx)(Z,{visible:Q,onClose:function(){return J(!1)},onCropComplete:ea,imageFile:ee})]})}},99621:function(e,t,n){"use strict";n.d(t,{J:function(){return i}}),n(67294);var r=n(72269),a=n(67623),o=n(85893),i=function(e){var t=e.flipable,n=(0,a.Zo)(function(e){return{propValue:{rotation:e.data.props.rotation||0,flipX:e.data.props.flipX||!1,flipY:e.data.props.flipY||!1}}}),i=n.actions.setProp,s=n.propValue,c=function(e){return function(t){i(function(n){"X"===e?n.flipX=t:n.flipY=t})}};return(0,o.jsx)("div",{children:void 0!==t&&t&&(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("label",{className:"text-sm font-medium mr-2",children:"Lật ngang:"}),(0,o.jsx)(r.Z,{checked:s.flipX,onChange:c("X")})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("label",{className:"text-sm font-medium mr-2",children:"Lật dọc:"}),(0,o.jsx)(r.Z,{checked:s.flipY,onChange:c("Y")})]})]})})}},32265:function(e,t,n){"use strict";n.d(t,{X:function(){return s}}),n(67294);var r=n(83622),a=n(67623),o=n(30080),i=n(85893),s=function(){var e=(0,a.Zo)(function(e){return{propValue:e.data.props.textAlign||"left"}}),t=e.actions.setProp,n=e.propValue,s=function(e){t(function(t){t.textAlign=e})};return(0,i.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"Căn chỉnh"}),(0,i.jsxs)(r.ZP.Group,{children:[(0,i.jsx)(r.ZP,{type:"left"===n?"primary":"default",onClick:function(){return s("left")},icon:(0,i.jsx)(o.eq2,{})}),(0,i.jsx)(r.ZP,{type:"center"===n?"primary":"default",onClick:function(){return s("center")},icon:(0,i.jsx)(o.wWG,{})}),(0,i.jsx)(r.ZP,{type:"right"===n?"primary":"default",onClick:function(){return s("right")},icon:(0,i.jsx)(o.rmK,{})}),(0,i.jsx)(r.ZP,{type:"justify"===n?"primary":"default",onClick:function(){return s("justify")},icon:(0,i.jsx)(o.RRJ,{})})]})]})}},4846:function(e,t,n){"use strict";n.d(t,{S:function(){return p}});var r=n(27812),a=n(19848),o=n.n(a);n(67294);var i=n(86125),s=n(24435),c=n(83622),l=n(55241),d=n(67623),u=n(30080),x=n(85893),p=function(){var e=(0,d.Zo)(function(e){return{propValue:{fontWeight:e.data.props.fontWeight,fontStyle:e.data.props.fontStyle,textDecoration:e.data.props.textDecoration,textTransform:e.data.props.textTransform,letterSpacing:e.data.props.letterSpacing||0,lineHeight:e.data.props.lineHeight||1}}}),t=e.actions.setProp,n=e.propValue,a=function(e,n){t(function(t){if("fontWeight"===e&&(t.fontWeight=t.fontWeight===n?"normal":n),"fontStyle"===e&&(t.fontStyle=t.fontStyle===n?"normal":n),"textDecoration"===e){var a=t.textDecoration?t.textDecoration.split(" "):[];a.includes(n)?(t.textDecoration=a.filter(function(e){return e!==n}).join(" "),""===t.textDecoration&&(t.textDecoration="none")):a.includes("none")?t.textDecoration=a.filter(function(e){return"none"!==e}).concat(n).join(" "):t.textDecoration=[].concat((0,r.Z)(a),[n]).join(" ")}"textTransform"===e&&(t.textTransform="uppercase"===t.textTransform?"none":"uppercase")})},p=function(e){var t;return null===(t=n.textDecoration)||void 0===t?void 0:t.split(" ").includes(e)},f=function(e){t(function(t){t.letterSpacing=e},500)},h=function(e){t(function(t){t.lineHeight=e},500)},m=(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"flex flex-col mb-2",children:[(0,x.jsx)("label",{className:"text-sm font-medium mb-1",children:"Gi\xe3n c\xe1ch chữ"}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(i.Z,{min:0,max:100,step:1,style:{flex:1},value:n.letterSpacing,onChange:f}),(0,x.jsx)(s.Z,{min:0,max:100,step:1,value:n.letterSpacing,onChange:f,style:{marginLeft:"10px",width:"70px"}})]})]}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("label",{className:"text-sm font-medium mb-1",children:"Khoảng c\xe1ch d\xf2ng"}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(i.Z,{min:.5,max:2.5,step:.01,style:{flex:1},value:"normal"===n.lineHeight?1.2:n.lineHeight,onChange:h}),(0,x.jsx)(s.Z,{min:.5,max:2.5,step:.01,value:"normal"===n.lineHeight?1.2:n.lineHeight,onChange:h,style:{marginLeft:"10px",width:"70px"}})]})]})]});return(0,x.jsxs)("div",{className:"jsx-3457556350 text-style-setting flex space-x-1 justify-center items-center mb-4",children:[(0,x.jsx)(c.ZP,{onClick:function(){return a("fontWeight","bold")},style:{fontWeight:"bold",border:"none",backgroundColor:"bold"===n.fontWeight?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"B"}),(0,x.jsx)(c.ZP,{onClick:function(){return a("fontStyle","italic")},style:{fontStyle:"italic",border:"none",backgroundColor:"italic"===n.fontStyle?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"I"}),(0,x.jsx)(c.ZP,{onClick:function(){return a("textDecoration","line-through")},style:{textDecoration:"line-through",border:"none",backgroundColor:p("line-through")?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"S"}),(0,x.jsx)(c.ZP,{onClick:function(){return a("textDecoration","underline")},style:{textDecoration:"underline",border:"none",backgroundColor:p("underline")?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"U"}),(0,x.jsx)(c.ZP,{onClick:function(){return a("textTransform","uppercase")},style:{border:"none",backgroundColor:"uppercase"===n.textTransform?"#d9d9d9":"transparent",fontSize:"18px",width:35},children:"Aa"}),(0,x.jsx)(l.Z,{content:m,trigger:"click",placement:"bottom",styles:{root:{width:250}},children:(0,x.jsx)(c.ZP,{style:{border:"none",backgroundColor:"transparent",fontSize:"18px",width:35,padding:10},icon:(0,x.jsx)(u.sCN,{size:22})})}),(0,x.jsx)(o(),{id:"3457556350",children:['.text-style-setting button{font-family:"Times New Roman",Times,serif;}']})]})}},42179:function(e,t,n){"use strict";n.d(t,{C:function(){return x},b:function(){return u}});var r=n(59499);n(67294);var a=n(67623),o=n(72269),i=n(81567),s=n(86125),c=n(33299),l=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u={effectType:"fade-in",effectDuration:1.6,effectDelay:0,effectEasing:"ease-out",effectEnabled:!1},x=function(){var e,t=(0,c.useSession)().data,n=(0,a.Zo)(function(e){return{transition:e.data.props.transition||u}}),x=n.actions.setProp,p=n.transition||u,f=function(e){e.transition||(e.transition=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},u))},h=(null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.plan)==="free";return(0,l.jsxs)("div",{className:"space-y-4",children:[h&&(0,l.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,l.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,l.jsx)("strong",{children:"\uD83D\uDD12 T\xednh năng n\xe2ng cao:"})," Hiệu ứng chuyển động chỉ d\xe0nh cho g\xf3i Basic trở l\xean.",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-blue-600 cursor-pointer hover:underline font-bold",onClick:function(){return window.open("/pricing-plans?upgradeSource=transition-setting","_blank")},children:"N\xe2ng cấp ngay →"})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("label",{className:"text-sm font-medium ".concat(h?"text-gray-500":""),children:"Bật hiệu ứng"}),(0,l.jsx)(o.Z,{checked:p.effectEnabled,onChange:function(e){x(function(t){f(t),t.transition.effectEnabled=e})},disabled:h})]}),p.effectEnabled&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:"Loại hiệu ứng"}),(0,l.jsx)(i.Z,{value:p.effectType,onChange:function(e){x(function(t){f(t),t.transition.effectType=e})},style:{width:"100%"},options:[{value:"none",label:"Kh\xf4ng c\xf3"},{value:"fade-in",label:"Fade In"},{value:"slide-up",label:"Slide Up"},{value:"slide-down",label:"Slide Down"},{value:"slide-left",label:"Slide Left"},{value:"slide-right",label:"Slide Right"},{value:"scale-in",label:"Scale In"},{value:"scale-out",label:"Scale Out"},{value:"rotate-in",label:"Rotate In"},{value:"bounce-in",label:"Bounce In"},{value:"flip-in",label:"Flip In"},{value:"zoom-in",label:"Zoom In"}],disabled:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:["Thời gian: ",p.effectDuration,"s"]}),(0,l.jsx)(s.Z,{value:p.effectDuration,onChange:function(e){x(function(t){f(t),t.transition.effectDuration=e})},min:.1,max:5,step:.1,disabled:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:["Độ trễ: ",p.effectDelay,"s"]}),(0,l.jsx)(s.Z,{value:p.effectDelay,onChange:function(e){x(function(t){f(t),t.transition.effectDelay=e})},min:0,max:3,step:.1,disabled:h})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2 ".concat(h?"text-gray-500":""),children:"Kiểu chuyển động"}),(0,l.jsx)(i.Z,{value:p.effectEasing,onChange:function(e){x(function(t){f(t),t.transition.effectEasing=e})},style:{width:"100%"},options:[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"},{value:"cubic-bezier(0.4, 0, 0.2, 1)",label:"Smooth"},{value:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",label:"Bounce"},{value:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",label:"Elastic"}],disabled:h})]})]})]})}},35959:function(e,t,n){"use strict";n.d(t,{n:function(){return s}}),n(67294);var r=n(67623),a=n(24435),o=n(86125),i=n(85893),s=function(){var e=(0,r.Zo)(function(e){return{propValue:{opacity:e.data.props.opacity||1}}}),t=e.actions.setProp,n=e.propValue,s=function(e){t(function(t){t.opacity=e},500)};return(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"Trong suốt"}),(0,i.jsx)(a.Z,{min:0,max:1,step:.01,value:n.opacity,onChange:s,style:{width:"70px"}})]}),(0,i.jsx)(o.Z,{min:0,max:1,step:.01,value:n.opacity,onChange:s})]})}},76975:function(e,t,n){"use strict";n.d(t,{Ey:function(){return c},GI:function(){return r},QP:function(){return a},Yx:function(){return o},he:function(){return i},qp:function(){return l},yL:function(){return s}});var r={TYPE_ONE:"ONE",TYPE_TWO:"TWO",NO_STYLE:"NONE"},a={calendarText:"rgb(153, 153, 153)",calendarTheme:"rgb(243, 150, 161)",calendarBackground:"transparent",countdownBackground:"transparent",countdownText:"#fff",countdownTheme:"#000"},o={initPluginWidth:300,calendarWidth:300,calendarHeight:280,countdownWidth:280,countdownHeight:70,mapWidth:320,mapHeight:250,phoneButtonWidth:130,phoneButtonHeight:40,formWidth:300,formHeight:320,textWidth:240},i={lat:21.0228148,lng:105.7957638},s=10,c={PLUGIN:"toolbox-plugin",TEXT:"toolbox-text",PHOTO:"toolbox-photo",MATERIAL:"toolbox-material",BACKGROUND:"toolbox-background",MUSIC:"toolbox-music",TEMPLATE:"toolbox-template",EFFECT:"toolbox-effect"},l=200},17901:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(11163),a=n(67294),o=function(){var e=(0,r.useRouter)(),t=(0,a.useState)(),n=t[0],o=t[1];return(0,a.useEffect)(function(){if(e.isReady){var t=e.query.template_id;"new-blank"===t?o(void 0):o(t)}},[e.isReady,e.query.template_id]),n}},24679:function(e,t,n){"use strict";var r=n(67294),a=n(13721),o=n(45423),i=n(41863),s=n(46943),c=n(49989),l=n(22567),d=n(70162),u=n(3473),x=n(33299),p=n(85893);t.Z=function(){var e,t,n=(0,x.useSession)().data,f=(null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.role)==="admin"||(null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.role)==="editor";return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"flex",children:(0,p.jsxs)(a.YE,{className:"fixed menu-sidebar bg-white dark:bg-darkgray z-[10]",children:[(0,p.jsx)("div",{className:"mb-7 px-4 brand-logo",children:(0,p.jsx)(d.Z,{})}),(0,p.jsx)(c.Z,{className:"h-[calc(100vh_-_100px)]",children:(0,p.jsx)(a.YE.Items,{className:"px-4",children:(0,p.jsxs)(a.YE.ItemGroup,{className:"sidebar-nav",children:[u.TZ.map(function(e,t){var n;return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("h5",{className:"text-link text-xs caption",children:(0,p.jsx)("span",{className:"hide-menu",children:e.heading})}),(0,p.jsx)(l.JO,{icon:"solar:menu-dots-bold",className:"text-ld block mx-auto mt-6 leading-6 dark:text-opacity-60 hide-icon",height:18}),null===(n=e.children)||void 0===n?void 0:n.map(function(e,t){return(0,p.jsx)(r.Fragment,{children:e.children?(0,p.jsx)("div",{className:"collpase-items",children:(0,p.jsx)(i.Z,{item:e})}):"DesignNavItem"===e.customComponent?(0,p.jsx)(s.Z,{item:e}):(0,p.jsx)(o.Z,{item:e})},e.id&&t)})]},t)}),f&&u.Zq.map(function(e,t){var n;return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("h5",{className:"text-link text-xs caption mt-6",children:(0,p.jsx)("span",{className:"hide-menu",children:e.heading})}),(0,p.jsx)(l.JO,{icon:"solar:menu-dots-bold",className:"text-ld block mx-auto mt-6 leading-6 dark:text-opacity-60 hide-icon",height:18}),null===(n=e.children)||void 0===n?void 0:n.map(function(e,t){return(0,p.jsx)(r.Fragment,{children:e.children?(0,p.jsx)("div",{className:"collpase-items",children:(0,p.jsx)(i.Z,{item:e})}):(0,p.jsx)(o.Z,{item:e})},e.id&&t)})]},"admin-".concat(t))})]})})})]})})})}},41863:function(e,t,n){"use strict";var r=n(13721),a=n(67294),o=n(45423),i=n(22567),s=n(19042),c=n(98388),l=n(39332),d=n(85893);t.Z=function e(t){var n=t.item,u=(0,l.usePathname)(),x=n.children.find(function(e){return e.url===u});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(r.YE.Collapse,{label:n.name,open:!!x,icon:function(){return(0,d.jsx)(i.JO,{icon:n.icon,height:18})},className:"".concat(x?"!text-primary bg-lightprimary ":""," collapse-menu"),renderChevronIcon:function(e,t){var n=s.kzR;return(0,d.jsx)(n,{"aria-hidden":!0,className:"".concat((0,c.m6)(e.label.icon.open[t?"on":"off"])," drop-icon")})},children:n.children&&(0,d.jsx)(r.YE.ItemGroup,{className:"sidebar-dropdown",children:n.children.map(function(t){return(0,d.jsx)(a.Fragment,{children:t.children?(0,d.jsx)(e,{item:t}):(0,d.jsx)(o.Z,{item:t})},t.id)})})})})}},46943:function(e,t,n){"use strict";n(67294);var r=n(13721),a=n(22567),o=n(82185),i=n(85893);t.Z=function(e){var t=e.item,n=(0,o.G)().openDesignModal;return(0,i.jsx)(r.YE.Item,{href:"#",onClick:function(e){e.preventDefault(),n()},className:"text-link bg-transparent group/link cursor-pointer",children:(0,i.jsxs)("span",{className:"flex gap-3 align-center items-center truncate",children:[t.icon?(0,i.jsx)(a.JO,{icon:t.icon,className:"".concat(t.color),height:18}):(0,i.jsx)("span",{className:"h-[6px] w-[6px] bg-darklink dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary"}),(0,i.jsx)("span",{className:"max-w-36 overflow-hidden hide-menu",children:t.name})]})})}},45423:function(e,t,n){"use strict";var r=n(19848),a=n.n(r);n(67294);var o=n(13721),i=n(22567),s=n(41664),c=n.n(s),l=n(39332),d=n(85893);t.Z=function(e){var t=e.item,n=(0,l.usePathname)();return(0,d.jsxs)(o.YE.Item,{href:t.url,as:c(),className:"".concat(t.url==n?"!text-white bg-primary shadow-active sidebar-active":"text-link bg-transparent group/link "," "),children:[(0,d.jsxs)("span",{className:"jsx-1120437888 flex gap-3 align-center items-center truncate",children:[t.icon?(0,d.jsx)(i.JO,{icon:t.icon,className:"".concat(t.color),height:18}):(0,d.jsx)("span",{className:"jsx-1120437888 "+"".concat(t.url==n?"dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary !bg-primary h-[6px] w-[6px]":"h-[6px] w-[6px] bg-darklink dark:bg-white rounded-full mx-1.5 group-hover/link:bg-primary"," ")}),(0,d.jsx)("span",{className:"jsx-1120437888 max-w-36 overflow-hidden hide-menu",children:t.name})]}),(0,d.jsx)(a(),{id:"1120437888",children:[".sidebar-active:hover{background-color:#69b1ff !important;}"]})]})}},3473:function(e,t,n){"use strict";n.d(t,{TZ:function(){return o},Zq:function(){return a},sY:function(){return i}});var r=n(96486),a=[{heading:"ADMIN",children:[{name:"Quản l\xfd thiết kế",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/admin/templates"},{name:"Tạo Trang Cho Người D\xf9ng",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/admin/edit-as"}]}],o=[{heading:"HOME",children:[{name:"Tổng quan",icon:"solar:widget-add-line-duotone",id:(0,r.uniqueId)(),url:"/dashboard"},{name:"G\xf3i dịch vụ của t\xf4i",icon:"solar:crown-line-duotone",id:(0,r.uniqueId)(),url:"/dashboard/my-plan"},{name:"Tạo thiết kế",icon:"solar:pen-new-square-outline",id:(0,r.uniqueId)(),url:"/editor/new-blank",customComponent:"DesignNavItem"}]},{heading:"THIẾT KẾ CỦA T\xd4I",children:[{name:"Thiệp online",icon:"solar:clipboard-heart-linear",id:(0,r.uniqueId)(),url:"/pages"},{name:"Website kh\xe1c",icon:"solar:emoji-funny-square-outline",id:(0,r.uniqueId)(),url:"/dashboard/my-custom-web"}]},{heading:"QU\xc0 TẶNG & LỜI CH\xdaC",children:[{name:"Lời ch\xfac",icon:"solar:chat-dots-outline",id:(0,r.uniqueId)(),url:"/dashboard/blessing-box"},{name:"Qu\xe0 tặng",icon:"solar:gift-outline",id:(0,r.uniqueId)(),url:"/dashboard/gifts-overview"}]},{heading:"T\xc0I KHOẢN",children:[{name:"Th\xf4ng tin c\xe1 nh\xe2n",icon:"solar:shield-user-outline",id:(0,r.uniqueId)(),url:"/dashboard/profile"}]},{heading:"HỖ TRỢ",children:[{name:"Đ\xf3ng g\xf3p \xfd kiến",icon:"solar:mailbox-linear",id:(0,r.uniqueId)(),url:"/dashboard/feedback"}]}],i=[{heading:"CHƯA X\xc1C THỰC",children:[{name:"Sảnh chờ",icon:"solar:home-smile-broken",id:(0,r.uniqueId)(),url:"/dashboard/waiting-room"}]}]},94016:function(e,t,n){"use strict";n(67294);var r=n(25675),a=n.n(r),o=n(2453),i=n(84249),s=n(85893);t.Z=function(e){var t,n,r=e.accounts,c=void 0===r?[]:r,l=e.isLoading,d=e.mainTitle,u=void 0===d?"Hộp Qu\xe0 Y\xeau Thương":d,x=e.isPreview,p=c.filter(function(e,t){return t%2==0}),f=c.filter(function(e,t){return t%2==1}),h=function(e,t){navigator.clipboard.writeText(e).then(function(){o.ZP.success("Đ\xe3 sao ch\xe9p số t\xe0i khoản của ".concat(t))}).catch(function(){o.ZP.error("Kh\xf4ng thể sao ch\xe9p, vui l\xf2ng thử lại")})};if(void 0!==l&&l)return(0,s.jsxs)("div",{className:"w-full py-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-center mb-6",children:u}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"animate-pulse w-full max-w-36 h-36 sm:w-48 sm:h-48 bg-gray-200 rounded-lg mb-2 sm:mb-4"}),(0,s.jsx)("div",{className:"animate-pulse w-20 sm:w-32 h-4 sm:h-5 bg-gray-200 rounded mb-1 sm:mb-2"}),(0,s.jsx)("div",{className:"animate-pulse w-16 sm:w-24 h-3 sm:h-4 bg-gray-200 rounded mb-1 sm:mb-2"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"animate-pulse w-full max-w-36 h-36 sm:w-48 sm:h-48 bg-gray-200 rounded-lg mb-2 sm:mb-4"}),(0,s.jsx)("div",{className:"animate-pulse w-20 sm:w-32 h-4 sm:h-5 bg-gray-200 rounded mb-1 sm:mb-2"}),(0,s.jsx)("div",{className:"animate-pulse w-16 sm:w-24 h-3 sm:h-4 bg-gray-200 rounded mb-1 sm:mb-2"})]})]})]});if(0===c.length)return(0,s.jsx)("div",{className:"w-full py-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"Chưa c\xf3 th\xf4ng tin t\xe0i khoản QR n\xe0o"})});var m=function(e){var t,n=(null===(t=e.displayName)||void 0===t?void 0:t.toLowerCase())||"";return"bride"===e.type||n.includes("c\xf4 d\xe2u")||n.includes("co dau")||n.includes("bride")?"pink":"groom"===e.type||n.includes("ch\xfa rể")||n.includes("chu re")||n.includes("groom")?"blue":"purple"},g=function(e){var t={pink:{title:"text-pink-500",border:"border-pink-200",button:"bg-pink-50 text-pink-600 border-pink-200 hover:bg-pink-100"},blue:{title:"text-blue-500",border:"border-blue-200",button:"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"},purple:{title:"text-purple-500",border:"border-purple-200",button:"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100"}}[m(e)];return(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"mb-2 sm:mb-3 font-medium text-sm sm:text-lg ".concat(t.title),children:e.displayName||("bride"===e.type?"C\xf4 d\xe2u":"groom"===e.type?"Ch\xfa rể":"Người nhận")}),(0,s.jsxs)("div",{className:"w-full flex flex-col items-center border rounded-lg p-2 sm:p-4 shadow-sm bg-white",children:[(0,s.jsx)("div",{className:"relative w-full max-w-36 h-36 sm:w-48 sm:h-48 mb-2 sm:mb-4 border-2 ".concat(t.border," rounded-lg overflow-hidden bg-white p-1 sm:p-2"),children:e.qrCode?(0,s.jsx)(a(),{unoptimized:!0,src:(0,i.eQ)(e.qrCode),alt:"QR code của ".concat(e.name),fill:!0,className:"object-contain"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,s.jsx)("span",{className:"text-gray-400 text-xs sm:text-base",children:"QR Code"})})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"font-medium text-sm sm:text-lg text-gray-800 line-clamp-1",children:e.name}),(0,s.jsxs)("div",{className:"mt-0.5 sm:mt-1 text-gray-600",children:[(0,s.jsx)("p",{className:"font-medium text-xs sm:text-base",children:e.bank}),(0,s.jsx)("p",{className:"mt-0.5 sm:mt-1 text-xs sm:text-sm font-mono tracking-wider line-clamp-1",children:e.accountNumber})]}),(0,s.jsx)("button",{className:"mt-2 sm:mt-3 px-2 sm:px-4 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm font-medium border transition ".concat(t.button),onClick:function(){return h(e.accountNumber,e.name)},children:"Sao ch\xe9p số TK"})]})]})]},e.id||e.accountNumber)};return(0,s.jsxs)("div",{className:"w-full py-4 px-1",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-center mb-2 sm:mb-6",children:u}),(0,s.jsx)("div",{className:"flex justify-center mb-2 mx-4",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Qu\xe9t QR code để gửi y\xeau thương trực tiếp tới:"})}),1===c.length?(0,s.jsx)("div",{className:"flex justify-center",children:(n=({pink:{title:"text-pink-500",border:"border-pink-200",button:"bg-pink-50 text-pink-600 border-pink-200 hover:bg-pink-100"},blue:{title:"text-blue-500",border:"border-blue-200",button:"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"},purple:{title:"text-purple-500",border:"border-purple-200",button:"bg-purple-50 text-purple-600 border-purple-200 hover:bg-purple-100"}})[m(t=c[0])],(0,s.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,s.jsx)("div",{className:"text-center text-sm mb-2 font-medium text-gray-800",children:t.displayName||("bride"===t.type?"C\xf4 d\xe2u":"groom"===t.type?"Ch\xfa rể":"Người nhận")}),(0,s.jsx)("div",{className:"border rounded-lg p-3 sm:p-4 shadow-sm bg-white mx-4",children:(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)("div",{className:"relative w-24 h-24 sm:w-32 sm:h-32 border-2 ".concat(n.border," rounded-lg overflow-hidden bg-white p-1 sm:p-2 flex-shrink-0"),children:t.qrCode?(0,s.jsx)(a(),{unoptimized:!0,src:(0,i.eQ)(t.qrCode),alt:"QR code của ".concat(t.name),fill:!0,className:"object-contain"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,s.jsx)("span",{className:"text-gray-400 text-xs sm:text-sm",children:"QR Code"})})}),(0,s.jsxs)("div",{className:"ml-4 flex-1",children:[(0,s.jsx)("h3",{className:"font-medium text-sm sm:text-base text-gray-800 line-clamp-1",children:t.name}),(0,s.jsxs)("div",{className:"mt-0.5 sm:mt-1 text-gray-600",children:[(0,s.jsx)("p",{className:"font-medium text-xs sm:text-sm",children:t.bank}),(0,s.jsx)("p",{className:"mt-0.5 text-xs font-mono tracking-wider line-clamp-1",children:t.accountNumber})]}),(0,s.jsx)("div",{className:"mt-2 sm:mt-3 flex justify-end",children:(0,s.jsx)("button",{className:"px-3 py-1 rounded-full text-xs sm:text-sm font-medium border transition ".concat(n.button),onClick:function(){return h(t.accountNumber,t.name)},children:"Sao ch\xe9p số TK"})})]})]})})]},t.id||t.accountNumber))}):(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-6",children:[(0,s.jsx)("div",{className:"flex flex-col gap-4",children:p.map(function(e){return g(e)})}),(0,s.jsx)("div",{className:"flex flex-col gap-4",children:f.map(function(e){return g(e)})})]}),void 0!==x&&x&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("p",{className:"text-xs text-yellow-400 italic text-center mt-2 md:text-sm",children:"Đ\xe2y l\xe0 dữ liệu hiển thị mẫu, bạn cần th\xeam th\xf4ng tin t\xe0i khoản QR của bạn để hiển thị thực tế."})})]})}},80600:function(e,t,n){"use strict";n.d(t,{B9:function(){return x},em:function(){return d},ne:function(){return u}});var r,a,o,i=n(50029),s=n(87794),c=n.n(s),l=n(63909),d=(r=(0,i.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/admin/file-upload");case 3:return t=e.sent,e.abrupt("return",t.data.files||[]);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching admin assets:",e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return r.apply(this,arguments)}),u=(a=(0,i.Z)(c().mark(function e(t){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/admin/file-upload/template/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.files||[]);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching template assets:",e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return a.apply(this,arguments)}),x=(o=(0,i.Z)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.delete("/admin/file-upload/".concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error deleting admin asset:",e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return o.apply(this,arguments)})},41371:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(50029),a=n(92777),o=n(82262),i=n(87794),s=n.n(i),c=n(63909),l=function(){var e,t;function n(){(0,a.Z)(this,n)}return(0,o.Z)(n,null,[{key:"removeBackground",value:(e=(0,r.Z)(s().mark(function e(t){var n,r,a,o,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/background-removal",{imgKey:t},{timeout:12e4});case 3:return n=e.sent,e.abrupt("return",{success:n.data.success,data:n.data.data,message:n.data.message,error:n.data.error});case 7:if(e.prev=7,e.t0=e.catch(0),console.error("Error removing background:",e.t0),!("ECONNABORTED"===e.t0.code||null!==(r=e.t0.message)&&void 0!==r&&r.includes("timeout"))){e.next=12;break}return e.abrupt("return",{success:!1,error:"Qu\xe1 tr\xecnh x\xf3a nền đang mất nhiều thời gian. Vui l\xf2ng thử lại sau."});case 12:if((null===(a=e.t0.response)||void 0===a?void 0:a.status)!==504){e.next=14;break}return e.abrupt("return",{success:!1,error:"Server timeout - Qu\xe1 tr\xecnh x\xf3a nền đang mất nhiều thời gian. Vui l\xf2ng thử lại sau."});case 14:return e.abrupt("return",{success:!1,error:(null===(o=e.t0.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.message)||e.t0.message||"Unknown error occurred"});case 15:case"end":return e.stop()}},e,null,[[0,7]])})),function(t){return e.apply(this,arguments)})},{key:"getCredits",value:(t=(0,r.Z)(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/background-removal/credits");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error getting credits:",e.t0),e.abrupt("return",{hasCredits:!1,totalCredits:0,usedCredits:0,remainingCredits:0,plan:"free",message:"Kh\xf4ng thể lấy th\xf4ng tin credit"});case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)})},{key:"isServiceAvailable",value:function(){return!0}},{key:"getServiceInfo",value:function(){return{name:"Background Removal Service",available:this.isServiceAvailable()}}}]),n}()},97533:function(e,t,n){"use strict";n.d(t,{tG:function(){return l}});var r,a=n(50029),o=n(87794),i=n.n(o);n(8226);var s=n(87066),c=n(7764),l=(r=(0,a.Z)(i().mark(function e(){var t,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(c.Z.API_URL,"/categories"),e.next=4,s.default.get(t);case 4:return n=e.sent,e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),console.error("Error fetching all categories:",e.t0),e.abrupt("return",{success:!1,categories:[],message:"Kh\xf4ng thể tải danh s\xe1ch danh mục"});case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return r.apply(this,arguments)})},34392:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(59499),a=n(31993);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={title:"",thumbnail:"",longThumbnail:"",status:"draft",showBottomToolbar:!0,categoryId:"",description:"",tags:[],slug:"",openingEffect:null,snowflakeEffect:null},c=(0,a.U)(function(e){return{settings:i({},s),setTitle:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{title:t})}})},setThumbnail:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{thumbnail:t})}})},setLongThumbnail:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{longThumbnail:t})}})},setStatus:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{status:t})}})},setShowBottomToolbar:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{showBottomToolbar:t})}})},setCategoryId:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{categoryId:t})}})},setDescription:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{description:t})}})},setTags:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{tags:t})}})},setSlug:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{slug:t})}})},setOpeningEffect:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{openingEffect:t})}})},setSnowflakeEffect:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{snowflakeEffect:t})}})},resetSettings:function(){return e({settings:i({},s)})}}})},22746:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r=(0,n(31993).U)(function(e,t){return{guestData:null,guestId:null,error:null,setGuestData:function(t){return e({guestData:t,error:null})},setGuestId:function(t){return e({guestId:t})},setError:function(t){return e({error:t})},clearGuestData:function(){return e({guestData:null,guestId:null,error:null})},getGuestName:function(){var e,n=t().guestData;return null!=n&&n.success&&null!=n&&null!==(e=n.data)&&void 0!==e&&e.guest?n.data.guest.guestName:""},getGreeting:function(){var e,n=t().guestData;return null!=n&&n.success&&null!=n&&null!==(e=n.data)&&void 0!==e&&e.guest&&n.data.guest.greeting||"Th\xe2n mời"},getFullGreeting:function(){var e,n=t().guestData;if(!(null!=n&&n.success)||!(null!=n&&null!==(e=n.data)&&void 0!==e&&e.guest))return"";var r=n.data.guest,a=r.greeting||"Th\xe2n mời";return"".concat(a," ").concat(r.guestName)}}})},90072:function(e,t,n){"use strict";n.d(t,{Kq:function(){return s},X2:function(){return d},fs:function(){return c}});var r=n(59499),a=n(31993);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={enabled:!0,components:{comments:!0,gifts:!0,likes:!0,qrCode:!0}},c={COMMENTS:"comments",GIFTS:"gifts",LIKES:"likes",QR_CODE:"qrCode"},l={title:"",description:"",thumbnailKey:"",status:"published",showBottomToolbar:s,qrBankAccounts:[],hideWatermark:!1,categoryId:null,openingEffect:null,snowflakeEffect:null,showInGallery:!0},d=(0,a.U)(function(e){return{settings:i({},l),setTitle:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{title:t})}})},setThumbnail:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{thumbnailKey:t})}})},setDescription:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{description:t})}})},setStatus:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{status:t})}})},setShowBottomToolbar:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{showBottomToolbar:t})}})},setBottomToolbarComponent:function(t,n){return e(function(e){var a=e.settings.showBottomToolbar;return"boolean"==typeof a?{settings:i(i({},e.settings),{},{showBottomToolbar:{enabled:a,components:(0,r.Z)({comments:!0,gifts:!0,likes:!0,qrCode:!0},t,n)}})}:{settings:i(i({},e.settings),{},{showBottomToolbar:i(i({},a),{},{components:i(i({},a.components),{},(0,r.Z)({},t,n))})})}})},setQRBankAccounts:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{qrBankAccounts:t})}})},setHideWatermark:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{hideWatermark:t})}})},setCategoryId:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{categoryId:t})}})},setOpeningEffect:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{openingEffect:t})}})},setSnowflakeEffect:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{snowflakeEffect:t})}})},setShowInGallery:function(t){return e(function(e){return{settings:i(i({},e.settings),{},{showInGallery:t})}})},resetSettings:function(){return e({settings:i({},l)})}}})},52804:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r=(0,n(31993).U)(function(e){return{refreshTrigger:0,triggerRefresh:function(){return e(function(e){return{refreshTrigger:e.refreshTrigger+1}})}}})},23616:function(e,t,n){"use strict";n.d(t,{Y0:function(){return i},he:function(){return o},q:function(){return a}});var r=n(90072),a=function(e){return"boolean"==typeof e?{enabled:e,components:{comments:e,gifts:e,likes:e,qrCode:e}}:e||r.Kq},o=function(e){if("boolean"==typeof e)return e;var t,n=null==e?void 0:e.components,a=null==n?void 0:n[r.fs.GIFTS],o=null==n?void 0:n[r.fs.QR_CODE],i=null==n?void 0:n[r.fs.LIKES],s=null==n?void 0:n[r.fs.COMMENTS];return(!1!==a||!1!==o||!1!==i||!1!==s)&&(null===(t=null==e?void 0:e.enabled)||void 0===t||t)},i=function(e,t){return a(e).components[t]}},38983:function(e,t,n){"use strict";n.d(t,{$:function(){return a},i:function(){return o}});var r=n(76975),a=function(e){return!!e&&e.lat===r.he.lat&&e.lng===r.he.lng},o=function(e){if(e&&!a(e))return e}},84413:function(e,t,n){"use strict";n.d(t,{o:function(){return a},s:function(){return r}});var r=function(e){for(var t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=new Date(t,n+1,0).getDate(),o=new Date(t,n,1).getDay(),i=0===o?6:o-1,s=[],c=0;c<i;c++)s.push({type:"empty",date:null,isSelected:!1});for(var l=1;l<=a;l++)s.push({type:"day",date:l,isSelected:r===l});return s},a=function(e,t){if(e&&t)return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes()).toISOString()}},77917:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});var r=function(e,t,n){var r=Math.min(e/t,e/n);return{scaleWidth:t*r,scaleHeight:n*r}}},26294:function(e,t,n){"use strict";n.d(t,{Rd:function(){return c},af:function(){return s},fb:function(){return o},gs:function(){return i}});var r=n(7764),a=new Set,o=function(e){return e.replace(/['"]/g,"")},i=function(e){return e.replace(/\s+/g,"-").replace(/[^\w\-]/g,"").toLowerCase()},s=function(e){var t=o(e);if(!a.has(t)&&"arial"!==t.toLowerCase()){var n=i(e),s=document.createElement("link");s.rel="stylesheet",s.href="".concat(r.Z.CDN_RESOURCE_URL,"/fonts/webfonts/").concat(n,"/font.css"),document.head.appendChild(s),a.add(t)}},c=function(e){var t=o(e);return'"'.concat(t,'"')}},9142:function(e,t,n){"use strict";n.d(t,{K5:function(){return i},gF:function(){return d},iB:function(){return u}});var r=n(7764),a=["Mai Anh","Erik","Ho\xe0ng Dũng","T\xf9ng","Linh","Hương","Minh","Thu H\xe0","Đức","Phương","Huy","Thảo","Quang","Hồng Nhung","Tuấn Anh","Ngọc Anh","Ho\xe0ng","Lan Anh","Việt Anh","Thanh","Hải","Ngọc","Duy","Thủy","Trung","Mai","H\xe0","Nam","Hiền","Trang"],o=["https://cdn.cinelove.me/samples/avatar/imageedit_1_7897091579.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_2_3325688966.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_4_7098373898.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_5_2425649771.jpg","https://cdn.cinelove.me/samples/avatar/imageedit_6_7060799572.jpg"],i=function(e){return"".concat(r.Z.CDN_URL,"/gifts/thumb/").concat(e,".png")},s=["❤️ \uD83D\uDC95 Ch\xfac hai bạn trăm năm hạnh ph\xfac!","\uD83C\uDF89 May your love story be beautiful and endless!","\uD83D\uDC91 Mong rằng t\xecnh y\xeau của hai bạn m\xe3i đẹp như ng\xe0y h\xf4m nay!","\uD83D\uDC96 M\xe3i m\xe3i hạnh ph\xfac b\xean nhau!","\uD83C\uDF1F Ch\xfac mừng hạnh ph\xfac lứa đ\xf4i!","\uD83D\uDC90 Ch\xfac hai bạn trăm năm h\xf2a hợp, hạnh ph\xfac!","✨ Đồng t\xe2m đồng l\xf2ng, x\xe2y đắp tổ ấm thịnh vượng!","\uD83C\uDF8A Ch\xfac hai bạn lu\xf4n vui vẻ, thấu hiểu v\xe0 n\xe2ng đỡ nhau!","\uD83D\uDC9D Mong t\xecnh y\xeau của hai bạn m\xe3i vĩnh cửu!","\uD83E\uDD42 Một h\xe0nh tr\xecnh hạnh ph\xfac đang chờ đ\xf3n hai bạn!","\uD83D\uDC8D Ch\xfac cho t\xecnh y\xeau của hai bạn mỗi ng\xe0y một lớn mạnh!","\uD83D\uDD4A️ T\xe2n h\xf4n hạnh ph\xfac, trăm năm b\xean nhau!"],c=["\uD83C\uDF82 Ch\xfac mừng sinh nhật! Tuổi mới nhiều niềm vui!","\uD83C\uDF81 Happy Birthday! Wishing you health and happiness!","\uD83C\uDF88 Sinh nhật vui vẻ, tuổi mới th\xe0nh c\xf4ng rực rỡ!","✨ Ch\xfac mừng ng\xe0y đặc biệt của bạn!","\uD83C\uDF08 Tuổi mới ph\xe1t t\xe0i, ph\xe1t lộc!","\uD83C\uDF1F Ch\xfac bạn một năm tr\xe0n đầy may mắn v\xe0 hạnh ph\xfac!","\uD83E\uDD42 Mừng tuổi mới, th\xeam nhiều niềm vui v\xe0 th\xe0nh c\xf4ng!","\uD83C\uDF8A Ch\xfac mừng sinh nhật! Ch\xfac bạn lu\xf4n xinh đẹp v\xe0 hạnh ph\xfac!","\uD83C\uDFAF Tuổi mới, đạt được mọi mục ti\xeau bạn đặt ra!","\uD83C\uDF3A Ch\xfac bạn c\xf3 sinh nhật ngọt ng\xe0o v\xe0 tr\xe0n đầy niềm vui!","\uD83C\uDF89 Tuổi mới th\xe0nh c\xf4ng rực rỡ, gặp nhiều may mắn!","\uD83D\uDCAB Ch\xfac mừng sinh nhật! Mong mọi điều tốt đẹp đến với bạn!"],l=["❤️ \uD83D\uDC95 Wishing you a lifetime of happiness!","\uD83C\uDF89 Ch\xfac bạn mọi điều tốt đẹp nhất!","\uD83D\uDC91 Gửi đến bạn những lời ch\xfac tốt đẹp nhất!","\uD83D\uDC96 Mong bạn lu\xf4n vui vẻ v\xe0 hạnh ph\xfac!","\uD83C\uDF1F Ch\xfac mừng bạn!","\uD83D\uDC90 Gửi đến bạn những lời ch\xfac tốt l\xe0nh!","✨ Hạnh ph\xfac v\xe0 thịnh vượng!","\uD83C\uDF8A Ch\xfac bạn c\xf3 những khoảnh khắc tuyệt vời!","\uD83D\uDC9D Những điều tốt đẹp nhất sẽ đến với bạn!","\uD83E\uDD42 Here's to a beautiful journey ahead!"],d=function(e){var t;return t="thiep-cuoi"===e?s:"thiep-sinh-nhat"===e?c:l,{success:!0,messages:Array.from({length:5},function(){return{senderName:a[Math.floor(Math.random()*a.length)],content:t[Math.floor(Math.random()*t.length)],createdAt:new Date().toISOString()}})}},u=function(e){return{success:!0,gifts:e.sort(function(){return Math.random()-.5}).slice(0,5).map(function(e,t){return{giftCode:e.code,id:"sample-".concat(t+1),senderName:a[Math.floor(Math.random()*a.length)],senderAvatar:o[Math.floor(Math.random()*o.length)],giftType:"animated"}})}}},58115:function(e,t,n){"use strict";n.d(t,{oN:function(){return c},FO:function(){return l}});var r=n(59499);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var i=function(e){var t=e.effectEnabled,n=e.effectType,r=e.effectDuration,a=e.effectDelay,o=e.effectEasing;return t&&"none"!==n?{transition:"all ".concat(r,"s ").concat(o," ").concat(a,"s")}:{}},s=function(e){var t=e.effectEnabled,n=e.effectType;if(!t||"none"===n)return"none";var r="";switch(n){case"fade-in":default:r="none";break;case"slide-up":r="translateY(50px)";break;case"slide-down":r="translateY(-50px)";break;case"slide-left":r="translateX(50px)";break;case"slide-right":r="translateX(-50px)";break;case"scale-in":r="scale(0.5)";break;case"scale-out":r="scale(1.5)";break;case"rotate-in":r="rotate(-180deg)";break;case"bounce-in":r="scale(0.3)";break;case"flip-in":r="perspective(400px) rotateY(90deg)";break;case"zoom-in":r="scale(0.1)"}return r},c=function(e,t){var n=e.effectType,r=e.effectDuration,a=e.effectDelay,o=e.effectEasing;return"".concat(n,"-").concat(r,"-").concat(a,"-").concat(o,"-").concat(t)},l=function(e,t){return o(o({},i(e)),{},{transform:t?"none":s(e),opacity:e.effectEnabled&&"none"!==e.effectType&&!t?0:1,width:"100%",height:"100%"})};n(84249),n(87794),n(21379),n(42611),n(26294),n(9142),n(89892),n(10094),n(50215)},89892:function(e,t,n){"use strict";n.d(t,{ZL:function(){return c},lL:function(){return d},sU:function(){return u},w2:function(){return l}});var r=n(59499),a=n(46425);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return a.f0[e.toLowerCase()]||0},c=function(e,t){var n=s(e.name),r=s(t);return t.toLowerCase()===e.name.toLowerCase()?{text:"G\xf3i hiện tại",disabled:!0,type:"default",className:"bg-gray-100 text-gray-500 cursor-not-allowed",showButton:!0}:n<r?{text:"",disabled:!0,type:"default",className:"",showButton:!1}:{text:e.ctaText,disabled:!1,type:e.featured?"primary":e.popular?"primary":"default",className:e.featured?"premium-button":e.popular?"basic-button":"",showButton:!0}},l=function(e){var t=e.toLowerCase();return a.XX.map(function(e){var n,r=e.plans[t],a=e.text;return"limited"===r&&null!==(n=e.limitDetails)&&void 0!==n&&n[t]&&(a="".concat(e.text,": ").concat(e.limitDetails[t])),i(i({},e),{},{available:!0===r||"limited"===r,displayText:a})})},d=function(e,t){var n=a.XX.find(function(t){return t.id===e});if(!n)return!1;var r=t.toLowerCase(),o=n.plans[r];return!0===o||"limited"===o},u=function(e,t){var n,r=a.XX.find(function(t){return t.id===e});if(!r)return"";var o=t.toLowerCase();return(null===(n=r.limitDetails)||void 0===n?void 0:n[o])||""}},50215:function(e,t,n){"use strict";n.d(t,{l:function(){return o},z:function(){return a}});var r={COMPLETED:"completed",PENDING:"pending",PROCESSING:"processing",REJECTED:"rejected",CANCELLED:"cancelled"},a=function(e){switch(e){case r.COMPLETED:return"text-green-500";case r.PENDING:return"text-yellow-500";case r.PROCESSING:return"text-blue-500";case r.REJECTED:return"text-red-500";case r.CANCELLED:default:return"text-gray-500"}},o=function(e){switch(e){case r.COMPLETED:return"Ho\xe0n th\xe0nh";case r.PENDING:return"Đang chờ";case r.PROCESSING:return"Đang xử l\xfd";case r.REJECTED:return"Từ chối";case r.CANCELLED:return"Đ\xe3 hủy";default:return"Kh\xf4ng x\xe1c định"}}},88683:function(e){e.exports={presetPreviewCard:"transitionEffects_presetPreviewCard__ZTgca",selected:"transitionEffects_selected__TqKz8",lineClamp2:"transitionEffects_lineClamp2__4VhtW",transitionAll:"transitionEffects_transitionAll__DxZIk",hoverShadowMd:"transitionEffects_hoverShadowMd__kUVdz",hoverBgGray50:"transitionEffects_hoverBgGray50__lPfPo",gridCols2:"transitionEffects_gridCols2__TB8wY",gridCols3:"transitionEffects_gridCols3__Yj8Cc",gap3:"transitionEffects_gap3__BDQuM",cursorPointer:"transitionEffects_cursorPointer__pn2Aj",duration200:"transitionEffects_duration200__Ah0UZ",ring2:"transitionEffects_ring2___LwKT",ringBlue500:"transitionEffects_ringBlue500__T4y_i",bgBlue50:"transitionEffects_bgBlue50__BVrFf"}}}]);