"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5435],{25310:function(e,t,i){i(67294);var a=i(34447),n=i(99611),s=i(85893);t.Z=function(e){var t=e.favoriteCount,i=e.viewCount,r=e.vertical,l=void 0===r||r,c=e.size,o=void 0===c?"default":c,x="flex ".concat(l?"flex-col":"flex-row"," ").concat(l?"gap-1":"gap-2"," items-").concat(l?"end":"center"),d="rounded-full text-xs font-medium flex items-center ".concat("small"===o?"px-1.5 py-0.5 text-[10px]":"px-2 py-1");return(0,s.jsxs)("div",{className:x,children:[(0,s.jsxs)("div",{style:{background:"#ff4d6d"},className:"text-white ".concat(d),children:[(0,s.jsx)(a.Z,{style:{marginRight:4,fontSize:"small"===o?10:14}}),void 0===t?0:t]}),(0,s.jsxs)("div",{className:"bg-blue-500 text-white ".concat(d),children:[(0,s.jsx)(n.Z,{style:{marginRight:4,fontSize:"small"===o?10:14}}),void 0===i?0:i]})]})}},65435:function(e,t,i){i.d(t,{Z:function(){return I}});var a=i(19848),n=i.n(a),s=i(67294),r=i(50029),l=i(87794),c=i.n(l),o=i(53298),x=i(80122),d=i(7764),m=i(2453),h=i(83062),p=i(74330),u=i(83622),f=i(92592),g=i(34447),j=i(49647),b=i(97937),v=i(11163),y=i(33299),w=i(71725),N=i(25310),k=i(85518),C=i(62973),Z=i(85893),S=function(e){var t,i,a,n=e.templateData,l=e.isFavorited,S=void 0!==l&&l,P=e.showUseTemplate,I=void 0===P||P,T=(0,v.useRouter)(),z=(0,s.useState)(!1),F=z[0],_=z[1],E=(0,s.useState)(!0),R=E[0],H=E[1],L=(0,s.useState)(""),M=L[0],D=L[1],Y=n.id,V=n.slug,U=(0,s.useState)(!1),q=U[0],A=U[1],B=(0,s.useState)(!1),W=B[0],X=B[1],G="authenticated"===(0,y.useSession)().status,Q=(0,s.useState)(S),O=Q[0],J=Q[1],K=(0,s.useState)(!1),$=K[0],ee=K[1];(0,s.useEffect)(function(){J(S)},[S]);var et=(0,w.M)().toggleFavorite,ei="".concat(d.Z.APP_URL,"/template/").concat(V);(0,s.useEffect)(function(){ea()},[]);var ea=(t=(0,r.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.toDataURL(ei,{width:128,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"});case 3:D(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error generating QR code:",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return t.apply(this,arguments)}),en=function(){_(!1),H(!0)},es=(i=(0,r.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A(!0),e.next=4,T.push("/editor-template/".concat(Y));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Navigation error:",e.t0),A(!1);case 10:case"end":return e.stop()}},e,null,[[0,6]])})),function(){return i.apply(this,arguments)}),er=(a=(0,r.Z)(c().mark(function e(){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return");case 2:if(G){e.next=5;break}return m.ZP.error("Vui l\xf2ng đăng nhập để th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"),e.abrupt("return");case 5:return X(!0),e.prev=6,t=O,J(!O),e.next=11,et(Y);case 11:e.sent?m.ZP.success(t?"Đ\xe3 x\xf3a khỏi danh s\xe1ch y\xeau th\xedch":"Đ\xe3 th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch"):(J(t),m.ZP.error("Kh\xf4ng thể cập nhật trạng th\xe1i y\xeau th\xedch. Vui l\xf2ng thử lại sau.")),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),console.error("Error updating favorite status:",e.t0),J(S),m.ZP.error("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại sau.");case 20:return e.prev=20,X(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[6,15,20,23]])})),function(){return a.apply(this,arguments)});return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:"flex gap-2 items-center flex-col",children:(0,Z.jsx)("div",{className:"",children:(0,Z.jsx)("button",{onClick:function(){_(!0)},style:{background:"linear-gradient(135deg, #fa7f98 0%, #e66f87 100%)",borderRadius:40},className:"px-4 py-1 text-white font-semibold rounded opacity-70 hover:opacity-100 transition-opacity duration-200",children:"Xem mẫu"})})}),(0,Z.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-1 left-1 py-0.5",children:(0,Z.jsx)(h.Z,{title:O?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:(0,Z.jsx)("button",{onClick:er,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":O?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:O?(0,Z.jsx)(g.Z,{style:{fontSize:25,color:"#ff4d6d"}}):(0,Z.jsx)(j.Z,{style:{fontSize:25,color:"#ff4d6d"}})})})}),(0,Z.jsx)("div",{className:"absolute top-2 right-2",children:(0,Z.jsx)(N.Z,{favoriteCount:n.favoriteCount,viewCount:n.viewCount,usageCount:n.usageCount,vertical:!0})}),(0,Z.jsx)(o.u,{appear:!0,show:F,as:s.Fragment,children:(0,Z.jsxs)(x.Vq,{style:{zIndex:9999},as:"div",className:"relative z-10",onClose:en,children:[(0,Z.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-400",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,Z.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,Z.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,Z.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,Z.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-400",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,Z.jsxs)(x.Vq.Panel,{className:"w-full max-w-md md:max-w-2xl lg:max-w-2xl xl:max-w-3xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,Z.jsx)("div",{className:"flex justify-center items-center",children:(0,Z.jsxs)("div",{className:"max-w-4xl w-full p-2 flex flex-col md:flex-row",children:[(0,Z.jsxs)("div",{className:"flex flex-col items-center w-full md:w-1/2 px-2 rounded-lg",children:[(0,Z.jsx)("div",{className:"text-pink-400 font-semibold mb-2 flex items-center justify-between w-full absolute top-2 left-1 py-0.5",children:(0,Z.jsx)("button",{onClick:er,className:"ml-2 flex items-center justify-center text-pink-500","aria-label":O?"X\xf3a khỏi y\xeau th\xedch":"Th\xeam v\xe0o y\xeau th\xedch",children:O?(0,Z.jsx)(g.Z,{style:{fontSize:25,color:"#ff4d6d"}}):(0,Z.jsx)(j.Z,{style:{fontSize:25,color:"#ff4d6d"}})})}),(0,Z.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,Z.jsx)(N.Z,{favoriteCount:n.favoriteCount,viewCount:n.viewCount,usageCount:n.usageCount,vertical:!0})}),(0,Z.jsxs)("div",{className:"iframe-wrapper bg-white rounded-lg overflow-hidden shadow-md w-full relative",style:{width:"90%",height:"70vh",overflow:"hidden"},children:[R&&(0,Z.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:(0,Z.jsx)(p.Z,{size:"default",tip:"Loading template..."})}),(0,Z.jsx)("iframe",{src:"".concat(d.Z.APP_URL,"/template/iframe/").concat(V),title:"Xem trước mẫu thiệp",style:{width:"166.67%",height:"166.67%",transform:"scale(0.6)",transformOrigin:"top left",border:"none",visibility:R?"hidden":"visible"},frameBorder:"0",allowFullScreen:!0,onLoad:function(){H(!1)}})]})]}),(0,Z.jsxs)("div",{className:"w-full md:w-1/2 flex flex-col justify-between p-4 border-l",children:[(0,Z.jsx)("div",{className:"mb-4 hidden md:block",children:I?(0,Z.jsxs)("ul",{className:"text-gray-700 space-y-2",children:[(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Chuy\xean nghiệp:"})," Thiết kế đẹp mắt, ph\xf9 hợp nhiều phong c\xe1ch"]}),(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Dễ d\xe0ng:"})," Chỉnh sửa trực quan, kh\xf4ng cần kinh nghiệm"]}),(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Tiện lợi:"})," Chia sẻ ngay qua mạng x\xe3 hội hoặc tin nhắn"]}),(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Tối ưu:"})," Hiển thị tốt tr\xean mọi thiết bị"]})]}):(0,Z.jsxs)("div",{className:"text-center",children:[(0,Z.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Dịch vụ tạo thiệp trọn g\xf3i"}),(0,Z.jsxs)("ul",{className:"text-gray-700 space-y-2 text-left",children:[(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Thiết kế chuy\xean nghiệp:"})," Đội ngũ designer tạo thiệp theo y\xeau cầu"]}),(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Ho\xe0n thiện 100%:"})," Từ thiết kế đến triển khai, bạn kh\xf4ng cần l\xe0m g\xec"]}),(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Thời gian nhanh:"})," Ho\xe0n th\xe0nh sau 1-3 ng\xe0y l\xe0m việc"]}),(0,Z.jsxs)("li",{children:[(0,Z.jsx)("strong",{children:"Hỗ trợ 24/7:"})," Đội ngũ chuy\xean nghiệp lu\xf4n sẵn s\xe0ng hỗ trợ"]})]})]})}),(0,Z.jsxs)("div",{className:"flex space-x-4 ".concat(I?"justify-between":"justify-center"),children:[(0,Z.jsx)(u.ZP,{className:"px-4 m-auto py-2 rounded-full",onClick:function(){var e=I?ei:"".concat(ei).concat(ei.includes("?")?"&":"?","onlyPreview=true");window.open(e,"_blank")},children:"Xem trực tiếp"}),I?(0,Z.jsx)(u.ZP,{onClick:es,type:"primary",className:"px-4 m-auto py-2 text-white font-semibold rounded-full hover:opacity-100 transition-opacity duration-200",disabled:q,children:q?(0,Z.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Z.jsx)(p.Z,{size:"small"}),"Đang chuyển hướng..."]}):"D\xf9ng mẫu n\xe0y"}):(0,Z.jsx)(u.ZP,{onClick:function(){ee(!0)},type:"primary",className:"px-6 py-2 text-white font-semibold rounded-full hover:opacity-100 transition-opacity duration-200 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700",children:"Đặt l\xe0m mẫu n\xe0y"})]}),!k.tq&&(0,Z.jsxs)("div",{className:"flex flex-col items-center",children:[M?(0,Z.jsx)("img",{src:M,alt:"QR Code",className:"w-32 h-32 mb-4"}):(0,Z.jsx)("div",{className:"w-32 h-32 mb-4 flex items-center justify-center",children:(0,Z.jsx)(p.Z,{size:"small"})}),(0,Z.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:"Qu\xe9t m\xe3 QR để xem tr\xean điện thoại"})]})]})]})}),(0,Z.jsx)("div",{className:"mt-2 md:hidden flex justify-center",children:(0,Z.jsxs)("button",{onClick:en,className:"w-full max-w-sm py-3 px-4 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[(0,Z.jsx)(b.Z,{}),"Đ\xf3ng"]})})]})})})})]})}),!I&&(0,Z.jsx)(C.Z,{open:$,onCancel:function(){return ee(!1)},templateId:Y,onSuccess:function(){console.log("Package selection completed successfully")}})]})},P=i(9472),I=function(e){var t,i,a,r,l=e.imageSrc,c=e.templateData,o=e.showUseTemplate,x=(0,s.useState)(0),d=x[0],m=x[1],h=(0,s.useRef)(null),p=(0,s.useState)(336),u=p[0],f=p[1],g=(0,s.useRef)(null),j=(0,(0,w.M)().isFavorite)(c.id),b=(t=new Date,a=(i=c.createdAt?new Date(c.createdAt):null)&&t.getTime()-i.getTime()<=5184e6,r=c.viewCount&&c.viewCount>1e3||c.favoriteCount&&c.favoriteCount>100||c.usageCount&&c.usageCount>800,a&&r||a?{type:"new",priority:1}:r?{type:"hot",priority:2}:null),v=c.templateType?{type:c.templateType.toLowerCase(),text:c.templateType.toUpperCase()}:{type:"free",text:"FREE"};(0,s.useEffect)(function(){var e=function(){var e=g.current;e&&f(Math.floor(1.47*e.clientWidth))};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(function(){var e=h.current;e&&(e.complete?y(e):e.onload=function(){return y(e)})},[l,u]);var y=function(e){var t=e.naturalWidth/e.naturalHeight;m(Math.max(0,e.width/t-u))};return(0,Z.jsxs)("div",{style:{"--image-scroll-height":"".concat(d,"px"),"--scroll-duration":"".concat(d/120,"s"),"--container-height":"".concat(u,"px")},className:"jsx-2086975127 infrastructure",children:[(0,Z.jsxs)("div",{style:{width:"100%",borderRadius:5},className:"jsx-2086975127 invitation finger transition",children:[(0,Z.jsxs)("div",{ref:g,className:"jsx-2086975127 image",children:[b&&(0,Z.jsx)("div",{className:"jsx-2086975127 "+"badge badge-".concat(b.type),children:"new"===b.type?"NEW":"HOT"}),v&&(0,Z.jsx)("div",{className:"jsx-2086975127 "+"badge badge-".concat(v.type," badge-right"),children:v.text}),(0,Z.jsx)("div",{className:"jsx-2086975127 el-image elImage",children:(0,Z.jsx)("img",{ref:h,src:l,alt:"".concat((0,P.g)(c.categoryId)," miễn ph\xed - ").concat(c.templateName||(0,P.g)(c.categoryId)," | Cinelove"),title:"Xem v\xe0 t\xf9y chỉnh ".concat(c.templateName||(0,P.g)(c.categoryId)," miễn ph\xed"),style:{objectFit:"contain"},loading:"lazy",decoding:"async",className:"jsx-2086975127 el-image__inner"})})]}),(0,Z.jsx)("div",{className:"jsx-2086975127",children:(0,Z.jsx)("div",{className:"jsx-2086975127 absolute inset-0 flex items-end justify-center opacity-0 transition-opacity duration-300 hover:opacity-100 pb-4",children:(0,Z.jsx)(S,{templateData:c,isFavorited:j,showUseTemplate:void 0===o||o})})})]}),(0,Z.jsx)(n(),{id:"2086975127",children:[".invitation.jsx-2086975127,.poster.jsx-2086975127,.mv.jsx-2086975127{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".invitation.jsx-2086975127{border:1px solid #0000001f;box-shadow:0 0 10px #0003;}",".finger.jsx-2086975127{cursor:pointer;}",".transition.jsx-2086975127{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}",".invitation.jsx-2086975127 .image.jsx-2086975127{height:var(--container-height);overflow:hidden;width:100%;border-radius:5px;position:relative;}",".poster.jsx-2086975127 .image.jsx-2086975127{width:100%;border-radius:5px;}",".elImage.jsx-2086975127{width:100%;height:100%;}",".el-image__inner.jsx-2086975127,.el-image__wrapper.jsx-2086975127{height:100%;width:100%;}",".el-image.jsx-2086975127{display:inline-block;overflow:hidden;position:relative;}",".elImage.jsx-2086975127 .el-image__inner.jsx-2086975127{height:auto;-webkit-transition:-webkit-transform 1s ease 0s;-webkit-transition:transform 1s ease 0s;transition:transform 1s ease 0s;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}",".el-image__inner.jsx-2086975127{opacity:1;vertical-align:top;}",".invitation.jsx-2086975127:hover,.poster.jsx-2086975127:hover{background:#fff !important;-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);box-shadow:0 0 10px #0003;}",".invitation.jsx-2086975127:hover .elImage.jsx-2086975127 .el-image__inner.jsx-2086975127,.poster.jsx-2086975127:hover .elImage.jsx-2086975127 .el-image__inner.jsx-2086975127{-webkit-transition:-webkit-transform var(--scroll-duration) ease 0s;-webkit-transition:transform var(--scroll-duration) ease 0s;transition:transform var(--scroll-duration) ease 0s;-webkit-transform:translateY(calc(var(--image-scroll-height) * -1));-ms-transform:translateY(calc(var(--image-scroll-height) * -1));transform:translateY(calc(var(--image-scroll-height) * -1));}",".center.jsx-2086975127{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".badge.jsx-2086975127{position:absolute;top:8px;left:8px;z-index:1;padding:2px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase;-webkit-letter-spacing:0.5px;-moz-letter-spacing:0.5px;-ms-letter-spacing:0.5px;letter-spacing:0.5px;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);-webkit-transition:all 0.2s ease;transition:all 0.2s ease;line-height:17px;}",".badge-new.jsx-2086975127{background:linear-gradient(135deg,#10b981,#059669);color:white;}",".badge-hot.jsx-2086975127{background:linear-gradient(135deg,#f59e0b,#d97706);color:white;}",".badge-premium.jsx-2086975127{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:white;}",".badge-basic.jsx-2086975127{background:linear-gradient(135deg,#3b82f6,#2563eb);color:white;}",".badge-free.jsx-2086975127{background:linear-gradient(135deg,#6b7280,#4b5563);color:white;display:none;}",".badge-right.jsx-2086975127{top:8px;right:8px;left:auto;}",".invitation.jsx-2086975127:hover .badge.jsx-2086975127{opacity:0;-webkit-transform:scale(0.8);-ms-transform:scale(0.8);transform:scale(0.8);-webkit-transition:all 0.3s ease;transition:all 0.3s ease;-webkit-transform:translateY(-40px);-ms-transform:translateY(-40px);transform:translateY(-40px);}","@media (max-width:500px){.button.jsx-2086975127{font-size:12px;padding:6px 10px;}.badge.jsx-2086975127{font-size:10px;padding:2px 6px;top:6px;left:6px;border-radius:8px;}.badge-right.jsx-2086975127{top:6px;right:6px;left:auto;}}"]})]})}},62973:function(e,t,i){var a=i(67294),n=i(17788),s=i(83622),r=i(12399),l=i(75750),c=i(54811),o=i(9758),x=i(46425),d=i(59957),m=i(85893);t.Z=function(e){var t=e.open,i=e.onCancel,h=e.templateId,p=e.onSuccess,u=(0,a.useState)(null),f=u[0],g=u[1],j=(0,a.useState)(!1),b=j[0],v=j[1],y=function(e){var t=parseInt(x.ec[e].price.replace(/[^\d]/g,"")),i=0;switch(e){case"free":default:i=0;break;case"basic":i=parseInt(x.Hg.BASIC.price.replace(/[^\d]/g,""));break;case"premium":i=parseInt(x.Hg.PREMIUM.price.replace(/[^\d]/g,""))}return t+i},w=[{id:"free",name:"G\xf3i 1 (Free)",icon:(0,m.jsx)(r.Z,{className:"w-5 h-5"}),color:"bg-green-500",price:"".concat(x.ec.free.price,"đ"),originalPrice:null,description:"Free Templates"},{id:"basic",name:"G\xf3i 2 (Basic)",icon:(0,m.jsx)(l.Z,{className:"w-5 h-5"}),color:"bg-blue-500",price:"".concat(x.ec.basic.price,"đ"),originalPrice:"".concat(x.ec.basic.originalPrice,"đ"),description:"Basic Templates"},{id:"premium",name:"G\xf3i 3 (Premium)",icon:(0,m.jsx)(c.Z,{className:"w-5 h-5"}),color:"bg-purple-500",price:"".concat(x.ec.premium.price,"đ"),originalPrice:"".concat(x.ec.premium.originalPrice,"đ"),description:"Premium Templates"}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.Z,{title:"Chọn g\xf3i dịch vụ",open:t&&!b,onCancel:i,footer:(0,m.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,m.jsx)(s.ZP,{onClick:i,children:"Hủy"}),(0,m.jsx)(s.ZP,{type:"primary",onClick:function(){f&&v(!0)},disabled:!f,className:"bg-gradient-to-r from-pink-500 to-purple-600 border-0",children:"Tiếp tục"})]}),width:600,centered:!0,className:"package-selection-modal",zIndex:99999999,maskStyle:{zIndex:99999998},children:(0,m.jsxs)("div",{className:"py-2",children:[(0,m.jsx)("p",{className:"text-gray-600 mb-3 text-center text-sm",children:"Chọn g\xf3i dịch vụ ph\xf9 hợp để tạo thiệp theo mẫu n\xe0y"}),(0,m.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-3",children:(0,m.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("span",{className:"text-lg mr-2",children:"\uD83C\uDFA8"}),(0,m.jsx)("span",{className:"font-medium text-gray-700",children:"Ph\xed tạo thiệp:"})]}),(0,m.jsx)("span",{className:"font-bold text-gray-800",children:f?"".concat(x.ec[f].price,"đ"):"Chọn g\xf3i để xem gi\xe1"})]})}),(0,m.jsx)("div",{className:"grid gap-3",children:w.map(function(e){return(0,m.jsxs)("div",{className:"border rounded-lg p-3 cursor-pointer transition-all hover:shadow-md ".concat(f===e.id?"border-pink-500 bg-pink-50 ring-2 ring-pink-200":"border-gray-200"),onClick:function(){return g(e.id)},children:[(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,m.jsx)("div",{className:"p-2 rounded-full text-white ".concat(e.color),children:e.icon}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"font-semibold text-gray-800 text-sm",children:e.name}),(0,m.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]})]}),(0,m.jsxs)("div",{className:"text-right",children:[(0,m.jsx)("div",{className:"flex items-center space-x-2",children:"free"===e.id?(0,m.jsx)("span",{className:"text-base font-bold text-green-600",children:"0đ"}):(0,m.jsxs)(m.Fragment,{children:[e.originalPrice&&(0,m.jsxs)("span",{className:"text-xs text-gray-400 line-through",children:[e.originalPrice,"đ"]}),(0,m.jsx)("span",{className:"text-base font-bold text-gray-800",children:"basic"===e.id?"".concat(x.Hg.BASIC.price,"đ"):"".concat(x.Hg.PREMIUM.price,"đ")})]})}),"free"!==e.id&&e.originalPrice&&(0,m.jsxs)("div",{className:"text-xs text-red-500 font-medium",children:["-",Math.round((1-parseInt("basic"===e.id?x.Hg.BASIC.price.replace(/[^\d]/g,""):x.Hg.PREMIUM.price.replace(/[^\d]/g,""))/parseInt(e.originalPrice.replace(/[^\d]/g,"")))*100),"%"]})]})]}),(0,m.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:(0,m.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs text-gray-600",children:[(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&o.an.free.duration,"basic"===e.id&&o.an.basic.duration,"premium"===e.id&&o.an.premium.duration]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Lưu trữ"})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&"".concat(o.an.free.maxImages),"basic"===e.id&&"".concat(o.an.basic.maxImages),"premium"===e.id&&"".concat(o.an.premium.maxImages)]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Ảnh"})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&"".concat(o.an.free.maxWebsites),"basic"===e.id&&"".concat(o.an.basic.maxWebsites),"premium"===e.id&&"".concat(o.an.premium.maxWebsites)]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Website/thiệp"})]}),(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("div",{className:"font-medium",children:["free"===e.id&&"".concat(o.an.free.maxViews.toLocaleString()),"basic"===e.id&&"".concat(o.an.basic.maxViews.toLocaleString()),"premium"===e.id&&"".concat(o.an.premium.maxViews.toLocaleString())]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Lượt xem"})]})]})})]},e.id)})}),f&&(0,m.jsxs)("div",{className:"mt-4 bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-3",children:[(0,m.jsxs)("div",{className:"text-center flex items-center gap-2",children:[(0,m.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:"Tổng cộng:"}),(0,m.jsxs)("div",{className:"text-xl font-bold text-pink-600 mb-1",children:[y(f).toLocaleString(),"đ"]})]}),(0,m.jsx)("div",{className:"text-xs text-gray-500",children:"Bao gồm ph\xed thiết kế + n\xe2ng cấp g\xf3i"})]})]})}),(0,m.jsx)(d.Z,{open:b,onCancel:function(){v(!1),g(null)},selectedPlan:f||"free",totalPrice:f?y(f):139e3,templateId:h,onSuccess:function(){v(!1),g(null),i(),null==p||p()}})]})}},59957:function(e,t,i){var a=i(50029),n=i(16835),s=i(87794),r=i.n(s);i(67294);var l=i(99859),c=i(2453),o=i(17788),x=i(38289),d=i(83622),m=i(11163),h=i(85893);t.Z=function(e){var t,i=e.open,s=e.onCancel,p=e.selectedPlan,u=e.totalPrice,f=e.templateId,g=e.onSuccess,j=(0,m.useRouter)(),b=l.Z.useForm(),v=(0,n.Z)(b,1)[0],y=(t=(0,a.Z)(r().mark(function e(t){var i;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{i={name:t.name,email:t.email,phone:t.phone,notes:t.notes,templateId:f,packageId:p,totalPrice:u},localStorage.setItem("thiepTronGoiCheckoutData",JSON.stringify(i)),s(),v.resetFields(),g&&g(),j.push("/checkout/thiep-tron-goi")}catch(e){c.ZP.error("C\xf3 lỗi xảy ra, vui l\xf2ng thử lại")}case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),w=function(){s(),v.resetFields()};return(0,h.jsx)(o.Z,{title:"Đăng k\xfd tạo thiệp trọn g\xf3i",open:i,onCancel:w,footer:null,width:500,zIndex:99999999,maskStyle:{zIndex:99999998},centered:!0,children:(0,h.jsx)("div",{className:"py-4",children:(0,h.jsxs)(l.Z,{form:v,layout:"vertical",onFinish:y,className:"space-y-4",children:[(0,h.jsx)(l.Z.Item,{name:"name",label:"Họ v\xe0 t\xean",rules:[{required:!0,message:"Vui l\xf2ng nhập họ v\xe0 t\xean"},{min:2,message:"Họ v\xe0 t\xean phải c\xf3 \xedt nhất 2 k\xfd tự"}],children:(0,h.jsx)(x.Z,{placeholder:"Nhập họ v\xe0 t\xean của bạn"})}),(0,h.jsx)(l.Z.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Vui l\xf2ng nhập email"},{type:"email",message:"Email kh\xf4ng hợp lệ"}],children:(0,h.jsx)(x.Z,{placeholder:"Nhập email của bạn"})}),(0,h.jsx)(l.Z.Item,{name:"phone",label:"Số điện thoại",rules:[{required:!0,message:"Vui l\xf2ng nhập số điện thoại"},{pattern:/^[0-9]{10,11}$/,message:"Số điện thoại kh\xf4ng hợp lệ"}],children:(0,h.jsx)(x.Z,{placeholder:"Nhập số điện thoại của bạn"})}),(0,h.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,h.jsx)(d.ZP,{onClick:w,children:"Hủy"}),(0,h.jsx)(d.ZP,{type:"primary",htmlType:"submit",className:"bg-gradient-to-r from-pink-500 to-purple-600 border-0",children:"Tiếp tục thanh to\xe1n"})]})]})})})}},9472:function(e,t,i){i.d(t,{L:function(){return a},g:function(){return n}});var a=function(e){return"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0"))},n=function(e){return"thiep-cuoi"===e?"Thiệp cưới online":"thiep-sinh-nhat"===e?"Thiệp sinh nhật online":"Thiệp online"}}}]);